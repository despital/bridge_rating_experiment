/*! For license information please see app.js.LICENSE.txt */
!function(){var t={19662:function(t,e,n){var r=n(60614),i=n(66330),s=TypeError;t.exports=function(t){if(r(t))return t;throw s(i(t)+" is not a function")}},39483:function(t,e,n){var r=n(4411),i=n(66330),s=TypeError;t.exports=function(t){if(r(t))return t;throw s(i(t)+" is not a constructor")}},96077:function(t,e,n){var r=n(60614),i=String,s=TypeError;t.exports=function(t){if("object"==typeof t||r(t))return t;throw s("Can't set "+i(t)+" as a prototype")}},51223:function(t,e,n){var r=n(5112),i=n(70030),s=n(3070).f,o=r("unscopables"),a=Array.prototype;null==a[o]&&s(a,o,{configurable:!0,value:i(null)}),t.exports=function(t){a[o][t]=!0}},31530:function(t,e,n){"use strict";var r=n(28710).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},25787:function(t,e,n){var r=n(47976),i=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw i("Incorrect invocation")}},19670:function(t,e,n){var r=n(70111),i=String,s=TypeError;t.exports=function(t){if(r(t))return t;throw s(i(t)+" is not an object")}},23013:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7556:function(t,e,n){var r=n(47293);t.exports=r((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},90260:function(t,e,n){"use strict";var r,i,s,o=n(23013),a=n(19781),u=n(17854),l=n(60614),c=n(70111),h=n(92597),d=n(70648),f=n(66330),p=n(68880),m=n(98052),g=n(47045),v=n(47976),y=n(79518),_=n(27674),b=n(5112),w=n(69711),I=n(29909),P=I.enforce,T=I.get,E=u.Int8Array,j=E&&E.prototype,k=u.Uint8ClampedArray,S=k&&k.prototype,x=E&&y(E),C=j&&y(j),R=Object.prototype,O=u.TypeError,A=b("toStringTag"),N=w("TYPED_ARRAY_TAG"),L="TypedArrayConstructor",M=o&&!!_&&"Opera"!==d(u.opera),D=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},G={BigInt64Array:8,BigUint64Array:8},U=function(t){var e=y(t);if(c(e)){var n=T(e);return n&&h(n,L)?n[L]:U(e)}},q=function(t){if(!c(t))return!1;var e=d(t);return h(F,e)||h(G,e)};for(r in F)(s=(i=u[r])&&i.prototype)?P(s)[L]=i:M=!1;for(r in G)(s=(i=u[r])&&i.prototype)&&(P(s)[L]=i);if((!M||!l(x)||x===Function.prototype)&&(x=function(){throw O("Incorrect invocation")},M))for(r in F)u[r]&&_(u[r],x);if((!M||!C||C===R)&&(C=x.prototype,M))for(r in F)u[r]&&_(u[r].prototype,C);if(M&&y(S)!==C&&_(S,C),a&&!h(C,A))for(r in D=!0,g(C,A,{configurable:!0,get:function(){return c(this)?this[N]:void 0}}),F)u[r]&&p(u[r],N,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:D&&N,aTypedArray:function(t){if(q(t))return t;throw O("Target is not a typed array")},aTypedArrayConstructor:function(t){if(l(t)&&(!_||v(x,t)))return t;throw O(f(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n,r){if(a){if(n)for(var i in F){var s=u[i];if(s&&h(s.prototype,t))try{delete s.prototype[t]}catch(n){try{s.prototype[t]=e}catch(t){}}}C[t]&&!n||m(C,t,n?e:M&&j[t]||e,r)}},exportTypedArrayStaticMethod:function(t,e,n){var r,i;if(a){if(_){if(n)for(r in F)if((i=u[r])&&h(i,t))try{delete i[t]}catch(t){}if(x[t]&&!n)return;try{return m(x,t,n?e:M&&x[t]||e)}catch(t){}}for(r in F)!(i=u[r])||i[t]&&!n||m(i,t,e)}},getTypedArrayConstructor:U,isView:function(t){if(!c(t))return!1;var e=d(t);return"DataView"===e||h(F,e)||h(G,e)},isTypedArray:q,TypedArray:x,TypedArrayPrototype:C}},13331:function(t,e,n){"use strict";var r=n(17854),i=n(1702),s=n(19781),o=n(23013),a=n(76530),u=n(68880),l=n(47045),c=n(89190),h=n(47293),d=n(25787),f=n(19303),p=n(17466),m=n(57067),g=n(11179),v=n(79518),y=n(27674),_=n(8006).f,b=n(21285),w=n(41589),I=n(58003),P=n(29909),T=a.PROPER,E=a.CONFIGURABLE,j="ArrayBuffer",k="DataView",S="prototype",x="Wrong index",C=P.getterFor(j),R=P.getterFor(k),O=P.set,A=r[j],N=A,L=N&&N[S],M=r[k],D=M&&M[S],F=Object.prototype,G=r.Array,U=r.RangeError,q=i(b),B=i([].reverse),z=g.pack,H=g.unpack,W=function(t){return[255&t]},V=function(t){return[255&t,t>>8&255]},K=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},$=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},Y=function(t){return z(t,23,4)},J=function(t){return z(t,52,8)},Q=function(t,e,n){l(t[S],e,{configurable:!0,get:function(){return n(this)[e]}})},X=function(t,e,n,r){var i=m(n),s=R(t);if(i+e>s.byteLength)throw U(x);var o=s.bytes,a=i+s.byteOffset,u=w(o,a,a+e);return r?u:B(u)},Z=function(t,e,n,r,i,s){var o=m(n),a=R(t);if(o+e>a.byteLength)throw U(x);for(var u=a.bytes,l=o+a.byteOffset,c=r(+i),h=0;h<e;h++)u[l+h]=c[s?h:e-h-1]};if(o){var tt=T&&A.name!==j;if(h((function(){A(1)}))&&h((function(){new A(-1)}))&&!h((function(){return new A,new A(1.5),new A(NaN),1!=A.length||tt&&!E})))tt&&E&&u(A,"name",j);else{(N=function(t){return d(this,L),new A(m(t))})[S]=L;for(var et,nt=_(A),rt=0;nt.length>rt;)(et=nt[rt++])in N||u(N,et,A[et]);L.constructor=N}y&&v(D)!==F&&y(D,F);var it=new M(new N(2)),st=i(D.setInt8);it.setInt8(0,2147483648),it.setInt8(1,2147483649),!it.getInt8(0)&&it.getInt8(1)||c(D,{setInt8:function(t,e){st(this,t,e<<24>>24)},setUint8:function(t,e){st(this,t,e<<24>>24)}},{unsafe:!0})}else L=(N=function(t){d(this,L);var e=m(t);O(this,{type:j,bytes:q(G(e),0),byteLength:e}),s||(this.byteLength=e,this.detached=!1)})[S],D=(M=function(t,e,n){d(this,D),d(t,L);var r=C(t),i=r.byteLength,o=f(e);if(o<0||o>i)throw U("Wrong offset");if(o+(n=void 0===n?i-o:p(n))>i)throw U("Wrong length");O(this,{type:k,buffer:t,byteLength:n,byteOffset:o,bytes:r.bytes}),s||(this.buffer=t,this.byteLength=n,this.byteOffset=o)})[S],s&&(Q(N,"byteLength",C),Q(M,"buffer",R),Q(M,"byteLength",R),Q(M,"byteOffset",R)),c(D,{getInt8:function(t){return X(this,1,t)[0]<<24>>24},getUint8:function(t){return X(this,1,t)[0]},getInt16:function(t){var e=X(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=X(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return $(X(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return $(X(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return H(X(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return H(X(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){Z(this,1,t,W,e)},setUint8:function(t,e){Z(this,1,t,W,e)},setInt16:function(t,e){Z(this,2,t,V,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){Z(this,2,t,V,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){Z(this,4,t,K,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){Z(this,4,t,K,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){Z(this,4,t,Y,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){Z(this,8,t,J,e,arguments.length>2?arguments[2]:void 0)}});I(N,j),I(M,k),t.exports={ArrayBuffer:N,DataView:M}},1048:function(t,e,n){"use strict";var r=n(47908),i=n(51400),s=n(26244),o=n(85117),a=Math.min;t.exports=[].copyWithin||function(t,e){var n=r(this),u=s(n),l=i(t,u),c=i(e,u),h=arguments.length>2?arguments[2]:void 0,d=a((void 0===h?u:i(h,u))-c,u-l),f=1;for(c<l&&l<c+d&&(f=-1,c+=d-1,l+=d-1);d-- >0;)c in n?n[l]=n[c]:o(n,l),l+=f,c+=f;return n}},21285:function(t,e,n){"use strict";var r=n(47908),i=n(51400),s=n(26244);t.exports=function(t){for(var e=r(this),n=s(e),o=arguments.length,a=i(o>1?arguments[1]:void 0,n),u=o>2?arguments[2]:void 0,l=void 0===u?n:i(u,n);l>a;)e[a++]=t;return e}},18533:function(t,e,n){"use strict";var r=n(42092).forEach,i=n(9341)("forEach");t.exports=i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},97745:function(t,e,n){var r=n(26244);t.exports=function(t,e){for(var n=0,i=r(e),s=new t(i);i>n;)s[n]=e[n++];return s}},48457:function(t,e,n){"use strict";var r=n(49974),i=n(46916),s=n(47908),o=n(53411),a=n(97659),u=n(4411),l=n(26244),c=n(86135),h=n(18554),d=n(71246),f=Array;t.exports=function(t){var e=s(t),n=u(this),p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m;g&&(m=r(m,p>2?arguments[2]:void 0));var v,y,_,b,w,I,P=d(e),T=0;if(!P||this===f&&a(P))for(v=l(e),y=n?new this(v):f(v);v>T;T++)I=g?m(e[T],T):e[T],c(y,T,I);else for(w=(b=h(e,P)).next,y=n?new this:[];!(_=i(w,b)).done;T++)I=g?o(b,m,[_.value,T],!0):_.value,c(y,T,I);return y.length=T,y}},41318:function(t,e,n){var r=n(45656),i=n(51400),s=n(26244),o=function(t){return function(e,n,o){var a,u=r(e),l=s(u),c=i(o,l);if(t&&n!=n){for(;l>c;)if((a=u[c++])!=a)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},9671:function(t,e,n){var r=n(49974),i=n(68361),s=n(47908),o=n(26244),a=function(t){var e=1==t;return function(n,a,u){for(var l,c=s(n),h=i(c),d=r(a,u),f=o(h);f-- >0;)if(d(l=h[f],f,c))switch(t){case 0:return l;case 1:return f}return e?-1:void 0}};t.exports={findLast:a(0),findLastIndex:a(1)}},42092:function(t,e,n){var r=n(49974),i=n(1702),s=n(68361),o=n(47908),a=n(26244),u=n(65417),l=i([].push),c=function(t){var e=1==t,n=2==t,i=3==t,c=4==t,h=6==t,d=7==t,f=5==t||h;return function(p,m,g,v){for(var y,_,b=o(p),w=s(b),I=r(m,g),P=a(w),T=0,E=v||u,j=e?E(p,P):n||d?E(p,0):void 0;P>T;T++)if((f||T in w)&&(_=I(y=w[T],T,b),t))if(e)j[T]=_;else if(_)switch(t){case 3:return!0;case 5:return y;case 6:return T;case 2:l(j,y)}else switch(t){case 4:return!1;case 7:l(j,y)}return h?-1:i||c?c:j}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},86583:function(t,e,n){"use strict";var r=n(22104),i=n(45656),s=n(19303),o=n(26244),a=n(9341),u=Math.min,l=[].lastIndexOf,c=!!l&&1/[1].lastIndexOf(1,-0)<0,h=a("lastIndexOf"),d=c||!h;t.exports=d?function(t){if(c)return r(l,this,arguments)||0;var e=i(this),n=o(e),a=n-1;for(arguments.length>1&&(a=u(a,s(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:l},81194:function(t,e,n){var r=n(47293),i=n(5112),s=n(7392),o=i("species");t.exports=function(t){return s>=51||!r((function(){var e=[];return(e.constructor={})[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},9341:function(t,e,n){"use strict";var r=n(47293);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){return 1},1)}))}},53671:function(t,e,n){var r=n(19662),i=n(47908),s=n(68361),o=n(26244),a=TypeError,u=function(t){return function(e,n,u,l){r(n);var c=i(e),h=s(c),d=o(c),f=t?d-1:0,p=t?-1:1;if(u<2)for(;;){if(f in h){l=h[f],f+=p;break}if(f+=p,t?f<0:d<=f)throw a("Reduce of empty array with no initial value")}for(;t?f>=0:d>f;f+=p)f in h&&(l=n(l,h[f],f,c));return l}};t.exports={left:u(!1),right:u(!0)}},83658:function(t,e,n){"use strict";var r=n(19781),i=n(43157),s=TypeError,o=Object.getOwnPropertyDescriptor,a=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(i(t)&&!o(t,"length").writable)throw s("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},41589:function(t,e,n){var r=n(51400),i=n(26244),s=n(86135),o=Array,a=Math.max;t.exports=function(t,e,n){for(var u=i(t),l=r(e,u),c=r(void 0===n?u:n,u),h=o(a(c-l,0)),d=0;l<c;l++,d++)s(h,d,t[l]);return h.length=d,h}},50206:function(t,e,n){var r=n(1702);t.exports=r([].slice)},94362:function(t,e,n){var r=n(41589),i=Math.floor,s=function(t,e){var n=t.length,u=i(n/2);return n<8?o(t,e):a(t,s(r(t,0,u),e),s(r(t,u),e),e)},o=function(t,e){for(var n,r,i=t.length,s=1;s<i;){for(r=s,n=t[s];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==s++&&(t[r]=n)}return t},a=function(t,e,n,r){for(var i=e.length,s=n.length,o=0,a=0;o<i||a<s;)t[o+a]=o<i&&a<s?r(e[o],n[a])<=0?e[o++]:n[a++]:o<i?e[o++]:n[a++];return t};t.exports=s},77475:function(t,e,n){var r=n(43157),i=n(4411),s=n(70111),o=n(5112)("species"),a=Array;t.exports=function(t){var e;return r(t)&&(e=t.constructor,(i(e)&&(e===a||r(e.prototype))||s(e)&&null===(e=e[o]))&&(e=void 0)),void 0===e?a:e}},65417:function(t,e,n){var r=n(77475);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},21843:function(t,e,n){var r=n(26244);t.exports=function(t,e){for(var n=r(t),i=new e(n),s=0;s<n;s++)i[s]=t[n-s-1];return i}},11572:function(t,e,n){var r=n(26244),i=n(19303),s=RangeError;t.exports=function(t,e,n,o){var a=r(t),u=i(n),l=u<0?a+u:u;if(l>=a||l<0)throw s("Incorrect index");for(var c=new e(a),h=0;h<a;h++)c[h]=h===l?o:t[h];return c}},14170:function(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n={},r=0;r<66;r++)n[e.charAt(r)]=r;t.exports={itoc:e,ctoi:n}},53411:function(t,e,n){var r=n(19670),i=n(99212);t.exports=function(t,e,n,s){try{return s?e(r(n)[0],n[1]):e(n)}catch(e){i(t,"throw",e)}}},17072:function(t,e,n){var r=n(5112)("iterator"),i=!1;try{var s=0,o={next:function(){return{done:!!s++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var s={};s[r]=function(){return{next:function(){return{done:n=!0}}}},t(s)}catch(t){}return n}},84326:function(t,e,n){var r=n(1702),i=r({}.toString),s=r("".slice);t.exports=function(t){return s(i(t),8,-1)}},70648:function(t,e,n){var r=n(51694),i=n(60614),s=n(84326),o=n(5112)("toStringTag"),a=Object,u="Arguments"==s(function(){return arguments}());t.exports=r?s:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=a(t),o))?n:u?s(e):"Object"==(r=s(e))&&i(e.callee)?"Arguments":r}},95631:function(t,e,n){"use strict";var r=n(70030),i=n(47045),s=n(89190),o=n(49974),a=n(25787),u=n(68554),l=n(20408),c=n(51656),h=n(76178),d=n(96340),f=n(19781),p=n(62423).fastKey,m=n(29909),g=m.set,v=m.getterFor;t.exports={getConstructor:function(t,e,n,c){var h=t((function(t,i){a(t,d),g(t,{type:e,index:r(null),first:void 0,last:void 0,size:0}),f||(t.size=0),u(i)||l(i,t[c],{that:t,AS_ENTRIES:n})})),d=h.prototype,m=v(e),y=function(t,e,n){var r,i,s=m(t),o=_(t,e);return o?o.value=n:(s.last=o={index:i=p(e,!0),key:e,value:n,previous:r=s.last,next:void 0,removed:!1},s.first||(s.first=o),r&&(r.next=o),f?s.size++:t.size++,"F"!==i&&(s.index[i]=o)),t},_=function(t,e){var n,r=m(t),i=p(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return s(d,{clear:function(){for(var t=m(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,f?t.size=0:this.size=0},delete:function(t){var e=this,n=m(e),r=_(e,t);if(r){var i=r.next,s=r.previous;delete n.index[r.index],r.removed=!0,s&&(s.next=i),i&&(i.previous=s),n.first==r&&(n.first=i),n.last==r&&(n.last=s),f?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=m(this),r=o(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!_(this,t)}}),s(d,n?{get:function(t){var e=_(this,t);return e&&e.value},set:function(t,e){return y(this,0===t?0:t,e)}}:{add:function(t){return y(this,t=0===t?0:t,t)}}),f&&i(d,"size",{configurable:!0,get:function(){return m(this).size}}),h},setStrong:function(t,e,n){var r=e+" Iterator",i=v(e),s=v(r);c(t,e,(function(t,e){g(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=s(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?h("keys"==e?n.key:"values"==e?n.value:[n.key,n.value],!1):(t.target=void 0,h(void 0,!0))}),n?"entries":"values",!n,!0),d(e)}}},29320:function(t,e,n){"use strict";var r=n(1702),i=n(89190),s=n(62423).getWeakData,o=n(25787),a=n(19670),u=n(68554),l=n(70111),c=n(20408),h=n(42092),d=n(92597),f=n(29909),p=f.set,m=f.getterFor,g=h.find,v=h.findIndex,y=r([].splice),_=0,b=function(t){return t.frozen||(t.frozen=new w)},w=function(){this.entries=[]},I=function(t,e){return g(t.entries,(function(t){return t[0]===e}))};w.prototype={get:function(t){var e=I(this,t);if(e)return e[1]},has:function(t){return!!I(this,t)},set:function(t,e){var n=I(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=v(this.entries,(function(e){return e[0]===t}));return~e&&y(this.entries,e,1),!!~e}},t.exports={getConstructor:function(t,e,n,r){var h=t((function(t,i){o(t,f),p(t,{type:e,id:_++,frozen:void 0}),u(i)||c(i,t[r],{that:t,AS_ENTRIES:n})})),f=h.prototype,g=m(e),v=function(t,e,n){var r=g(t),i=s(a(e),!0);return!0===i?b(r).set(e,n):i[r.id]=n,t};return i(f,{delete:function(t){var e=g(this);if(!l(t))return!1;var n=s(t);return!0===n?b(e).delete(t):n&&d(n,e.id)&&delete n[e.id]},has:function(t){var e=g(this);if(!l(t))return!1;var n=s(t);return!0===n?b(e).has(t):n&&d(n,e.id)}}),i(f,n?{get:function(t){var e=g(this);if(l(t)){var n=s(t);return!0===n?b(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return v(this,t,e)}}:{add:function(t){return v(this,t,!0)}}),h}}},77710:function(t,e,n){"use strict";var r=n(82109),i=n(17854),s=n(1702),o=n(54705),a=n(98052),u=n(62423),l=n(20408),c=n(25787),h=n(60614),d=n(68554),f=n(70111),p=n(47293),m=n(17072),g=n(58003),v=n(79587);t.exports=function(t,e,n){var y=-1!==t.indexOf("Map"),_=-1!==t.indexOf("Weak"),b=y?"set":"add",w=i[t],I=w&&w.prototype,P=w,T={},E=function(t){var e=s(I[t]);a(I,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(_&&!f(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return _&&!f(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(_&&!f(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})};if(o(t,!h(w)||!(_||I.forEach&&!p((function(){(new w).entries().next()})))))P=n.getConstructor(e,t,y,b),u.enable();else if(o(t,!0)){var j=new P,k=j[b](_?{}:-0,1)!=j,S=p((function(){j.has(1)})),x=m((function(t){new w(t)})),C=!_&&p((function(){for(var t=new w,e=5;e--;)t[b](e,e);return!t.has(-0)}));x||((P=e((function(t,e){c(t,I);var n=v(new w,t,P);return d(e)||l(e,n[b],{that:n,AS_ENTRIES:y}),n}))).prototype=I,I.constructor=P),(S||C)&&(E("delete"),E("has"),y&&E("get")),(C||k)&&E(b),_&&I.clear&&delete I.clear}return T[t]=P,r({global:!0,constructor:!0,forced:P!=w},T),g(P,t),_||n.setStrong(P,t,y),P}},99920:function(t,e,n){var r=n(92597),i=n(53887),s=n(31236),o=n(3070);t.exports=function(t,e,n){for(var a=i(e),u=o.f,l=s.f,c=0;c<a.length;c++){var h=a[c];r(t,h)||n&&r(n,h)||u(t,h,l(e,h))}}},84964:function(t,e,n){var r=n(5112)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},49920:function(t,e,n){var r=n(47293);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},14230:function(t,e,n){var r=n(1702),i=n(84488),s=n(41340),o=/"/g,a=r("".replace);t.exports=function(t,e,n,r){var u=s(i(t)),l="<"+e;return""!==n&&(l+=" "+n+'="'+a(s(r),o,"&quot;")+'"'),l+">"+u+"</"+e+">"}},76178:function(t){t.exports=function(t,e){return{value:t,done:e}}},68880:function(t,e,n){var r=n(19781),i=n(3070),s=n(79114);t.exports=r?function(t,e,n){return i.f(t,e,s(1,n))}:function(t,e,n){return t[e]=n,t}},79114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},86135:function(t,e,n){"use strict";var r=n(34948),i=n(3070),s=n(79114);t.exports=function(t,e,n){var o=r(e);o in t?i.f(t,o,s(0,n)):t[o]=n}},85573:function(t,e,n){"use strict";var r=n(1702),i=n(47293),s=n(76650).start,o=RangeError,a=isFinite,u=Math.abs,l=Date.prototype,c=l.toISOString,h=r(l.getTime),d=r(l.getUTCDate),f=r(l.getUTCFullYear),p=r(l.getUTCHours),m=r(l.getUTCMilliseconds),g=r(l.getUTCMinutes),v=r(l.getUTCMonth),y=r(l.getUTCSeconds);t.exports=i((function(){return"0385-07-25T07:06:39.999Z"!=c.call(new Date(-50000000000001))}))||!i((function(){c.call(new Date(NaN))}))?function(){if(!a(h(this)))throw o("Invalid time value");var t=this,e=f(t),n=m(t),r=e<0?"-":e>9999?"+":"";return r+s(u(e),r?6:4,0)+"-"+s(v(t)+1,2,0)+"-"+s(d(t),2,0)+"T"+s(p(t),2,0)+":"+s(g(t),2,0)+":"+s(y(t),2,0)+"."+s(n,3,0)+"Z"}:c},38709:function(t,e,n){"use strict";var r=n(19670),i=n(92140),s=TypeError;t.exports=function(t){if(r(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw s("Incorrect hint");return i(this,t)}},47045:function(t,e,n){var r=n(56339),i=n(3070);t.exports=function(t,e,n){return n.get&&r(n.get,e,{getter:!0}),n.set&&r(n.set,e,{setter:!0}),i.f(t,e,n)}},98052:function(t,e,n){var r=n(60614),i=n(3070),s=n(56339),o=n(13072);t.exports=function(t,e,n,a){a||(a={});var u=a.enumerable,l=void 0!==a.name?a.name:e;if(r(n)&&s(n,l,a),a.global)u?t[e]=n:o(e,n);else{try{a.unsafe?t[e]&&(u=!0):delete t[e]}catch(t){}u?t[e]=n:i.f(t,e,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},89190:function(t,e,n){var r=n(98052);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},13072:function(t,e,n){var r=n(17854),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},85117:function(t,e,n){"use strict";var r=n(66330),i=TypeError;t.exports=function(t,e){if(!delete t[e])throw i("Cannot delete property "+r(e)+" of "+r(t))}},19781:function(t,e,n){var r=n(47293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:function(t){var e="object"==typeof document&&document.all,n=void 0===e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:n}},80317:function(t,e,n){var r=n(17854),i=n(70111),s=r.document,o=i(s)&&i(s.createElement);t.exports=function(t){return o?s.createElement(t):{}}},7207:function(t){var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},93678:function(t){t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},48324:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},98509:function(t,e,n){var r=n(80317)("span").classList,i=r&&r.constructor&&r.constructor.prototype;t.exports=i===Object.prototype?void 0:i},68886:function(t,e,n){var r=n(88113).match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},7871:function(t,e,n){var r=n(83823),i=n(35268);t.exports=!r&&!i&&"object"==typeof window&&"object"==typeof document},89363:function(t){t.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},83823:function(t){t.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},30256:function(t,e,n){var r=n(88113);t.exports=/MSIE|Trident/.test(r)},71528:function(t,e,n){var r=n(88113);t.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},6833:function(t,e,n){var r=n(88113);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},35268:function(t,e,n){var r=n(84326);t.exports="undefined"!=typeof process&&"process"==r(process)},71036:function(t,e,n){var r=n(88113);t.exports=/web0s(?!.*chrome)/i.test(r)},88113:function(t){t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:function(t,e,n){var r,i,s=n(17854),o=n(88113),a=s.process,u=s.Deno,l=a&&a.versions||u&&u.version,c=l&&l.v8;c&&(i=(r=c.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},98008:function(t,e,n){var r=n(88113).match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},98770:function(t,e,n){var r=n(17854);t.exports=function(t){return r[t].prototype}},80748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},11060:function(t,e,n){var r=n(1702),i=Error,s=r("".replace),o=String(i("zxcasd").stack),a=/\n\s*at [^:]*:[^\n]*/,u=a.test(o);t.exports=function(t,e){if(u&&"string"==typeof t&&!i.prepareStackTrace)for(;e--;)t=s(t,a,"");return t}},5392:function(t,e,n){var r=n(68880),i=n(11060),s=n(22914),o=Error.captureStackTrace;t.exports=function(t,e,n,a){s&&(o?o(t,e):r(t,"stack",i(n,a)))}},22914:function(t,e,n){var r=n(47293),i=n(79114);t.exports=!r((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)}))},7762:function(t,e,n){"use strict";var r=n(19781),i=n(47293),s=n(19670),o=n(70030),a=n(56277),u=Error.prototype.toString,l=i((function(){if(r){var t=o(Object.defineProperty({},"name",{get:function(){return this===t}}));if("true"!==u.call(t))return!0}return"2: 1"!==u.call({message:1,name:2})||"Error"!==u.call({})}));t.exports=l?function(){var t=s(this),e=a(t.name,"Error"),n=a(t.message);return e?n?e+": "+n:e:n}:u},82109:function(t,e,n){var r=n(17854),i=n(31236).f,s=n(68880),o=n(98052),a=n(13072),u=n(99920),l=n(54705);t.exports=function(t,e){var n,c,h,d,f,p=t.target,m=t.global,g=t.stat;if(n=m?r:g?r[p]||a(p,{}):(r[p]||{}).prototype)for(c in e){if(d=e[c],h=t.dontCallGetSet?(f=i(n,c))&&f.value:n[c],!l(m?c:p+(g?".":"#")+c,t.forced)&&void 0!==h){if(typeof d==typeof h)continue;u(d,h)}(t.sham||h&&h.sham)&&s(d,"sham",!0),o(n,c,d,t)}}},47293:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},27007:function(t,e,n){"use strict";n(74916);var r=n(21470),i=n(98052),s=n(22261),o=n(47293),a=n(5112),u=n(68880),l=a("species"),c=RegExp.prototype;t.exports=function(t,e,n,h){var d=a(t),f=!o((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),p=f&&!o((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return e=!0,null},n[d](""),!e}));if(!f||!p||n){var m=r(/./[d]),g=e(d,""[t],(function(t,e,n,i,o){var a=r(t),u=e.exec;return u===s||u===c.exec?f&&!o?{done:!0,value:m(e,n,i)}:{done:!0,value:a(n,e,i)}:{done:!1}}));i(String.prototype,t,g[0]),i(c,d,g[1])}h&&u(c[d],"sham",!0)}},6790:function(t,e,n){"use strict";var r=n(43157),i=n(26244),s=n(7207),o=n(49974),a=function(t,e,n,u,l,c,h,d){for(var f,p,m=l,g=0,v=!!h&&o(h,d);g<u;)g in n&&(f=v?v(n[g],g,e):n[g],c>0&&r(f)?(p=i(f),m=a(t,e,f,p,m,c-1)-1):(s(m+1),t[m]=f),m++),g++;return m};t.exports=a},76677:function(t,e,n){var r=n(47293);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},22104:function(t,e,n){var r=n(34374),i=Function.prototype,s=i.apply,o=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(s):function(){return o.apply(s,arguments)})},49974:function(t,e,n){var r=n(21470),i=n(19662),s=n(34374),o=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:s?o(t,e):function(){return t.apply(e,arguments)}}},34374:function(t,e,n){var r=n(47293);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},27065:function(t,e,n){"use strict";var r=n(1702),i=n(19662),s=n(70111),o=n(92597),a=n(50206),u=n(34374),l=Function,c=r([].concat),h=r([].join),d={};t.exports=u?l.bind:function(t){var e=i(this),n=e.prototype,r=a(arguments,1),u=function(){var n=c(r,a(arguments));return this instanceof u?function(t,e,n){if(!o(d,e)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";d[e]=l("C,a","return new C("+h(r,",")+")")}return d[e](t,n)}(e,n.length,n):e.apply(t,n)};return s(n)&&(u.prototype=n),u}},46916:function(t,e,n){var r=n(34374),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},76530:function(t,e,n){var r=n(19781),i=n(92597),s=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,a=i(s,"name"),u=a&&"something"===function(){}.name,l=a&&(!r||r&&o(s,"name").configurable);t.exports={EXISTS:a,PROPER:u,CONFIGURABLE:l}},75668:function(t,e,n){var r=n(1702),i=n(19662);t.exports=function(t,e,n){try{return r(i(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}},21470:function(t,e,n){var r=n(84326),i=n(1702);t.exports=function(t){if("Function"===r(t))return i(t)}},1702:function(t,e,n){var r=n(34374),i=Function.prototype,s=i.call,o=r&&i.bind.bind(s,s);t.exports=r?o:function(t){return function(){return s.apply(t,arguments)}}},35005:function(t,e,n){var r=n(17854),i=n(60614);t.exports=function(t,e){return arguments.length<2?(n=r[t],i(n)?n:void 0):r[t]&&r[t][e];var n}},71246:function(t,e,n){var r=n(70648),i=n(58173),s=n(68554),o=n(97497),a=n(5112)("iterator");t.exports=function(t){if(!s(t))return i(t,a)||i(t,"@@iterator")||o[r(t)]}},18554:function(t,e,n){var r=n(46916),i=n(19662),s=n(19670),o=n(66330),a=n(71246),u=TypeError;t.exports=function(t,e){var n=arguments.length<2?a(t):e;if(i(n))return s(r(n,t));throw u(o(t)+" is not iterable")}},88044:function(t,e,n){var r=n(1702),i=n(43157),s=n(60614),o=n(84326),a=n(41340),u=r([].push);t.exports=function(t){if(s(t))return t;if(i(t)){for(var e=t.length,n=[],r=0;r<e;r++){var l=t[r];"string"==typeof l?u(n,l):"number"!=typeof l&&"Number"!=o(l)&&"String"!=o(l)||u(n,a(l))}var c=n.length,h=!0;return function(t,e){if(h)return h=!1,e;if(i(this))return e;for(var r=0;r<c;r++)if(n[r]===t)return e}}}},58173:function(t,e,n){var r=n(19662),i=n(68554);t.exports=function(t,e){var n=t[e];return i(n)?void 0:r(n)}},10647:function(t,e,n){var r=n(1702),i=n(47908),s=Math.floor,o=r("".charAt),a=r("".replace),u=r("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,r,h,d){var f=n+t.length,p=r.length,m=c;return void 0!==h&&(h=i(h),m=l),a(d,m,(function(i,a){var l;switch(o(a,0)){case"$":return"$";case"&":return t;case"`":return u(e,0,n);case"'":return u(e,f);case"<":l=h[u(a,1,-1)];break;default:var c=+a;if(0===c)return i;if(c>p){var d=s(c/10);return 0===d?i:d<=p?void 0===r[d-1]?o(a,1):r[d-1]+o(a,1):i}l=r[c-1]}return void 0===l?"":l}))}},17854:function(t,e,n){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||this||Function("return this")()},92597:function(t,e,n){var r=n(1702),i=n(47908),s=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return s(i(t),e)}},3501:function(t){t.exports={}},842:function(t){t.exports=function(t,e){try{1==arguments.length?console.error(t):console.error(t,e)}catch(t){}}},60490:function(t,e,n){var r=n(35005);t.exports=r("document","documentElement")},64664:function(t,e,n){var r=n(19781),i=n(47293),s=n(80317);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},11179:function(t){var e=Array,n=Math.abs,r=Math.pow,i=Math.floor,s=Math.log,o=Math.LN2;t.exports={pack:function(t,a,u){var l,c,h,d=e(u),f=8*u-a-1,p=(1<<f)-1,m=p>>1,g=23===a?r(2,-24)-r(2,-77):0,v=t<0||0===t&&1/t<0?1:0,y=0;for((t=n(t))!=t||t===1/0?(c=t!=t?1:0,l=p):(l=i(s(t)/o),t*(h=r(2,-l))<1&&(l--,h*=2),(t+=l+m>=1?g/h:g*r(2,1-m))*h>=2&&(l++,h/=2),l+m>=p?(c=0,l=p):l+m>=1?(c=(t*h-1)*r(2,a),l+=m):(c=t*r(2,m-1)*r(2,a),l=0));a>=8;)d[y++]=255&c,c/=256,a-=8;for(l=l<<a|c,f+=a;f>0;)d[y++]=255&l,l/=256,f-=8;return d[--y]|=128*v,d},unpack:function(t,e){var n,i=t.length,s=8*i-e-1,o=(1<<s)-1,a=o>>1,u=s-7,l=i-1,c=t[l--],h=127&c;for(c>>=7;u>0;)h=256*h+t[l--],u-=8;for(n=h&(1<<-u)-1,h>>=-u,u+=e;u>0;)n=256*n+t[l--],u-=8;if(0===h)h=1-a;else{if(h===o)return n?NaN:c?-1/0:1/0;n+=r(2,e),h-=a}return(c?-1:1)*n*r(2,h-e)}}},68361:function(t,e,n){var r=n(1702),i=n(47293),s=n(84326),o=Object,a=r("".split);t.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(t){return"String"==s(t)?a(t,""):o(t)}:o},79587:function(t,e,n){var r=n(60614),i=n(70111),s=n(27674);t.exports=function(t,e,n){var o,a;return s&&r(o=e.constructor)&&o!==n&&i(a=o.prototype)&&a!==n.prototype&&s(t,a),t}},42788:function(t,e,n){var r=n(1702),i=n(60614),s=n(5465),o=r(Function.toString);i(s.inspectSource)||(s.inspectSource=function(t){return o(t)}),t.exports=s.inspectSource},58340:function(t,e,n){var r=n(70111),i=n(68880);t.exports=function(t,e){r(e)&&"cause"in e&&i(t,"cause",e.cause)}},62423:function(t,e,n){var r=n(82109),i=n(1702),s=n(3501),o=n(70111),a=n(92597),u=n(3070).f,l=n(8006),c=n(1156),h=n(52050),d=n(69711),f=n(76677),p=!1,m=d("meta"),g=0,v=function(t){u(t,m,{value:{objectID:"O"+g++,weakData:{}}})},y=t.exports={enable:function(){y.enable=function(){},p=!0;var t=l.f,e=i([].splice),n={};n[m]=1,t(n).length&&(l.f=function(n){for(var r=t(n),i=0,s=r.length;i<s;i++)if(r[i]===m){e(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,m)){if(!h(t))return"F";if(!e)return"E";v(t)}return t[m].objectID},getWeakData:function(t,e){if(!a(t,m)){if(!h(t))return!0;if(!e)return!1;v(t)}return t[m].weakData},onFreeze:function(t){return f&&p&&h(t)&&!a(t,m)&&v(t),t}};s[m]=!0},29909:function(t,e,n){var r,i,s,o=n(94811),a=n(17854),u=n(70111),l=n(68880),c=n(92597),h=n(5465),d=n(6200),f=n(3501),p="Object already initialized",m=a.TypeError,g=a.WeakMap;if(o||h.state){var v=h.state||(h.state=new g);v.get=v.get,v.has=v.has,v.set=v.set,r=function(t,e){if(v.has(t))throw m(p);return e.facade=t,v.set(t,e),e},i=function(t){return v.get(t)||{}},s=function(t){return v.has(t)}}else{var y=d("state");f[y]=!0,r=function(t,e){if(c(t,y))throw m(p);return e.facade=t,l(t,y,e),e},i=function(t){return c(t,y)?t[y]:{}},s=function(t){return c(t,y)}}t.exports={set:r,get:i,has:s,enforce:function(t){return s(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw m("Incompatible receiver, "+t+" required");return n}}}},97659:function(t,e,n){var r=n(5112),i=n(97497),s=r("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[s]===t)}},43157:function(t,e,n){var r=n(84326);t.exports=Array.isArray||function(t){return"Array"==r(t)}},44067:function(t,e,n){var r=n(70648);t.exports=function(t){var e=r(t);return"BigInt64Array"==e||"BigUint64Array"==e}},60614:function(t,e,n){var r=n(4154),i=r.all;t.exports=r.IS_HTMLDDA?function(t){return"function"==typeof t||t===i}:function(t){return"function"==typeof t}},4411:function(t,e,n){var r=n(1702),i=n(47293),s=n(60614),o=n(70648),a=n(35005),u=n(42788),l=function(){},c=[],h=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=r(d.exec),p=!d.exec(l),m=function(t){if(!s(t))return!1;try{return h(l,c,t),!0}catch(t){return!1}},g=function(t){if(!s(t))return!1;switch(o(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(d,u(t))}catch(t){return!0}};g.sham=!0,t.exports=!h||i((function(){var t;return m(m.call)||!m(Object)||!m((function(){t=!0}))||t}))?g:m},45032:function(t,e,n){var r=n(92597);t.exports=function(t){return void 0!==t&&(r(t,"value")||r(t,"writable"))}},54705:function(t,e,n){var r=n(47293),i=n(60614),s=/#|\.prototype\./,o=function(t,e){var n=u[a(t)];return n==c||n!=l&&(i(e)?r(e):!!e)},a=o.normalize=function(t){return String(t).replace(s,".").toLowerCase()},u=o.data={},l=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},55988:function(t,e,n){var r=n(70111),i=Math.floor;t.exports=Number.isInteger||function(t){return!r(t)&&isFinite(t)&&i(t)===t}},68554:function(t){t.exports=function(t){return null==t}},70111:function(t,e,n){var r=n(60614),i=n(4154),s=i.all;t.exports=i.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:r(t)||t===s}:function(t){return"object"==typeof t?null!==t:r(t)}},31913:function(t){t.exports=!1},47850:function(t,e,n){var r=n(70111),i=n(84326),s=n(5112)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==i(t))}},52190:function(t,e,n){var r=n(35005),i=n(60614),s=n(47976),o=n(43307),a=Object;t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&s(e.prototype,a(t))}},20408:function(t,e,n){var r=n(49974),i=n(46916),s=n(19670),o=n(66330),a=n(97659),u=n(26244),l=n(47976),c=n(18554),h=n(71246),d=n(99212),f=TypeError,p=function(t,e){this.stopped=t,this.result=e},m=p.prototype;t.exports=function(t,e,n){var g,v,y,_,b,w,I,P=n&&n.that,T=!(!n||!n.AS_ENTRIES),E=!(!n||!n.IS_RECORD),j=!(!n||!n.IS_ITERATOR),k=!(!n||!n.INTERRUPTED),S=r(e,P),x=function(t){return g&&d(g,"normal",t),new p(!0,t)},C=function(t){return T?(s(t),k?S(t[0],t[1],x):S(t[0],t[1])):k?S(t,x):S(t)};if(E)g=t.iterator;else if(j)g=t;else{if(!(v=h(t)))throw f(o(t)+" is not iterable");if(a(v)){for(y=0,_=u(t);_>y;y++)if((b=C(t[y]))&&l(m,b))return b;return new p(!1)}g=c(t,v)}for(w=E?t.next:g.next;!(I=i(w,g)).done;){try{b=C(I.value)}catch(t){d(g,"throw",t)}if("object"==typeof b&&b&&l(m,b))return b}return new p(!1)}},99212:function(t,e,n){var r=n(46916),i=n(19670),s=n(58173);t.exports=function(t,e,n){var o,a;i(t);try{if(!(o=s(t,"return"))){if("throw"===e)throw n;return n}o=r(o,t)}catch(t){a=!0,o=t}if("throw"===e)throw n;if(a)throw o;return i(o),n}},63061:function(t,e,n){"use strict";var r=n(13383).IteratorPrototype,i=n(70030),s=n(79114),o=n(58003),a=n(97497),u=function(){return this};t.exports=function(t,e,n,l){var c=e+" Iterator";return t.prototype=i(r,{next:s(+!l,n)}),o(t,c,!1,!0),a[c]=u,t}},51656:function(t,e,n){"use strict";var r=n(82109),i=n(46916),s=n(31913),o=n(76530),a=n(60614),u=n(63061),l=n(79518),c=n(27674),h=n(58003),d=n(68880),f=n(98052),p=n(5112),m=n(97497),g=n(13383),v=o.PROPER,y=o.CONFIGURABLE,_=g.IteratorPrototype,b=g.BUGGY_SAFARI_ITERATORS,w=p("iterator"),I="keys",P="values",T="entries",E=function(){return this};t.exports=function(t,e,n,o,p,g,j){u(n,e,o);var k,S,x,C=function(t){if(t===p&&L)return L;if(!b&&t in A)return A[t];switch(t){case I:case P:case T:return function(){return new n(this,t)}}return function(){return new n(this)}},R=e+" Iterator",O=!1,A=t.prototype,N=A[w]||A["@@iterator"]||p&&A[p],L=!b&&N||C(p),M="Array"==e&&A.entries||N;if(M&&(k=l(M.call(new t)))!==Object.prototype&&k.next&&(s||l(k)===_||(c?c(k,_):a(k[w])||f(k,w,E)),h(k,R,!0,!0),s&&(m[R]=E)),v&&p==P&&N&&N.name!==P&&(!s&&y?d(A,"name",P):(O=!0,L=function(){return i(N,this)})),p)if(S={values:C(P),keys:g?L:C(I),entries:C(T)},j)for(x in S)(b||O||!(x in A))&&f(A,x,S[x]);else r({target:e,proto:!0,forced:b||O},S);return s&&!j||A[w]===L||f(A,w,L,{name:p}),m[e]=L,S}},13383:function(t,e,n){"use strict";var r,i,s,o=n(47293),a=n(60614),u=n(70111),l=n(70030),c=n(79518),h=n(98052),d=n(5112),f=n(31913),p=d("iterator"),m=!1;[].keys&&("next"in(s=[].keys())?(i=c(c(s)))!==Object.prototype&&(r=i):m=!0),!u(r)||o((function(){var t={};return r[p].call(t)!==t}))?r={}:f&&(r=l(r)),a(r[p])||h(r,p,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},97497:function(t){t.exports={}},26244:function(t,e,n){var r=n(17466);t.exports=function(t){return r(t.length)}},56339:function(t,e,n){var r=n(1702),i=n(47293),s=n(60614),o=n(92597),a=n(19781),u=n(76530).CONFIGURABLE,l=n(42788),c=n(29909),h=c.enforce,d=c.get,f=String,p=Object.defineProperty,m=r("".slice),g=r("".replace),v=r([].join),y=a&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),_=String(String).split("String"),b=t.exports=function(t,e,n){"Symbol("===m(f(e),0,7)&&(e="["+g(f(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!o(t,"name")||u&&t.name!==e)&&(a?p(t,"name",{value:e,configurable:!0}):t.name=e),y&&n&&o(n,"arity")&&t.length!==n.arity&&p(t,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?a&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=h(t);return o(r,"source")||(r.source=v(_,"string"==typeof e?e:"")),t};Function.prototype.toString=b((function(){return s(this)&&d(this).source||l(this)}),"toString")},75706:function(t,e,n){var r=n(1702),i=Map.prototype;t.exports={Map:Map,set:r(i.set),get:r(i.get),has:r(i.has),remove:r(i.delete),proto:i}},66736:function(t){var e=Math.expm1,n=Math.exp;t.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||-2e-17!=e(-2e-17)?function(t){var e=+t;return 0==e?e:e>-1e-6&&e<1e-6?e+e*e/2:n(e)-1}:e},26130:function(t,e,n){var r=n(64310),i=Math.abs,s=Math.pow,o=s(2,-52),a=s(2,-23),u=s(2,127)*(2-a),l=s(2,-126);t.exports=Math.fround||function(t){var e,n,s=+t,c=i(s),h=r(s);return c<l?h*function(t){return t+1/o-1/o}(c/l/a)*l*a:(n=(e=(1+a/o)*c)-(e-c))>u||n!=n?h*(1/0):h*n}},20403:function(t){var e=Math.log,n=Math.LOG10E;t.exports=Math.log10||function(t){return e(t)*n}},26513:function(t){var e=Math.log;t.exports=Math.log1p||function(t){var n=+t;return n>-1e-8&&n<1e-8?n-n*n/2:e(1+n)}},64310:function(t){t.exports=Math.sign||function(t){var e=+t;return 0==e||e!=e?e:e<0?-1:1}},74758:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},95948:function(t,e,n){var r,i,s,o,a,u=n(17854),l=n(49974),c=n(31236).f,h=n(20261).set,d=n(18572),f=n(6833),p=n(71528),m=n(71036),g=n(35268),v=u.MutationObserver||u.WebKitMutationObserver,y=u.document,_=u.process,b=u.Promise,w=c(u,"queueMicrotask"),I=w&&w.value;if(!I){var P=new d,T=function(){var t,e;for(g&&(t=_.domain)&&t.exit();e=P.get();)try{e()}catch(t){throw P.head&&r(),t}t&&t.enter()};f||g||m||!v||!y?!p&&b&&b.resolve?((o=b.resolve(void 0)).constructor=b,a=l(o.then,o),r=function(){a(T)}):g?r=function(){_.nextTick(T)}:(h=l(h,u),r=function(){h(T)}):(i=!0,s=y.createTextNode(""),new v(T).observe(s,{characterData:!0}),r=function(){s.data=i=!i}),I=function(t){P.head||r(),P.add(t)}}t.exports=I},78523:function(t,e,n){"use strict";var r=n(19662),i=TypeError,s=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw i("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new s(t)}},56277:function(t,e,n){var r=n(41340);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},3929:function(t,e,n){var r=n(47850),i=TypeError;t.exports=function(t){if(r(t))throw i("The method doesn't accept regular expressions");return t}},77023:function(t,e,n){var r=n(17854).isFinite;t.exports=Number.isFinite||function(t){return"number"==typeof t&&r(t)}},2814:function(t,e,n){var r=n(17854),i=n(47293),s=n(1702),o=n(41340),a=n(53111).trim,u=n(81361),l=s("".charAt),c=r.parseFloat,h=r.Symbol,d=h&&h.iterator,f=1/c(u+"-0")!=-1/0||d&&!i((function(){c(Object(d))}));t.exports=f?function(t){var e=a(o(t)),n=c(e);return 0===n&&"-"==l(e,0)?-0:n}:c},83009:function(t,e,n){var r=n(17854),i=n(47293),s=n(1702),o=n(41340),a=n(53111).trim,u=n(81361),l=r.parseInt,c=r.Symbol,h=c&&c.iterator,d=/^[+-]?0x/i,f=s(d.exec),p=8!==l(u+"08")||22!==l(u+"0x16")||h&&!i((function(){l(Object(h))}));t.exports=p?function(t,e){var n=a(o(t));return l(n,e>>>0||(f(d,n)?16:10))}:l},21574:function(t,e,n){"use strict";var r=n(19781),i=n(1702),s=n(46916),o=n(47293),a=n(81956),u=n(25181),l=n(55296),c=n(47908),h=n(68361),d=Object.assign,f=Object.defineProperty,p=i([].concat);t.exports=!d||o((function(){if(r&&1!==d({b:1},d(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=d({},t)[n]||a(d({},e)).join("")!=i}))?function(t,e){for(var n=c(t),i=arguments.length,o=1,d=u.f,f=l.f;i>o;)for(var m,g=h(arguments[o++]),v=d?p(a(g),d(g)):a(g),y=v.length,_=0;y>_;)m=v[_++],r&&!s(f,g,m)||(n[m]=g[m]);return n}:d},70030:function(t,e,n){var r,i=n(19670),s=n(36048),o=n(80748),a=n(3501),u=n(60490),l=n(80317),c=n(6200),h="prototype",d="script",f=c("IE_PROTO"),p=function(){},m=function(t){return"<"+d+">"+t+"</"+d+">"},g=function(t){t.write(m("")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;v="undefined"!=typeof document?document.domain&&r?g(r):(e=l("iframe"),n="java"+d+":",e.style.display="none",u.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(m("document.F=Object")),t.close(),t.F):g(r);for(var i=o.length;i--;)delete v[h][o[i]];return v()};a[f]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(p[h]=i(t),n=new p,p[h]=null,n[f]=t):n=v(),void 0===e?n:s.f(n,e)}},36048:function(t,e,n){var r=n(19781),i=n(3353),s=n(3070),o=n(19670),a=n(45656),u=n(81956);e.f=r&&!i?Object.defineProperties:function(t,e){o(t);for(var n,r=a(e),i=u(e),l=i.length,c=0;l>c;)s.f(t,n=i[c++],r[n]);return t}},3070:function(t,e,n){var r=n(19781),i=n(64664),s=n(3353),o=n(19670),a=n(34948),u=TypeError,l=Object.defineProperty,c=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",f="writable";e.f=r?s?function(t,e,n){if(o(t),e=a(e),o(n),"function"==typeof t&&"prototype"===e&&"value"in n&&f in n&&!n[f]){var r=c(t,e);r&&r[f]&&(t[e]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:h in n?n[h]:r[h],writable:!1})}return l(t,e,n)}:l:function(t,e,n){if(o(t),e=a(e),o(n),i)try{return l(t,e,n)}catch(t){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},31236:function(t,e,n){var r=n(19781),i=n(46916),s=n(55296),o=n(79114),a=n(45656),u=n(34948),l=n(92597),c=n(64664),h=Object.getOwnPropertyDescriptor;e.f=r?h:function(t,e){if(t=a(t),e=u(e),c)try{return h(t,e)}catch(t){}if(l(t,e))return o(!i(s.f,t,e),t[e])}},1156:function(t,e,n){var r=n(84326),i=n(45656),s=n(8006).f,o=n(41589),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"Window"==r(t)?function(t){try{return s(t)}catch(t){return o(a)}}(t):s(i(t))}},8006:function(t,e,n){var r=n(16324),i=n(80748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},25181:function(t,e){e.f=Object.getOwnPropertySymbols},79518:function(t,e,n){var r=n(92597),i=n(60614),s=n(47908),o=n(6200),a=n(49920),u=o("IE_PROTO"),l=Object,c=l.prototype;t.exports=a?l.getPrototypeOf:function(t){var e=s(t);if(r(e,u))return e[u];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof l?c:null}},52050:function(t,e,n){var r=n(47293),i=n(70111),s=n(84326),o=n(7556),a=Object.isExtensible,u=r((function(){a(1)}));t.exports=u||o?function(t){return!!i(t)&&(!o||"ArrayBuffer"!=s(t))&&(!a||a(t))}:a},47976:function(t,e,n){var r=n(1702);t.exports=r({}.isPrototypeOf)},16324:function(t,e,n){var r=n(1702),i=n(92597),s=n(45656),o=n(41318).indexOf,a=n(3501),u=r([].push);t.exports=function(t,e){var n,r=s(t),l=0,c=[];for(n in r)!i(a,n)&&i(r,n)&&u(c,n);for(;e.length>l;)i(r,n=e[l++])&&(~o(c,n)||u(c,n));return c}},81956:function(t,e,n){var r=n(16324),i=n(80748);t.exports=Object.keys||function(t){return r(t,i)}},55296:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},69026:function(t,e,n){"use strict";var r=n(31913),i=n(17854),s=n(47293),o=n(98008);t.exports=r||!s((function(){if(!(o&&o<535)){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete i[t]}}))},27674:function(t,e,n){var r=n(75668),i=n(19670),s=n(96077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return i(n),s(r),e?t(n,r):n.__proto__=r,n}}():void 0)},44699:function(t,e,n){var r=n(19781),i=n(1702),s=n(81956),o=n(45656),a=i(n(55296).f),u=i([].push),l=function(t){return function(e){for(var n,i=o(e),l=s(i),c=l.length,h=0,d=[];c>h;)n=l[h++],r&&!a(i,n)||u(d,t?[n,i[n]]:i[n]);return d}};t.exports={entries:l(!0),values:l(!1)}},90288:function(t,e,n){"use strict";var r=n(51694),i=n(70648);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},92140:function(t,e,n){var r=n(46916),i=n(60614),s=n(70111),o=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&i(n=t.toString)&&!s(a=r(n,t)))return a;if(i(n=t.valueOf)&&!s(a=r(n,t)))return a;if("string"!==e&&i(n=t.toString)&&!s(a=r(n,t)))return a;throw o("Can't convert object to primitive value")}},53887:function(t,e,n){var r=n(35005),i=n(1702),s=n(8006),o=n(25181),a=n(19670),u=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=s.f(a(t)),n=o.f;return n?u(e,n(t)):e}},40857:function(t,e,n){var r=n(17854);t.exports=r},12534:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},63702:function(t,e,n){var r=n(17854),i=n(2492),s=n(60614),o=n(54705),a=n(42788),u=n(5112),l=n(7871),c=n(83823),h=n(31913),d=n(7392),f=i&&i.prototype,p=u("species"),m=!1,g=s(r.PromiseRejectionEvent),v=o("Promise",(function(){var t=a(i),e=t!==String(i);if(!e&&66===d)return!0;if(h&&(!f.catch||!f.finally))return!0;if(!d||d<51||!/native code/.test(t)){var n=new i((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[p]=r,!(m=n.then((function(){}))instanceof r))return!0}return!e&&(l||c)&&!g}));t.exports={CONSTRUCTOR:v,REJECTION_EVENT:g,SUBCLASSING:m}},2492:function(t,e,n){var r=n(17854);t.exports=r.Promise},69478:function(t,e,n){var r=n(19670),i=n(70111),s=n(78523);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=s.f(t);return(0,n.resolve)(e),n.promise}},80612:function(t,e,n){var r=n(2492),i=n(17072),s=n(63702).CONSTRUCTOR;t.exports=s||!i((function(t){r.all(t).then(void 0,(function(){}))}))},2626:function(t,e,n){var r=n(3070).f;t.exports=function(t,e,n){n in t||r(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})}},18572:function(t){var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=e},97651:function(t,e,n){var r=n(46916),i=n(19670),s=n(60614),o=n(84326),a=n(22261),u=TypeError;t.exports=function(t,e){var n=t.exec;if(s(n)){var l=r(n,t,e);return null!==l&&i(l),l}if("RegExp"===o(t))return r(a,t,e);throw u("RegExp#exec called on incompatible receiver")}},22261:function(t,e,n){"use strict";var r,i,s=n(46916),o=n(1702),a=n(41340),u=n(67066),l=n(52999),c=n(72309),h=n(70030),d=n(29909).get,f=n(9441),p=n(38173),m=c("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,v=g,y=o("".charAt),_=o("".indexOf),b=o("".replace),w=o("".slice),I=(i=/b*/g,s(g,r=/a/,"a"),s(g,i,"a"),0!==r.lastIndex||0!==i.lastIndex),P=l.BROKEN_CARET,T=void 0!==/()??/.exec("")[1];(I||T||P||f||p)&&(v=function(t){var e,n,r,i,o,l,c,f=this,p=d(f),E=a(t),j=p.raw;if(j)return j.lastIndex=f.lastIndex,e=s(v,j,E),f.lastIndex=j.lastIndex,e;var k=p.groups,S=P&&f.sticky,x=s(u,f),C=f.source,R=0,O=E;if(S&&(x=b(x,"y",""),-1===_(x,"g")&&(x+="g"),O=w(E,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==y(E,f.lastIndex-1))&&(C="(?: "+C+")",O=" "+O,R++),n=new RegExp("^(?:"+C+")",x)),T&&(n=new RegExp("^"+C+"$(?!\\s)",x)),I&&(r=f.lastIndex),i=s(g,S?n:f,O),S?i?(i.input=w(i.input,R),i[0]=w(i[0],R),i.index=f.lastIndex,f.lastIndex+=i[0].length):f.lastIndex=0:I&&i&&(f.lastIndex=f.global?i.index+i[0].length:r),T&&i&&i.length>1&&s(m,i[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&k)for(i.groups=l=h(null),o=0;o<k.length;o++)l[(c=k[o])[0]]=i[c[1]];return i}),t.exports=v},67066:function(t,e,n){"use strict";var r=n(19670);t.exports=function(){var t=r(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},34706:function(t,e,n){var r=n(46916),i=n(92597),s=n(47976),o=n(67066),a=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in a||i(t,"flags")||!s(a,t)?e:r(o,t)}},52999:function(t,e,n){var r=n(47293),i=n(17854).RegExp,s=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),o=s||r((function(){return!i("a","y").sticky})),a=s||r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:a,MISSED_STICKY:o,UNSUPPORTED_Y:s}},9441:function(t,e,n){var r=n(47293),i=n(17854).RegExp;t.exports=r((function(){var t=i(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},38173:function(t,e,n){var r=n(47293),i=n(17854).RegExp;t.exports=r((function(){var t=i("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},84488:function(t,e,n){var r=n(68554),i=TypeError;t.exports=function(t){if(r(t))throw i("Can't call method on "+t);return t}},81150:function(t){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},17152:function(t,e,n){"use strict";var r,i=n(17854),s=n(22104),o=n(60614),a=n(89363),u=n(88113),l=n(50206),c=n(48053),h=i.Function,d=/MSIE .\./.test(u)||a&&((r=i.Bun.version.split(".")).length<3||0==r[0]&&(r[1]<3||3==r[1]&&0==r[2]));t.exports=function(t,e){var n=e?2:1;return d?function(r,i){var a=c(arguments.length,1)>n,u=o(r)?r:h(r),d=a?l(arguments,n):[],f=a?function(){s(u,this,d)}:u;return e?t(f,i):t(f)}:t}},79405:function(t,e,n){var r=n(1702),i=Set.prototype;t.exports={Set:Set,add:r(i.add),has:r(i.has),remove:r(i.delete),proto:i}},96340:function(t,e,n){"use strict";var r=n(35005),i=n(47045),s=n(5112),o=n(19781),a=s("species");t.exports=function(t){var e=r(t);o&&e&&!e[a]&&i(e,a,{configurable:!0,get:function(){return this}})}},58003:function(t,e,n){var r=n(3070).f,i=n(92597),s=n(5112)("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!i(t,s)&&r(t,s,{configurable:!0,value:e})}},6200:function(t,e,n){var r=n(72309),i=n(69711),s=r("keys");t.exports=function(t){return s[t]||(s[t]=i(t))}},5465:function(t,e,n){var r=n(17854),i=n(13072),s="__core-js_shared__",o=r[s]||i(s,{});t.exports=o},72309:function(t,e,n){var r=n(31913),i=n(5465);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.30.2",mode:r?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.2/LICENSE",source:"https://github.com/zloirock/core-js"})},36707:function(t,e,n){var r=n(19670),i=n(39483),s=n(68554),o=n(5112)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||s(n=r(a)[o])?e:i(n)}},43429:function(t,e,n){var r=n(47293);t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},28710:function(t,e,n){var r=n(1702),i=n(19303),s=n(41340),o=n(84488),a=r("".charAt),u=r("".charCodeAt),l=r("".slice),c=function(t){return function(e,n){var r,c,h=s(o(e)),d=i(n),f=h.length;return d<0||d>=f?t?"":void 0:(r=u(h,d))<55296||r>56319||d+1===f||(c=u(h,d+1))<56320||c>57343?t?a(h,d):r:t?l(h,d,d+2):c-56320+(r-55296<<10)+65536}};t.exports={codeAt:c(!1),charAt:c(!0)}},54986:function(t,e,n){var r=n(88113);t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},76650:function(t,e,n){var r=n(1702),i=n(17466),s=n(41340),o=n(38415),a=n(84488),u=r(o),l=r("".slice),c=Math.ceil,h=function(t){return function(e,n,r){var o,h,d=s(a(e)),f=i(n),p=d.length,m=void 0===r?" ":s(r);return f<=p||""==m?d:((h=u(m,c((o=f-p)/m.length))).length>o&&(h=l(h,0,o)),t?d+h:h+d)}};t.exports={start:h(!1),end:h(!0)}},33197:function(t,e,n){var r=n(1702),i=2147483647,s=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",u=RangeError,l=r(o.exec),c=Math.floor,h=String.fromCharCode,d=r("".charCodeAt),f=r([].join),p=r([].push),m=r("".replace),g=r("".split),v=r("".toLowerCase),y=function(t){return t+22+75*(t<26)},_=function(t,e,n){var r=0;for(t=n?c(t/700):t>>1,t+=c(t/e);t>455;)t=c(t/35),r+=36;return c(r+36*t/(t+38))},b=function(t){var e=[];t=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=d(t,n++);if(i>=55296&&i<=56319&&n<r){var s=d(t,n++);56320==(64512&s)?p(e,((1023&i)<<10)+(1023&s)+65536):(p(e,i),n--)}else p(e,i)}return e}(t);var n,r,s=t.length,o=128,l=0,m=72;for(n=0;n<t.length;n++)(r=t[n])<128&&p(e,h(r));var g=e.length,v=g;for(g&&p(e,"-");v<s;){var b=i;for(n=0;n<t.length;n++)(r=t[n])>=o&&r<b&&(b=r);var w=v+1;if(b-o>c((i-l)/w))throw u(a);for(l+=(b-o)*w,o=b,n=0;n<t.length;n++){if((r=t[n])<o&&++l>i)throw u(a);if(r==o){for(var I=l,P=36;;){var T=P<=m?1:P>=m+26?26:P-m;if(I<T)break;var E=I-T,j=36-T;p(e,h(y(T+E%j))),I=c(E/j),P+=36}p(e,h(y(I))),m=_(l,w,v==g),l=0,v++}}l++,o++}return f(e,"")};t.exports=function(t){var e,n,r=[],i=g(m(v(t),o,"."),".");for(e=0;e<i.length;e++)n=i[e],p(r,l(s,n)?"xn--"+b(n):n);return f(r,".")}},38415:function(t,e,n){"use strict";var r=n(19303),i=n(41340),s=n(84488),o=RangeError;t.exports=function(t){var e=i(s(this)),n="",a=r(t);if(a<0||a==1/0)throw o("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(n+=e);return n}},10365:function(t,e,n){"use strict";var r=n(53111).end,i=n(76091);t.exports=i("trimEnd")?function(){return r(this)}:"".trimEnd},76091:function(t,e,n){var r=n(76530).PROPER,i=n(47293),s=n(81361);t.exports=function(t){return i((function(){return!!s[t]()||""!==""[t]()||r&&s[t].name!==t}))}},33217:function(t,e,n){"use strict";var r=n(53111).start,i=n(76091);t.exports=i("trimStart")?function(){return r(this)}:"".trimStart},53111:function(t,e,n){var r=n(1702),i=n(84488),s=n(41340),o=n(81361),a=r("".replace),u=RegExp("^["+o+"]+"),l=RegExp("(^|[^"+o+"])["+o+"]+$"),c=function(t){return function(e){var n=s(i(e));return 1&t&&(n=a(n,u,"")),2&t&&(n=a(n,l,"$1")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},64124:function(t,e,n){var r=n(17854),i=n(47293),s=n(7392),o=n(7871),a=n(83823),u=n(35268),l=r.structuredClone;t.exports=!!l&&!i((function(){if(a&&s>92||u&&s>94||o&&s>97)return!1;var t=new ArrayBuffer(8),e=l(t,{transfer:[t]});return 0!=t.byteLength||8!=e.byteLength}))},36293:function(t,e,n){var r=n(7392),i=n(47293),s=n(17854).String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!s(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},56532:function(t,e,n){var r=n(46916),i=n(35005),s=n(5112),o=n(98052);t.exports=function(){var t=i("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,a=s("toPrimitive");e&&!e[a]&&o(e,a,(function(t){return r(n,this)}),{arity:1})}},2015:function(t,e,n){var r=n(36293);t.exports=r&&!!Symbol.for&&!!Symbol.keyFor},20261:function(t,e,n){var r,i,s,o,a=n(17854),u=n(22104),l=n(49974),c=n(60614),h=n(92597),d=n(47293),f=n(60490),p=n(50206),m=n(80317),g=n(48053),v=n(6833),y=n(35268),_=a.setImmediate,b=a.clearImmediate,w=a.process,I=a.Dispatch,P=a.Function,T=a.MessageChannel,E=a.String,j=0,k={},S="onreadystatechange";d((function(){r=a.location}));var x=function(t){if(h(k,t)){var e=k[t];delete k[t],e()}},C=function(t){return function(){x(t)}},R=function(t){x(t.data)},O=function(t){a.postMessage(E(t),r.protocol+"//"+r.host)};_&&b||(_=function(t){g(arguments.length,1);var e=c(t)?t:P(t),n=p(arguments,1);return k[++j]=function(){u(e,void 0,n)},i(j),j},b=function(t){delete k[t]},y?i=function(t){w.nextTick(C(t))}:I&&I.now?i=function(t){I.now(C(t))}:T&&!v?(o=(s=new T).port2,s.port1.onmessage=R,i=l(o.postMessage,o)):a.addEventListener&&c(a.postMessage)&&!a.importScripts&&r&&"file:"!==r.protocol&&!d(O)?(i=O,a.addEventListener("message",R,!1)):i=S in m("script")?function(t){f.appendChild(m("script"))[S]=function(){f.removeChild(this),x(t)}}:function(t){setTimeout(C(t),0)}),t.exports={set:_,clear:b}},50863:function(t,e,n){var r=n(1702);t.exports=r(1..valueOf)},51400:function(t,e,n){var r=n(19303),i=Math.max,s=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):s(n,e)}},64599:function(t,e,n){var r=n(57593),i=TypeError;t.exports=function(t){var e=r(t,"number");if("number"==typeof e)throw i("Can't convert number to bigint");return BigInt(e)}},57067:function(t,e,n){var r=n(19303),i=n(17466),s=RangeError;t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw s("Wrong length or index");return n}},45656:function(t,e,n){var r=n(68361),i=n(84488);t.exports=function(t){return r(i(t))}},19303:function(t,e,n){var r=n(74758);t.exports=function(t){var e=+t;return e!=e||0===e?0:r(e)}},17466:function(t,e,n){var r=n(19303),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},47908:function(t,e,n){var r=n(84488),i=Object;t.exports=function(t){return i(r(t))}},84590:function(t,e,n){var r=n(73002),i=RangeError;t.exports=function(t,e){var n=r(t);if(n%e)throw i("Wrong offset");return n}},73002:function(t,e,n){var r=n(19303),i=RangeError;t.exports=function(t){var e=r(t);if(e<0)throw i("The argument can't be less than 0");return e}},57593:function(t,e,n){var r=n(46916),i=n(70111),s=n(52190),o=n(58173),a=n(92140),u=n(5112),l=TypeError,c=u("toPrimitive");t.exports=function(t,e){if(!i(t)||s(t))return t;var n,u=o(t,c);if(u){if(void 0===e&&(e="default"),n=r(u,t,e),!i(n)||s(n))return n;throw l("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},34948:function(t,e,n){var r=n(57593),i=n(52190);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},51694:function(t,e,n){var r={};r[n(5112)("toStringTag")]="z",t.exports="[object z]"===String(r)},41340:function(t,e,n){var r=n(70648),i=String;t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},44038:function(t,e,n){var r=n(35268);t.exports=function(t){try{if(r)return Function('return require("'+t+'")')()}catch(t){}}},66330:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},19843:function(t,e,n){"use strict";var r=n(82109),i=n(17854),s=n(46916),o=n(19781),a=n(63832),u=n(90260),l=n(13331),c=n(25787),h=n(79114),d=n(68880),f=n(55988),p=n(17466),m=n(57067),g=n(84590),v=n(34948),y=n(92597),_=n(70648),b=n(70111),w=n(52190),I=n(70030),P=n(47976),T=n(27674),E=n(8006).f,j=n(97321),k=n(42092).forEach,S=n(96340),x=n(47045),C=n(3070),R=n(31236),O=n(29909),A=n(79587),N=O.get,L=O.set,M=O.enforce,D=C.f,F=R.f,G=Math.round,U=i.RangeError,q=l.ArrayBuffer,B=q.prototype,z=l.DataView,H=u.NATIVE_ARRAY_BUFFER_VIEWS,W=u.TYPED_ARRAY_TAG,V=u.TypedArray,K=u.TypedArrayPrototype,$=u.aTypedArrayConstructor,Y=u.isTypedArray,J="BYTES_PER_ELEMENT",Q="Wrong length",X=function(t,e){$(t);for(var n=0,r=e.length,i=new t(r);r>n;)i[n]=e[n++];return i},Z=function(t,e){x(t,e,{configurable:!0,get:function(){return N(this)[e]}})},tt=function(t){var e;return P(B,t)||"ArrayBuffer"==(e=_(t))||"SharedArrayBuffer"==e},et=function(t,e){return Y(t)&&!w(e)&&e in t&&f(+e)&&e>=0},nt=function(t,e){return e=v(e),et(t,e)?h(2,t[e]):F(t,e)},rt=function(t,e,n){return e=v(e),!(et(t,e)&&b(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?D(t,e,n):(t[e]=n.value,t)};o?(H||(R.f=nt,C.f=rt,Z(K,"buffer"),Z(K,"byteOffset"),Z(K,"byteLength"),Z(K,"length")),r({target:"Object",stat:!0,forced:!H},{getOwnPropertyDescriptor:nt,defineProperty:rt}),t.exports=function(t,e,n){var o=t.match(/\d+/)[0]/8,u=t+(n?"Clamped":"")+"Array",l="get"+t,h="set"+t,f=i[u],v=f,y=v&&v.prototype,_={},w=function(t,e){D(t,e,{get:function(){return function(t,e){var n=N(t);return n.view[l](e*o+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,r){var i=N(t);n&&(r=(r=G(r))<0?0:r>255?255:255&r),i.view[h](e*o+i.byteOffset,r,!0)}(this,e,t)},enumerable:!0})};H?a&&(v=e((function(t,e,n,r){return c(t,y),A(b(e)?tt(e)?void 0!==r?new f(e,g(n,o),r):void 0!==n?new f(e,g(n,o)):new f(e):Y(e)?X(v,e):s(j,v,e):new f(m(e)),t,v)})),T&&T(v,V),k(E(f),(function(t){t in v||d(v,t,f[t])})),v.prototype=y):(v=e((function(t,e,n,r){c(t,y);var i,a,u,l=0,h=0;if(b(e)){if(!tt(e))return Y(e)?X(v,e):s(j,v,e);i=e,h=g(n,o);var d=e.byteLength;if(void 0===r){if(d%o)throw U(Q);if((a=d-h)<0)throw U(Q)}else if((a=p(r)*o)+h>d)throw U(Q);u=a/o}else u=m(e),i=new q(a=u*o);for(L(t,{buffer:i,byteOffset:h,byteLength:a,length:u,view:new z(i)});l<u;)w(t,l++)})),T&&T(v,V),y=v.prototype=I(K)),y.constructor!==v&&d(y,"constructor",v),M(y).TypedArrayConstructor=v,W&&d(y,W,u);var P=v!=f;_[u]=v,r({global:!0,constructor:!0,forced:P,sham:!H},_),J in v||d(v,J,o),J in y||d(y,J,o),S(u)}):t.exports=function(){}},63832:function(t,e,n){var r=n(17854),i=n(47293),s=n(17072),o=n(90260).NATIVE_ARRAY_BUFFER_VIEWS,a=r.ArrayBuffer,u=r.Int8Array;t.exports=!o||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!s((function(t){new u,new u(null),new u(1.5),new u(t)}),!0)||i((function(){return 1!==new u(new a(2),1,void 0).length}))},43074:function(t,e,n){var r=n(97745),i=n(66304);t.exports=function(t,e){return r(i(t),e)}},97321:function(t,e,n){var r=n(49974),i=n(46916),s=n(39483),o=n(47908),a=n(26244),u=n(18554),l=n(71246),c=n(97659),h=n(44067),d=n(90260).aTypedArrayConstructor,f=n(64599);t.exports=function(t){var e,n,p,m,g,v,y,_,b=s(this),w=o(t),I=arguments.length,P=I>1?arguments[1]:void 0,T=void 0!==P,E=l(w);if(E&&!c(E))for(_=(y=u(w,E)).next,w=[];!(v=i(_,y)).done;)w.push(v.value);for(T&&I>2&&(P=r(P,arguments[2])),n=a(w),p=new(d(b))(n),m=h(p),e=0;n>e;e++)g=T?P(w[e],e):w[e],p[e]=m?f(g):+g;return p}},66304:function(t,e,n){var r=n(90260),i=n(36707),s=r.aTypedArrayConstructor,o=r.getTypedArrayConstructor;t.exports=function(t){return s(i(t,o(t)))}},69711:function(t,e,n){var r=n(1702),i=0,s=Math.random(),o=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++i+s,36)}},85143:function(t,e,n){var r=n(47293),i=n(5112),s=n(19781),o=n(31913),a=i("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),o&&!t.toJSON||!e.size&&(o||!s)||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},43307:function(t,e,n){var r=n(36293);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(t,e,n){var r=n(19781),i=n(47293);t.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},48053:function(t){var e=TypeError;t.exports=function(t,n){if(t<n)throw e("Not enough arguments");return t}},94811:function(t,e,n){var r=n(17854),i=n(60614),s=r.WeakMap;t.exports=i(s)&&/native code/.test(String(s))},26800:function(t,e,n){var r=n(40857),i=n(92597),s=n(6061),o=n(3070).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||o(e,t,{value:s.f(t)})}},6061:function(t,e,n){var r=n(5112);e.f=r},5112:function(t,e,n){var r=n(17854),i=n(72309),s=n(92597),o=n(69711),a=n(36293),u=n(43307),l=r.Symbol,c=i("wks"),h=u?l.for||l:l&&l.withoutSetter||o;t.exports=function(t){return s(c,t)||(c[t]=a&&s(l,t)?l[t]:h("Symbol."+t)),c[t]}},81361:function(t){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},89191:function(t,e,n){"use strict";var r=n(35005),i=n(92597),s=n(68880),o=n(47976),a=n(27674),u=n(99920),l=n(2626),c=n(79587),h=n(56277),d=n(58340),f=n(5392),p=n(19781),m=n(31913);t.exports=function(t,e,n,g){var v="stackTraceLimit",y=g?2:1,_=t.split("."),b=_[_.length-1],w=r.apply(null,_);if(w){var I=w.prototype;if(!m&&i(I,"cause")&&delete I.cause,!n)return w;var P=r("Error"),T=e((function(t,e){var n=h(g?e:t,void 0),r=g?new w(t):new w;return void 0!==n&&s(r,"message",n),f(r,T,r.stack,2),this&&o(I,this)&&c(r,this,T),arguments.length>y&&d(r,arguments[y]),r}));if(T.prototype=I,"Error"!==b?a?a(T,P):u(T,P,{name:!0}):p&&v in w&&(l(T,w,v),l(T,w,"prepareStackTrace")),u(T,w),!m)try{I.name!==b&&s(I,"name",b),I.constructor=T}catch(t){}return T}}},32120:function(t,e,n){var r=n(82109),i=n(35005),s=n(22104),o=n(47293),a=n(89191),u="AggregateError",l=i(u),c=!o((function(){return 1!==l([1]).errors[0]}))&&o((function(){return 7!==l([1],u,{cause:7}).cause}));r({global:!0,constructor:!0,arity:2,forced:c},{AggregateError:a(u,(function(t){return function(e,n){return s(t,this,arguments)}}),c,!0)})},56967:function(t,e,n){"use strict";var r=n(82109),i=n(47976),s=n(79518),o=n(27674),a=n(99920),u=n(70030),l=n(68880),c=n(79114),h=n(58340),d=n(5392),f=n(20408),p=n(56277),m=n(5112)("toStringTag"),g=Error,v=[].push,y=function(t,e){var n,r=i(_,this);o?n=o(g(),r?s(this):_):(n=r?this:u(_),l(n,m,"Error")),void 0!==e&&l(n,"message",p(e)),d(n,y,n.stack,1),arguments.length>2&&h(n,arguments[2]);var a=[];return f(t,v,{that:a}),l(n,"errors",a),n};o?o(y,g):a(y,g,{name:!0});var _=y.prototype=u(g.prototype,{constructor:c(1,y),message:c(1,""),name:c(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:y})},9170:function(t,e,n){n(56967)},18264:function(t,e,n){"use strict";var r=n(82109),i=n(17854),s=n(13331),o=n(96340),a="ArrayBuffer",u=s[a];r({global:!0,constructor:!0,forced:i[a]!==u},{ArrayBuffer:u}),o(a)},76938:function(t,e,n){var r=n(82109),i=n(90260);r({target:"ArrayBuffer",stat:!0,forced:!i.NATIVE_ARRAY_BUFFER_VIEWS},{isView:i.isView})},39575:function(t,e,n){"use strict";var r=n(82109),i=n(21470),s=n(47293),o=n(13331),a=n(19670),u=n(51400),l=n(17466),c=n(36707),h=o.ArrayBuffer,d=o.DataView,f=d.prototype,p=i(h.prototype.slice),m=i(f.getUint8),g=i(f.setUint8);r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:s((function(){return!new h(2).slice(1,void 0).byteLength}))},{slice:function(t,e){if(p&&void 0===e)return p(a(this),t);for(var n=a(this).byteLength,r=u(t,n),i=u(void 0===e?n:e,n),s=new(c(this,h))(l(i-r)),o=new d(this),f=new d(s),v=0;r<i;)g(f,v++,m(o,r++));return s}})},52262:function(t,e,n){"use strict";var r=n(82109),i=n(47908),s=n(26244),o=n(19303),a=n(51223);r({target:"Array",proto:!0},{at:function(t){var e=i(this),n=s(e),r=o(t),a=r>=0?r:n+r;return a<0||a>=n?void 0:e[a]}}),a("at")},92222:function(t,e,n){"use strict";var r=n(82109),i=n(47293),s=n(43157),o=n(70111),a=n(47908),u=n(26244),l=n(7207),c=n(86135),h=n(65417),d=n(81194),f=n(5112),p=n(7392),m=f("isConcatSpreadable"),g=p>=51||!i((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),v=function(t){if(!o(t))return!1;var e=t[m];return void 0!==e?!!e:s(t)};r({target:"Array",proto:!0,arity:1,forced:!g||!d("concat")},{concat:function(t){var e,n,r,i,s,o=a(this),d=h(o,0),f=0;for(e=-1,r=arguments.length;e<r;e++)if(v(s=-1===e?o:arguments[e]))for(i=u(s),l(f+i),n=0;n<i;n++,f++)n in s&&c(d,f,s[n]);else l(f+1),c(d,f++,s);return d.length=f,d}})},50545:function(t,e,n){var r=n(82109),i=n(1048),s=n(51223);r({target:"Array",proto:!0},{copyWithin:i}),s("copyWithin")},26541:function(t,e,n){"use strict";var r=n(82109),i=n(42092).every;r({target:"Array",proto:!0,forced:!n(9341)("every")},{every:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},43290:function(t,e,n){var r=n(82109),i=n(21285),s=n(51223);r({target:"Array",proto:!0},{fill:i}),s("fill")},57327:function(t,e,n){"use strict";var r=n(82109),i=n(42092).filter;r({target:"Array",proto:!0,forced:!n(81194)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},34553:function(t,e,n){"use strict";var r=n(82109),i=n(42092).findIndex,s=n(51223),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s(o)},77287:function(t,e,n){"use strict";var r=n(82109),i=n(9671).findLastIndex,s=n(51223);r({target:"Array",proto:!0},{findLastIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s("findLastIndex")},67635:function(t,e,n){"use strict";var r=n(82109),i=n(9671).findLast,s=n(51223);r({target:"Array",proto:!0},{findLast:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s("findLast")},69826:function(t,e,n){"use strict";var r=n(82109),i=n(42092).find,s=n(51223),o="find",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s(o)},86535:function(t,e,n){"use strict";var r=n(82109),i=n(6790),s=n(19662),o=n(47908),a=n(26244),u=n(65417);r({target:"Array",proto:!0},{flatMap:function(t){var e,n=o(this),r=a(n);return s(t),(e=u(n,0)).length=i(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},84944:function(t,e,n){"use strict";var r=n(82109),i=n(6790),s=n(47908),o=n(26244),a=n(19303),u=n(65417);r({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=s(this),n=o(e),r=u(e,0);return r.length=i(r,e,e,n,0,void 0===t?1:a(t)),r}})},89554:function(t,e,n){"use strict";var r=n(82109),i=n(18533);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},91038:function(t,e,n){var r=n(82109),i=n(48457);r({target:"Array",stat:!0,forced:!n(17072)((function(t){Array.from(t)}))},{from:i})},26699:function(t,e,n){"use strict";var r=n(82109),i=n(41318).includes,s=n(47293),o=n(51223);r({target:"Array",proto:!0,forced:s((function(){return!Array(1).includes()}))},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},82772:function(t,e,n){"use strict";var r=n(82109),i=n(21470),s=n(41318).indexOf,o=n(9341),a=i([].indexOf),u=!!a&&1/a([1],1,-0)<0;r({target:"Array",proto:!0,forced:u||!o("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return u?a(this,t,e)||0:s(this,t,e)}})},79753:function(t,e,n){n(82109)({target:"Array",stat:!0},{isArray:n(43157)})},66992:function(t,e,n){"use strict";var r=n(45656),i=n(51223),s=n(97497),o=n(29909),a=n(3070).f,u=n(51656),l=n(76178),c=n(31913),h=n(19781),d="Array Iterator",f=o.set,p=o.getterFor(d);t.exports=u(Array,"Array",(function(t,e){f(this,{type:d,target:r(t),index:0,kind:e})}),(function(){var t=p(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,l(void 0,!0)):l("keys"==n?r:"values"==n?e[r]:[r,e[r]],!1)}),"values");var m=s.Arguments=s.Array;if(i("keys"),i("values"),i("entries"),!c&&h&&"values"!==m.name)try{a(m,"name",{value:"values"})}catch(t){}},69600:function(t,e,n){"use strict";var r=n(82109),i=n(1702),s=n(68361),o=n(45656),a=n(9341),u=i([].join);r({target:"Array",proto:!0,forced:s!=Object||!a("join",",")},{join:function(t){return u(o(this),void 0===t?",":t)}})},94986:function(t,e,n){var r=n(82109),i=n(86583);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},21249:function(t,e,n){"use strict";var r=n(82109),i=n(42092).map;r({target:"Array",proto:!0,forced:!n(81194)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},26572:function(t,e,n){"use strict";var r=n(82109),i=n(47293),s=n(4411),o=n(86135),a=Array;r({target:"Array",stat:!0,forced:i((function(){function t(){}return!(a.of.call(t)instanceof t)}))},{of:function(){for(var t=0,e=arguments.length,n=new(s(this)?this:a)(e);e>t;)o(n,t,arguments[t++]);return n.length=e,n}})},57658:function(t,e,n){"use strict";var r=n(82109),i=n(47908),s=n(26244),o=n(83658),a=n(7207);r({target:"Array",proto:!0,arity:1,forced:n(47293)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=i(this),n=s(e),r=arguments.length;a(n+r);for(var u=0;u<r;u++)e[n]=arguments[u],n++;return o(e,n),n}})},96644:function(t,e,n){"use strict";var r=n(82109),i=n(53671).right,s=n(9341),o=n(7392);r({target:"Array",proto:!0,forced:!n(35268)&&o>79&&o<83||!s("reduceRight")},{reduceRight:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},85827:function(t,e,n){"use strict";var r=n(82109),i=n(53671).left,s=n(9341),o=n(7392);r({target:"Array",proto:!0,forced:!n(35268)&&o>79&&o<83||!s("reduce")},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},65069:function(t,e,n){"use strict";var r=n(82109),i=n(1702),s=n(43157),o=i([].reverse),a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return s(this)&&(this.length=this.length),o(this)}})},47042:function(t,e,n){"use strict";var r=n(82109),i=n(43157),s=n(4411),o=n(70111),a=n(51400),u=n(26244),l=n(45656),c=n(86135),h=n(5112),d=n(81194),f=n(50206),p=d("slice"),m=h("species"),g=Array,v=Math.max;r({target:"Array",proto:!0,forced:!p},{slice:function(t,e){var n,r,h,d=l(this),p=u(d),y=a(t,p),_=a(void 0===e?p:e,p);if(i(d)&&(n=d.constructor,(s(n)&&(n===g||i(n.prototype))||o(n)&&null===(n=n[m]))&&(n=void 0),n===g||void 0===n))return f(d,y,_);for(r=new(void 0===n?g:n)(v(_-y,0)),h=0;y<_;y++,h++)y in d&&c(r,h,d[y]);return r.length=h,r}})},5212:function(t,e,n){"use strict";var r=n(82109),i=n(42092).some;r({target:"Array",proto:!0,forced:!n(9341)("some")},{some:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},2707:function(t,e,n){"use strict";var r=n(82109),i=n(1702),s=n(19662),o=n(47908),a=n(26244),u=n(85117),l=n(41340),c=n(47293),h=n(94362),d=n(9341),f=n(68886),p=n(30256),m=n(7392),g=n(98008),v=[],y=i(v.sort),_=i(v.push),b=c((function(){v.sort(void 0)})),w=c((function(){v.sort(null)})),I=d("sort"),P=!c((function(){if(m)return m<70;if(!(f&&f>3)){if(p)return!0;if(g)return g<603;var t,e,n,r,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)v.push({k:e+r,v:n})}for(v.sort((function(t,e){return e.v-t.v})),r=0;r<v.length;r++)e=v[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:b||!w||!I||!P},{sort:function(t){void 0!==t&&s(t);var e=o(this);if(P)return void 0===t?y(e):y(e,t);var n,r,i=[],c=a(e);for(r=0;r<c;r++)r in e&&_(i,e[r]);for(h(i,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:l(e)>l(n)?1:-1}}(t)),n=a(i),r=0;r<n;)e[r]=i[r++];for(;r<c;)u(e,r++);return e}})},38706:function(t,e,n){n(96340)("Array")},40561:function(t,e,n){"use strict";var r=n(82109),i=n(47908),s=n(51400),o=n(19303),a=n(26244),u=n(83658),l=n(7207),c=n(65417),h=n(86135),d=n(85117),f=n(81194)("splice"),p=Math.max,m=Math.min;r({target:"Array",proto:!0,forced:!f},{splice:function(t,e){var n,r,f,g,v,y,_=i(this),b=a(_),w=s(t,b),I=arguments.length;for(0===I?n=r=0:1===I?(n=0,r=b-w):(n=I-2,r=m(p(o(e),0),b-w)),l(b+n-r),f=c(_,r),g=0;g<r;g++)(v=w+g)in _&&h(f,g,_[v]);if(f.length=r,n<r){for(g=w;g<b-r;g++)y=g+n,(v=g+r)in _?_[y]=_[v]:d(_,y);for(g=b;g>b-r+n;g--)d(_,g-1)}else if(n>r)for(g=b-r;g>w;g--)y=g+n-1,(v=g+r-1)in _?_[y]=_[v]:d(_,y);for(g=0;g<n;g++)_[g+w]=arguments[g+2];return u(_,b-r+n),f}})},90476:function(t,e,n){"use strict";var r=n(82109),i=n(21843),s=n(45656),o=n(51223),a=Array;r({target:"Array",proto:!0},{toReversed:function(){return i(s(this),a)}}),o("toReversed")},76459:function(t,e,n){"use strict";var r=n(82109),i=n(1702),s=n(19662),o=n(45656),a=n(97745),u=n(98770),l=n(51223),c=Array,h=i(u("Array").sort);r({target:"Array",proto:!0},{toSorted:function(t){void 0!==t&&s(t);var e=o(this),n=a(c,e);return h(n,t)}}),l("toSorted")},99892:function(t,e,n){"use strict";var r=n(82109),i=n(51223),s=n(7207),o=n(26244),a=n(51400),u=n(45656),l=n(19303),c=Array,h=Math.max,d=Math.min;r({target:"Array",proto:!0},{toSpliced:function(t,e){var n,r,i,f,p=u(this),m=o(p),g=a(t,m),v=arguments.length,y=0;for(0===v?n=r=0:1===v?(n=0,r=m-g):(n=v-2,r=d(h(l(e),0),m-g)),i=s(m+n-r),f=c(i);y<g;y++)f[y]=p[y];for(;y<g+n;y++)f[y]=arguments[y-g+2];for(;y<i;y++)f[y]=p[y+r-n];return f}}),i("toSpliced")},99244:function(t,e,n){n(51223)("flatMap")},33792:function(t,e,n){n(51223)("flat")},30541:function(t,e,n){"use strict";var r=n(82109),i=n(47908),s=n(26244),o=n(83658),a=n(85117),u=n(7207);r({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}}()},{unshift:function(t){var e=i(this),n=s(e),r=arguments.length;if(r){u(n+r);for(var l=n;l--;){var c=l+r;l in e?e[c]=e[l]:a(e,c)}for(var h=0;h<r;h++)e[h]=arguments[h]}return o(e,n+r)}})},35581:function(t,e,n){"use strict";var r=n(82109),i=n(11572),s=n(45656),o=Array;r({target:"Array",proto:!0},{with:function(t,e){return i(s(this),o,t,e)}})},3690:function(t,e,n){var r=n(82109),i=n(13331);r({global:!0,constructor:!0,forced:!n(23013)},{DataView:i.DataView})},16716:function(t,e,n){n(3690)},43016:function(t,e,n){"use strict";var r=n(82109),i=n(1702),s=n(47293)((function(){return 120!==new Date(16e11).getYear()})),o=i(Date.prototype.getFullYear);r({target:"Date",proto:!0,forced:s},{getYear:function(){return o(this)-1900}})},3843:function(t,e,n){var r=n(82109),i=n(1702),s=Date,o=i(s.prototype.getTime);r({target:"Date",stat:!0},{now:function(){return o(new s)}})},81801:function(t,e,n){"use strict";var r=n(82109),i=n(1702),s=n(19303),o=Date.prototype,a=i(o.getTime),u=i(o.setFullYear);r({target:"Date",proto:!0},{setYear:function(t){a(this);var e=s(t);return u(this,0<=e&&e<=99?e+1900:e)}})},9550:function(t,e,n){n(82109)({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})},28733:function(t,e,n){var r=n(82109),i=n(85573);r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},5735:function(t,e,n){"use strict";var r=n(82109),i=n(47293),s=n(47908),o=n(57593);r({target:"Date",proto:!0,arity:1,forced:i((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(t){var e=s(this),n=o(e,"number");return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},96078:function(t,e,n){var r=n(92597),i=n(98052),s=n(38709),o=n(5112)("toPrimitive"),a=Date.prototype;r(a,o)||i(a,o,s)},83710:function(t,e,n){var r=n(1702),i=n(98052),s=Date.prototype,o="Invalid Date",a="toString",u=r(s[a]),l=r(s.getTime);String(new Date(NaN))!=o&&i(s,a,(function(){var t=l(this);return t==t?u(this):o}))},21703:function(t,e,n){var r=n(82109),i=n(17854),s=n(22104),o=n(89191),a="WebAssembly",u=i[a],l=7!==Error("e",{cause:7}).cause,c=function(t,e){var n={};n[t]=o(t,e,l),r({global:!0,constructor:!0,arity:1,forced:l},n)},h=function(t,e){if(u&&u[t]){var n={};n[t]=o(a+"."+t,e,l),r({target:a,stat:!0,constructor:!0,arity:1,forced:l},n)}};c("Error",(function(t){return function(e){return s(t,this,arguments)}})),c("EvalError",(function(t){return function(e){return s(t,this,arguments)}})),c("RangeError",(function(t){return function(e){return s(t,this,arguments)}})),c("ReferenceError",(function(t){return function(e){return s(t,this,arguments)}})),c("SyntaxError",(function(t){return function(e){return s(t,this,arguments)}})),c("TypeError",(function(t){return function(e){return s(t,this,arguments)}})),c("URIError",(function(t){return function(e){return s(t,this,arguments)}})),h("CompileError",(function(t){return function(e){return s(t,this,arguments)}})),h("LinkError",(function(t){return function(e){return s(t,this,arguments)}})),h("RuntimeError",(function(t){return function(e){return s(t,this,arguments)}}))},96647:function(t,e,n){var r=n(98052),i=n(7762),s=Error.prototype;s.toString!==i&&r(s,"toString",i)},62130:function(t,e,n){"use strict";var r=n(82109),i=n(1702),s=n(41340),o=i("".charAt),a=i("".charCodeAt),u=i(/./.exec),l=i(1..toString),c=i("".toUpperCase),h=/[\w*+\-./@]/,d=function(t,e){for(var n=l(t,16);n.length<e;)n="0"+n;return n};r({global:!0},{escape:function(t){for(var e,n,r=s(t),i="",l=r.length,f=0;f<l;)e=o(r,f++),u(h,e)?i+=e:i+=(n=a(e,0))<256?"%"+d(n,2):"%u"+c(d(n,4));return i}})},24812:function(t,e,n){var r=n(82109),i=n(27065);r({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},4855:function(t,e,n){"use strict";var r=n(60614),i=n(70111),s=n(3070),o=n(79518),a=n(5112),u=n(56339),l=a("hasInstance"),c=Function.prototype;l in c||s.f(c,l,{value:u((function(t){if(!r(this)||!i(t))return!1;var e=this.prototype;if(!i(e))return t instanceof this;for(;t=o(t);)if(e===t)return!0;return!1}),l)})},68309:function(t,e,n){var r=n(19781),i=n(76530).EXISTS,s=n(1702),o=n(47045),a=Function.prototype,u=s(a.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,c=s(l.exec);r&&!i&&o(a,"name",{configurable:!0,get:function(){try{return c(l,u(this))[1]}catch(t){return""}}})},35837:function(t,e,n){var r=n(82109),i=n(17854);r({global:!0,forced:i.globalThis!==i},{globalThis:i})},38862:function(t,e,n){var r=n(82109),i=n(35005),s=n(22104),o=n(46916),a=n(1702),u=n(47293),l=n(60614),c=n(52190),h=n(50206),d=n(88044),f=n(36293),p=String,m=i("JSON","stringify"),g=a(/./.exec),v=a("".charAt),y=a("".charCodeAt),_=a("".replace),b=a(1..toString),w=/[\uD800-\uDFFF]/g,I=/^[\uD800-\uDBFF]$/,P=/^[\uDC00-\uDFFF]$/,T=!f||u((function(){var t=i("Symbol")();return"[null]"!=m([t])||"{}"!=m({a:t})||"{}"!=m(Object(t))})),E=u((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),j=function(t,e){var n=h(arguments),r=d(e);if(l(r)||void 0!==t&&!c(t))return n[1]=function(t,e){if(l(r)&&(e=o(r,this,p(t),e)),!c(e))return e},s(m,null,n)},k=function(t,e,n){var r=v(n,e-1),i=v(n,e+1);return g(I,t)&&!g(P,i)||g(P,t)&&!g(I,r)?"\\u"+b(y(t,0),16):t};m&&r({target:"JSON",stat:!0,arity:3,forced:T||E},{stringify:function(t,e,n){var r=h(arguments),i=s(T?j:m,null,r);return E&&"string"==typeof i?_(i,w,k):i}})},73706:function(t,e,n){var r=n(17854);n(58003)(r.JSON,"JSON",!0)},69098:function(t,e,n){"use strict";n(77710)("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(95631))},51532:function(t,e,n){n(69098)},99752:function(t,e,n){var r=n(82109),i=n(26513),s=Math.acosh,o=Math.log,a=Math.sqrt,u=Math.LN2;r({target:"Math",stat:!0,forced:!s||710!=Math.floor(s(Number.MAX_VALUE))||s(1/0)!=1/0},{acosh:function(t){var e=+t;return e<1?NaN:e>94906265.62425156?o(e)+u:i(e-1+a(e-1)*a(e+1))}})},82376:function(t,e,n){var r=n(82109),i=Math.asinh,s=Math.log,o=Math.sqrt;r({target:"Math",stat:!0,forced:!(i&&1/i(0)>0)},{asinh:function t(e){var n=+e;return isFinite(n)&&0!=n?n<0?-t(-n):s(n+o(n*n+1)):n}})},73181:function(t,e,n){var r=n(82109),i=Math.atanh,s=Math.log;r({target:"Math",stat:!0,forced:!(i&&1/i(-0)<0)},{atanh:function(t){var e=+t;return 0==e?e:s((1+e)/(1-e))/2}})},23484:function(t,e,n){var r=n(82109),i=n(64310),s=Math.abs,o=Math.pow;r({target:"Math",stat:!0},{cbrt:function(t){var e=+t;return i(e)*o(s(e),1/3)}})},2388:function(t,e,n){var r=n(82109),i=Math.floor,s=Math.log,o=Math.LOG2E;r({target:"Math",stat:!0},{clz32:function(t){var e=t>>>0;return e?31-i(s(e+.5)*o):32}})},88621:function(t,e,n){var r=n(82109),i=n(66736),s=Math.cosh,o=Math.abs,a=Math.E;r({target:"Math",stat:!0,forced:!s||s(710)===1/0},{cosh:function(t){var e=i(o(t)-1)+1;return(e+1/(e*a*a))*(a/2)}})},60403:function(t,e,n){var r=n(82109),i=n(66736);r({target:"Math",stat:!0,forced:i!=Math.expm1},{expm1:i})},84755:function(t,e,n){n(82109)({target:"Math",stat:!0},{fround:n(26130)})},25438:function(t,e,n){var r=n(82109),i=Math.hypot,s=Math.abs,o=Math.sqrt;r({target:"Math",stat:!0,arity:2,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,r,i=0,a=0,u=arguments.length,l=0;a<u;)l<(n=s(arguments[a++]))?(i=i*(r=l/n)*r+1,l=n):i+=n>0?(r=n/l)*r:n;return l===1/0?1/0:l*o(i)}})},90332:function(t,e,n){var r=n(82109),i=n(47293),s=Math.imul;r({target:"Math",stat:!0,forced:i((function(){return-5!=s(4294967295,5)||2!=s.length}))},{imul:function(t,e){var n=65535,r=+t,i=+e,s=n&r,o=n&i;return 0|s*o+((n&r>>>16)*o+s*(n&i>>>16)<<16>>>0)}})},40658:function(t,e,n){n(82109)({target:"Math",stat:!0},{log10:n(20403)})},40197:function(t,e,n){n(82109)({target:"Math",stat:!0},{log1p:n(26513)})},44914:function(t,e,n){var r=n(82109),i=Math.log,s=Math.LN2;r({target:"Math",stat:!0},{log2:function(t){return i(t)/s}})},52420:function(t,e,n){n(82109)({target:"Math",stat:!0},{sign:n(64310)})},60160:function(t,e,n){var r=n(82109),i=n(47293),s=n(66736),o=Math.abs,a=Math.exp,u=Math.E;r({target:"Math",stat:!0,forced:i((function(){return-2e-17!=Math.sinh(-2e-17)}))},{sinh:function(t){var e=+t;return o(e)<1?(s(e)-s(-e))/2:(a(e-1)-a(-e-1))*(u/2)}})},60970:function(t,e,n){var r=n(82109),i=n(66736),s=Math.exp;r({target:"Math",stat:!0},{tanh:function(t){var e=+t,n=i(e),r=i(-e);return n==1/0?1:r==1/0?-1:(n-r)/(s(e)+s(-e))}})},10408:function(t,e,n){n(58003)(Math,"Math",!0)},73689:function(t,e,n){n(82109)({target:"Math",stat:!0},{trunc:n(74758)})},9653:function(t,e,n){"use strict";var r=n(82109),i=n(31913),s=n(19781),o=n(17854),a=n(40857),u=n(1702),l=n(54705),c=n(92597),h=n(79587),d=n(47976),f=n(52190),p=n(57593),m=n(47293),g=n(8006).f,v=n(31236).f,y=n(3070).f,_=n(50863),b=n(53111).trim,w="Number",I=o[w],P=a[w],T=I.prototype,E=o.TypeError,j=u("".slice),k=u("".charCodeAt),S=l(w,!I(" 0o1")||!I("0b1")||I("+0x1")),x=function(t){var e,n=arguments.length<1?0:I(function(t){var e=p(t,"number");return"bigint"==typeof e?e:function(t){var e,n,r,i,s,o,a,u,l=p(t,"number");if(f(l))throw E("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=b(l),43===(e=k(l,0))||45===e){if(88===(n=k(l,2))||120===n)return NaN}else if(48===e){switch(k(l,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+l}for(o=(s=j(l,2)).length,a=0;a<o;a++)if((u=k(s,a))<48||u>i)return NaN;return parseInt(s,r)}return+l}(e)}(t));return d(T,e=this)&&m((function(){_(e)}))?h(Object(n),this,x):n};x.prototype=T,S&&!i&&(T.constructor=x),r({global:!0,constructor:!0,wrap:!0,forced:S},{Number:x});var C=function(t,e){for(var n,r=s?g(e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;r.length>i;i++)c(e,n=r[i])&&!c(t,n)&&y(t,n,v(e,n))};i&&P&&C(a[w],P),(S||i)&&C(a[w],I)},93299:function(t,e,n){n(82109)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})},35192:function(t,e,n){n(82109)({target:"Number",stat:!0},{isFinite:n(77023)})},33161:function(t,e,n){n(82109)({target:"Number",stat:!0},{isInteger:n(55988)})},44048:function(t,e,n){n(82109)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},78285:function(t,e,n){var r=n(82109),i=n(55988),s=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function(t){return i(t)&&s(t)<=9007199254740991}})},44363:function(t,e,n){n(82109)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},55994:function(t,e,n){n(82109)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})},61874:function(t,e,n){var r=n(82109),i=n(2814);r({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},9494:function(t,e,n){var r=n(82109),i=n(83009);r({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},31354:function(t,e,n){"use strict";var r=n(82109),i=n(1702),s=n(19303),o=n(50863),a=n(38415),u=n(20403),l=n(47293),c=RangeError,h=String,d=isFinite,f=Math.abs,p=Math.floor,m=Math.pow,g=Math.round,v=i(1..toExponential),y=i(a),_=i("".slice),b="-6.9000e-11"===v(-69e-12,4)&&"1.25e+0"===v(1.255,2)&&"1.235e+4"===v(12345,3)&&"3e+1"===v(25,0);r({target:"Number",proto:!0,forced:!b||!(l((function(){v(1,1/0)}))&&l((function(){v(1,-1/0)})))||!!l((function(){v(1/0,1/0),v(NaN,1/0)}))},{toExponential:function(t){var e=o(this);if(void 0===t)return v(e);var n=s(t);if(!d(e))return String(e);if(n<0||n>20)throw c("Incorrect fraction digits");if(b)return v(e,n);var r="",i="",a=0,l="",w="";if(e<0&&(r="-",e=-e),0===e)a=0,i=y("0",n+1);else{var I=u(e);a=p(I);var P=0,T=m(10,a-n);2*e>=(2*(P=g(e/T))+1)*T&&(P+=1),P>=m(10,n+1)&&(P/=10,a+=1),i=h(P)}return 0!==n&&(i=_(i,0,1)+"."+_(i,1)),0===a?(l="+",w="0"):(l=a>0?"+":"-",w=h(f(a))),r+(i+"e")+l+w}})},56977:function(t,e,n){"use strict";var r=n(82109),i=n(1702),s=n(19303),o=n(50863),a=n(38415),u=n(47293),l=RangeError,c=String,h=Math.floor,d=i(a),f=i("".slice),p=i(1..toFixed),m=function(t,e,n){return 0===e?n:e%2==1?m(t,e-1,n*t):m(t*t,e/2,n)},g=function(t,e,n){for(var r=-1,i=n;++r<6;)i+=e*t[r],t[r]=i%1e7,i=h(i/1e7)},v=function(t,e){for(var n=6,r=0;--n>=0;)r+=t[n],t[n]=h(r/e),r=r%e*1e7},y=function(t){for(var e=6,n="";--e>=0;)if(""!==n||0===e||0!==t[e]){var r=c(t[e]);n=""===n?r:n+d("0",7-r.length)+r}return n};r({target:"Number",proto:!0,forced:u((function(){return"0.000"!==p(8e-5,3)||"1"!==p(.9,0)||"1.25"!==p(1.255,2)||"1000000000000000128"!==p(0xde0b6b3a7640080,0)}))||!u((function(){p({})}))},{toFixed:function(t){var e,n,r,i,a=o(this),u=s(t),h=[0,0,0,0,0,0],p="",_="0";if(u<0||u>20)throw l("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return c(a);if(a<0&&(p="-",a=-a),a>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(a*m(2,69,1))-69)<0?a*m(2,-e,1):a/m(2,e,1),n*=4503599627370496,(e=52-e)>0){for(g(h,0,n),r=u;r>=7;)g(h,1e7,0),r-=7;for(g(h,m(10,r,1),0),r=e-1;r>=23;)v(h,1<<23),r-=23;v(h,1<<r),g(h,1,1),v(h,2),_=y(h)}else g(h,0,n),g(h,1<<-e,0),_=y(h)+d("0",u);return u>0?p+((i=_.length)<=u?"0."+d("0",u-i)+_:f(_,0,i-u)+"."+f(_,i-u)):p+_}})},55147:function(t,e,n){"use strict";var r=n(82109),i=n(1702),s=n(47293),o=n(50863),a=i(1..toPrecision);r({target:"Number",proto:!0,forced:s((function(){return"1"!==a(1,void 0)}))||!s((function(){a({})}))},{toPrecision:function(t){return void 0===t?a(o(this)):a(o(this),t)}})},19601:function(t,e,n){var r=n(82109),i=n(21574);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},78011:function(t,e,n){n(82109)({target:"Object",stat:!0,sham:!n(19781)},{create:n(70030)})},59595:function(t,e,n){"use strict";var r=n(82109),i=n(19781),s=n(69026),o=n(19662),a=n(47908),u=n(3070);i&&r({target:"Object",proto:!0,forced:s},{__defineGetter__:function(t,e){u.f(a(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},33321:function(t,e,n){var r=n(82109),i=n(19781),s=n(36048).f;r({target:"Object",stat:!0,forced:Object.defineProperties!==s,sham:!i},{defineProperties:s})},69070:function(t,e,n){var r=n(82109),i=n(19781),s=n(3070).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==s,sham:!i},{defineProperty:s})},35500:function(t,e,n){"use strict";var r=n(82109),i=n(19781),s=n(69026),o=n(19662),a=n(47908),u=n(3070);i&&r({target:"Object",proto:!0,forced:s},{__defineSetter__:function(t,e){u.f(a(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},69720:function(t,e,n){var r=n(82109),i=n(44699).entries;r({target:"Object",stat:!0},{entries:function(t){return i(t)}})},43371:function(t,e,n){var r=n(82109),i=n(76677),s=n(47293),o=n(70111),a=n(62423).onFreeze,u=Object.freeze;r({target:"Object",stat:!0,forced:s((function(){u(1)})),sham:!i},{freeze:function(t){return u&&o(t)?u(a(t)):t}})},38559:function(t,e,n){var r=n(82109),i=n(20408),s=n(86135);r({target:"Object",stat:!0},{fromEntries:function(t){var e={};return i(t,(function(t,n){s(e,t,n)}),{AS_ENTRIES:!0}),e}})},38880:function(t,e,n){var r=n(82109),i=n(47293),s=n(45656),o=n(31236).f,a=n(19781);r({target:"Object",stat:!0,forced:!a||i((function(){o(1)})),sham:!a},{getOwnPropertyDescriptor:function(t,e){return o(s(t),e)}})},49337:function(t,e,n){var r=n(82109),i=n(19781),s=n(53887),o=n(45656),a=n(31236),u=n(86135);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),i=a.f,l=s(r),c={},h=0;l.length>h;)void 0!==(n=i(r,e=l[h++]))&&u(c,e,n);return c}})},36210:function(t,e,n){var r=n(82109),i=n(47293),s=n(1156).f;r({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:s})},29660:function(t,e,n){var r=n(82109),i=n(36293),s=n(47293),o=n(25181),a=n(47908);r({target:"Object",stat:!0,forced:!i||s((function(){o.f(1)}))},{getOwnPropertySymbols:function(t){var e=o.f;return e?e(a(t)):[]}})},30489:function(t,e,n){var r=n(82109),i=n(47293),s=n(47908),o=n(79518),a=n(49920);r({target:"Object",stat:!0,forced:i((function(){o(1)})),sham:!a},{getPrototypeOf:function(t){return o(s(t))}})},46314:function(t,e,n){n(82109)({target:"Object",stat:!0},{hasOwn:n(92597)})},41825:function(t,e,n){var r=n(82109),i=n(52050);r({target:"Object",stat:!0,forced:Object.isExtensible!==i},{isExtensible:i})},98410:function(t,e,n){var r=n(82109),i=n(47293),s=n(70111),o=n(84326),a=n(7556),u=Object.isFrozen;r({target:"Object",stat:!0,forced:a||i((function(){u(1)}))},{isFrozen:function(t){return!s(t)||!(!a||"ArrayBuffer"!=o(t))||!!u&&u(t)}})},72200:function(t,e,n){var r=n(82109),i=n(47293),s=n(70111),o=n(84326),a=n(7556),u=Object.isSealed;r({target:"Object",stat:!0,forced:a||i((function(){u(1)}))},{isSealed:function(t){return!s(t)||!(!a||"ArrayBuffer"!=o(t))||!!u&&u(t)}})},43304:function(t,e,n){n(82109)({target:"Object",stat:!0},{is:n(81150)})},47941:function(t,e,n){var r=n(82109),i=n(47908),s=n(81956);r({target:"Object",stat:!0,forced:n(47293)((function(){s(1)}))},{keys:function(t){return s(i(t))}})},94869:function(t,e,n){"use strict";var r=n(82109),i=n(19781),s=n(69026),o=n(47908),a=n(34948),u=n(79518),l=n(31236).f;i&&r({target:"Object",proto:!0,forced:s},{__lookupGetter__:function(t){var e,n=o(this),r=a(t);do{if(e=l(n,r))return e.get}while(n=u(n))}})},33952:function(t,e,n){"use strict";var r=n(82109),i=n(19781),s=n(69026),o=n(47908),a=n(34948),u=n(79518),l=n(31236).f;i&&r({target:"Object",proto:!0,forced:s},{__lookupSetter__:function(t){var e,n=o(this),r=a(t);do{if(e=l(n,r))return e.set}while(n=u(n))}})},57227:function(t,e,n){var r=n(82109),i=n(70111),s=n(62423).onFreeze,o=n(76677),a=n(47293),u=Object.preventExtensions;r({target:"Object",stat:!0,forced:a((function(){u(1)})),sham:!o},{preventExtensions:function(t){return u&&i(t)?u(s(t)):t}})},67987:function(t,e,n){"use strict";var r=n(19781),i=n(47045),s=n(70111),o=n(47908),a=n(84488),u=Object.getPrototypeOf,l=Object.setPrototypeOf,c=Object.prototype,h="__proto__";if(r&&u&&l&&!(h in c))try{i(c,h,{configurable:!0,get:function(){return u(o(this))},set:function(t){var e=a(this);(s(t)||null===t)&&s(e)&&l(e,t)}})}catch(t){}},60514:function(t,e,n){var r=n(82109),i=n(70111),s=n(62423).onFreeze,o=n(76677),a=n(47293),u=Object.seal;r({target:"Object",stat:!0,forced:a((function(){u(1)})),sham:!o},{seal:function(t){return u&&i(t)?u(s(t)):t}})},68304:function(t,e,n){n(82109)({target:"Object",stat:!0},{setPrototypeOf:n(27674)})},41539:function(t,e,n){var r=n(51694),i=n(98052),s=n(90288);r||i(Object.prototype,"toString",s,{unsafe:!0})},26833:function(t,e,n){var r=n(82109),i=n(44699).values;r({target:"Object",stat:!0},{values:function(t){return i(t)}})},54678:function(t,e,n){var r=n(82109),i=n(2814);r({global:!0,forced:parseFloat!=i},{parseFloat:i})},91058:function(t,e,n){var r=n(82109),i=n(83009);r({global:!0,forced:parseInt!=i},{parseInt:i})},17922:function(t,e,n){"use strict";var r=n(82109),i=n(46916),s=n(19662),o=n(78523),a=n(12534),u=n(20408);r({target:"Promise",stat:!0,forced:n(80612)},{allSettled:function(t){var e=this,n=o.f(e),r=n.resolve,l=n.reject,c=a((function(){var n=s(e.resolve),o=[],a=0,l=1;u(t,(function(t){var s=a++,u=!1;l++,i(n,e,t).then((function(t){u||(u=!0,o[s]={status:"fulfilled",value:t},--l||r(o))}),(function(t){u||(u=!0,o[s]={status:"rejected",reason:t},--l||r(o))}))})),--l||r(o)}));return c.error&&l(c.value),n.promise}})},70821:function(t,e,n){"use strict";var r=n(82109),i=n(46916),s=n(19662),o=n(78523),a=n(12534),u=n(20408);r({target:"Promise",stat:!0,forced:n(80612)},{all:function(t){var e=this,n=o.f(e),r=n.resolve,l=n.reject,c=a((function(){var n=s(e.resolve),o=[],a=0,c=1;u(t,(function(t){var s=a++,u=!1;c++,i(n,e,t).then((function(t){u||(u=!0,o[s]=t,--c||r(o))}),l)})),--c||r(o)}));return c.error&&l(c.value),n.promise}})},34668:function(t,e,n){"use strict";var r=n(82109),i=n(46916),s=n(19662),o=n(35005),a=n(78523),u=n(12534),l=n(20408),c=n(80612),h="No one promise resolved";r({target:"Promise",stat:!0,forced:c},{any:function(t){var e=this,n=o("AggregateError"),r=a.f(e),c=r.resolve,d=r.reject,f=u((function(){var r=s(e.resolve),o=[],a=0,u=1,f=!1;l(t,(function(t){var s=a++,l=!1;u++,i(r,e,t).then((function(t){l||f||(f=!0,c(t))}),(function(t){l||f||(l=!0,o[s]=t,--u||d(new n(o,h)))}))})),--u||d(new n(o,h))}));return f.error&&d(f.value),r.promise}})},94164:function(t,e,n){"use strict";var r=n(82109),i=n(31913),s=n(63702).CONSTRUCTOR,o=n(2492),a=n(35005),u=n(60614),l=n(98052),c=o&&o.prototype;if(r({target:"Promise",proto:!0,forced:s,real:!0},{catch:function(t){return this.then(void 0,t)}}),!i&&u(o)){var h=a("Promise").prototype.catch;c.catch!==h&&l(c,"catch",h,{unsafe:!0})}},43401:function(t,e,n){"use strict";var r,i,s,o=n(82109),a=n(31913),u=n(35268),l=n(17854),c=n(46916),h=n(98052),d=n(27674),f=n(58003),p=n(96340),m=n(19662),g=n(60614),v=n(70111),y=n(25787),_=n(36707),b=n(20261).set,w=n(95948),I=n(842),P=n(12534),T=n(18572),E=n(29909),j=n(2492),k=n(63702),S=n(78523),x="Promise",C=k.CONSTRUCTOR,R=k.REJECTION_EVENT,O=k.SUBCLASSING,A=E.getterFor(x),N=E.set,L=j&&j.prototype,M=j,D=L,F=l.TypeError,G=l.document,U=l.process,q=S.f,B=q,z=!!(G&&G.createEvent&&l.dispatchEvent),H="unhandledrejection",W=function(t){var e;return!(!v(t)||!g(e=t.then))&&e},V=function(t,e){var n,r,i,s=e.value,o=1==e.state,a=o?t.ok:t.fail,u=t.resolve,l=t.reject,h=t.domain;try{a?(o||(2===e.rejection&&Q(e),e.rejection=1),!0===a?n=s:(h&&h.enter(),n=a(s),h&&(h.exit(),i=!0)),n===t.promise?l(F("Promise-chain cycle")):(r=W(n))?c(r,n,u,l):u(n)):l(s)}catch(t){h&&!i&&h.exit(),l(t)}},K=function(t,e){t.notified||(t.notified=!0,w((function(){for(var n,r=t.reactions;n=r.get();)V(n,t);t.notified=!1,e&&!t.rejection&&Y(t)})))},$=function(t,e,n){var r,i;z?((r=G.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),l.dispatchEvent(r)):r={promise:e,reason:n},!R&&(i=l["on"+t])?i(r):t===H&&I("Unhandled promise rejection",n)},Y=function(t){c(b,l,(function(){var e,n=t.facade,r=t.value;if(J(t)&&(e=P((function(){u?U.emit("unhandledRejection",r,n):$(H,n,r)})),t.rejection=u||J(t)?2:1,e.error))throw e.value}))},J=function(t){return 1!==t.rejection&&!t.parent},Q=function(t){c(b,l,(function(){var e=t.facade;u?U.emit("rejectionHandled",e):$("rejectionhandled",e,t.value)}))},X=function(t,e,n){return function(r){t(e,r,n)}},Z=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,K(t,!0))},tt=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw F("Promise can't be resolved itself");var r=W(e);r?w((function(){var n={done:!1};try{c(r,e,X(tt,n,t),X(Z,n,t))}catch(e){Z(n,e,t)}})):(t.value=e,t.state=1,K(t,!1))}catch(e){Z({done:!1},e,t)}}};if(C&&(D=(M=function(t){y(this,D),m(t),c(r,this);var e=A(this);try{t(X(tt,e),X(Z,e))}catch(t){Z(e,t)}}).prototype,(r=function(t){N(this,{type:x,done:!1,notified:!1,parent:!1,reactions:new T,rejection:!1,state:0,value:void 0})}).prototype=h(D,"then",(function(t,e){var n=A(this),r=q(_(this,M));return n.parent=!0,r.ok=!g(t)||t,r.fail=g(e)&&e,r.domain=u?U.domain:void 0,0==n.state?n.reactions.add(r):w((function(){V(r,n)})),r.promise})),i=function(){var t=new r,e=A(t);this.promise=t,this.resolve=X(tt,e),this.reject=X(Z,e)},S.f=q=function(t){return t===M||void 0===t?new i(t):B(t)},!a&&g(j)&&L!==Object.prototype)){s=L.then,O||h(L,"then",(function(t,e){var n=this;return new M((function(t,e){c(s,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete L.constructor}catch(t){}d&&d(L,D)}o({global:!0,constructor:!0,wrap:!0,forced:C},{Promise:M}),f(M,x,!1,!0),p(x)},17727:function(t,e,n){"use strict";var r=n(82109),i=n(31913),s=n(2492),o=n(47293),a=n(35005),u=n(60614),l=n(36707),c=n(69478),h=n(98052),d=s&&s.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!s&&o((function(){d.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=l(this,a("Promise")),n=u(t);return this.then(n?function(n){return c(e,t()).then((function(){return n}))}:t,n?function(n){return c(e,t()).then((function(){throw n}))}:t)}}),!i&&u(s)){var f=a("Promise").prototype.finally;d.finally!==f&&h(d,"finally",f,{unsafe:!0})}},88674:function(t,e,n){n(43401),n(70821),n(94164),n(6027),n(60683),n(96294)},6027:function(t,e,n){"use strict";var r=n(82109),i=n(46916),s=n(19662),o=n(78523),a=n(12534),u=n(20408);r({target:"Promise",stat:!0,forced:n(80612)},{race:function(t){var e=this,n=o.f(e),r=n.reject,l=a((function(){var o=s(e.resolve);u(t,(function(t){i(o,e,t).then(n.resolve,r)}))}));return l.error&&r(l.value),n.promise}})},60683:function(t,e,n){"use strict";var r=n(82109),i=n(46916),s=n(78523);r({target:"Promise",stat:!0,forced:n(63702).CONSTRUCTOR},{reject:function(t){var e=s.f(this);return i(e.reject,void 0,t),e.promise}})},96294:function(t,e,n){"use strict";var r=n(82109),i=n(35005),s=n(31913),o=n(2492),a=n(63702).CONSTRUCTOR,u=n(69478),l=i("Promise"),c=s&&!a;r({target:"Promise",stat:!0,forced:s||a},{resolve:function(t){return u(c&&this===l?o:this,t)}})},36535:function(t,e,n){var r=n(82109),i=n(22104),s=n(19662),o=n(19670);r({target:"Reflect",stat:!0,forced:!n(47293)((function(){Reflect.apply((function(){}))}))},{apply:function(t,e,n){return i(s(t),e,o(n))}})},12419:function(t,e,n){var r=n(82109),i=n(35005),s=n(22104),o=n(27065),a=n(39483),u=n(19670),l=n(70111),c=n(70030),h=n(47293),d=i("Reflect","construct"),f=Object.prototype,p=[].push,m=h((function(){function t(){}return!(d((function(){}),[],t)instanceof t)})),g=!h((function(){d((function(){}))})),v=m||g;r({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(t,e){a(t),u(e);var n=arguments.length<3?t:a(arguments[2]);if(g&&!m)return d(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return s(p,r,e),new(s(o,t,r))}var i=n.prototype,h=c(l(i)?i:f),v=s(t,h,e);return l(v)?v:h}})},69596:function(t,e,n){var r=n(82109),i=n(19781),s=n(19670),o=n(34948),a=n(3070);r({target:"Reflect",stat:!0,forced:n(47293)((function(){Reflect.defineProperty(a.f({},1,{value:1}),1,{value:2})})),sham:!i},{defineProperty:function(t,e,n){s(t);var r=o(e);s(n);try{return a.f(t,r,n),!0}catch(t){return!1}}})},52586:function(t,e,n){var r=n(82109),i=n(19670),s=n(31236).f;r({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var n=s(i(t),e);return!(n&&!n.configurable)&&delete t[e]}})},95683:function(t,e,n){var r=n(82109),i=n(19781),s=n(19670),o=n(31236);r({target:"Reflect",stat:!0,sham:!i},{getOwnPropertyDescriptor:function(t,e){return o.f(s(t),e)}})},39361:function(t,e,n){var r=n(82109),i=n(19670),s=n(79518);r({target:"Reflect",stat:!0,sham:!n(49920)},{getPrototypeOf:function(t){return s(i(t))}})},74819:function(t,e,n){var r=n(82109),i=n(46916),s=n(70111),o=n(19670),a=n(45032),u=n(31236),l=n(79518);r({target:"Reflect",stat:!0},{get:function t(e,n){var r,c,h=arguments.length<3?e:arguments[2];return o(e)===h?e[n]:(r=u.f(e,n))?a(r)?r.value:void 0===r.get?void 0:i(r.get,h):s(c=l(e))?t(c,n,h):void 0}})},51037:function(t,e,n){n(82109)({target:"Reflect",stat:!0},{has:function(t,e){return e in t}})},5898:function(t,e,n){var r=n(82109),i=n(19670),s=n(52050);r({target:"Reflect",stat:!0},{isExtensible:function(t){return i(t),s(t)}})},67556:function(t,e,n){n(82109)({target:"Reflect",stat:!0},{ownKeys:n(53887)})},14361:function(t,e,n){var r=n(82109),i=n(35005),s=n(19670);r({target:"Reflect",stat:!0,sham:!n(76677)},{preventExtensions:function(t){s(t);try{var e=i("Object","preventExtensions");return e&&e(t),!0}catch(t){return!1}}})},39532:function(t,e,n){var r=n(82109),i=n(19670),s=n(96077),o=n(27674);o&&r({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){i(t),s(e);try{return o(t,e),!0}catch(t){return!1}}})},83593:function(t,e,n){var r=n(82109),i=n(46916),s=n(19670),o=n(70111),a=n(45032),u=n(47293),l=n(3070),c=n(31236),h=n(79518),d=n(79114);r({target:"Reflect",stat:!0,forced:u((function(){var t=function(){},e=l.f(new t,"a",{configurable:!0});return!1!==Reflect.set(t.prototype,"a",1,e)}))},{set:function t(e,n,r){var u,f,p,m=arguments.length<4?e:arguments[3],g=c.f(s(e),n);if(!g){if(o(f=h(e)))return t(f,n,r,m);g=d(0)}if(a(g)){if(!1===g.writable||!o(m))return!1;if(u=c.f(m,n)){if(u.get||u.set||!1===u.writable)return!1;u.value=r,l.f(m,n,u)}else l.f(m,n,d(0,r))}else{if(void 0===(p=g.set))return!1;i(p,m,r)}return!0}})},81299:function(t,e,n){var r=n(82109),i=n(17854),s=n(58003);r({global:!0},{Reflect:{}}),s(i.Reflect,"Reflect",!0)},24603:function(t,e,n){var r=n(19781),i=n(17854),s=n(1702),o=n(54705),a=n(79587),u=n(68880),l=n(8006).f,c=n(47976),h=n(47850),d=n(41340),f=n(34706),p=n(52999),m=n(2626),g=n(98052),v=n(47293),y=n(92597),_=n(29909).enforce,b=n(96340),w=n(5112),I=n(9441),P=n(38173),T=w("match"),E=i.RegExp,j=E.prototype,k=i.SyntaxError,S=s(j.exec),x=s("".charAt),C=s("".replace),R=s("".indexOf),O=s("".slice),A=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,N=/a/g,L=/a/g,M=new E(N)!==N,D=p.MISSED_STICKY,F=p.UNSUPPORTED_Y;if(o("RegExp",r&&(!M||D||I||P||v((function(){return L[T]=!1,E(N)!=N||E(L)==L||"/a/i"!=E(N,"i")}))))){for(var G=function(t,e){var n,r,i,s,o,l,p=c(j,this),m=h(t),g=void 0===e,v=[],b=t;if(!p&&m&&g&&t.constructor===G)return t;if((m||c(j,t))&&(t=t.source,g&&(e=f(b))),t=void 0===t?"":d(t),e=void 0===e?"":d(e),b=t,I&&"dotAll"in N&&(r=!!e&&R(e,"s")>-1)&&(e=C(e,/s/g,"")),n=e,D&&"sticky"in N&&(i=!!e&&R(e,"y")>-1)&&F&&(e=C(e,/y/g,"")),P&&(s=function(t){for(var e,n=t.length,r=0,i="",s=[],o={},a=!1,u=!1,l=0,c="";r<=n;r++){if("\\"===(e=x(t,r)))e+=x(t,++r);else if("]"===e)a=!1;else if(!a)switch(!0){case"["===e:a=!0;break;case"("===e:S(A,O(t,r+1))&&(r+=2,u=!0),i+=e,l++;continue;case">"===e&&u:if(""===c||y(o,c))throw new k("Invalid capture group name");o[c]=!0,s[s.length]=[c,l],u=!1,c="";continue}u?c+=e:i+=e}return[i,s]}(t),t=s[0],v=s[1]),o=a(E(t,e),p?this:j,G),(r||i||v.length)&&(l=_(o),r&&(l.dotAll=!0,l.raw=G(function(t){for(var e,n=t.length,r=0,i="",s=!1;r<=n;r++)"\\"!==(e=x(t,r))?s||"."!==e?("["===e?s=!0:"]"===e&&(s=!1),i+=e):i+="[\\s\\S]":i+=e+x(t,++r);return i}(t),n)),i&&(l.sticky=!0),v.length&&(l.groups=v)),t!==b)try{u(o,"source",""===b?"(?:)":b)}catch(t){}return o},U=l(E),q=0;U.length>q;)m(G,E,U[q++]);j.constructor=G,G.prototype=j,g(i,"RegExp",G,{constructor:!0})}b("RegExp")},28450:function(t,e,n){var r=n(19781),i=n(9441),s=n(84326),o=n(47045),a=n(29909).get,u=RegExp.prototype,l=TypeError;r&&i&&o(u,"dotAll",{configurable:!0,get:function(){if(this!==u){if("RegExp"===s(this))return!!a(this).dotAll;throw l("Incompatible receiver, RegExp required")}}})},74916:function(t,e,n){"use strict";var r=n(82109),i=n(22261);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},92087:function(t,e,n){var r=n(17854),i=n(19781),s=n(47045),o=n(67066),a=n(47293),u=r.RegExp,l=u.prototype;i&&a((function(){var t=!0;try{u(".","d")}catch(e){t=!1}var e={},n="",r=t?"dgimsy":"gimsy",i=function(t,r){Object.defineProperty(e,t,{get:function(){return n+=r,!0}})},s={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in t&&(s.hasIndices="d"),s)i(o,s[o]);return Object.getOwnPropertyDescriptor(l,"flags").get.call(e)!==r||n!==r}))&&s(l,"flags",{configurable:!0,get:o})},88386:function(t,e,n){var r=n(19781),i=n(52999).MISSED_STICKY,s=n(84326),o=n(47045),a=n(29909).get,u=RegExp.prototype,l=TypeError;r&&i&&o(u,"sticky",{configurable:!0,get:function(){if(this!==u){if("RegExp"===s(this))return!!a(this).sticky;throw l("Incompatible receiver, RegExp required")}}})},77601:function(t,e,n){"use strict";n(74916);var r,i,s=n(82109),o=n(46916),a=n(60614),u=n(19670),l=n(41340),c=(r=!1,(i=/[ac]/).exec=function(){return r=!0,/./.exec.apply(this,arguments)},!0===i.test("abc")&&r),h=/./.test;s({target:"RegExp",proto:!0,forced:!c},{test:function(t){var e=u(this),n=l(t),r=e.exec;if(!a(r))return o(h,e,n);var i=o(r,e,n);return null!==i&&(u(i),!0)}})},39714:function(t,e,n){"use strict";var r=n(76530).PROPER,i=n(98052),s=n(19670),o=n(41340),a=n(47293),u=n(34706),l="toString",c=RegExp.prototype[l],h=a((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=r&&c.name!=l;(h||d)&&i(RegExp.prototype,l,(function(){var t=s(this);return"/"+o(t.source)+"/"+o(u(t))}),{unsafe:!0})},37227:function(t,e,n){"use strict";n(77710)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(95631))},70189:function(t,e,n){n(37227)},15218:function(t,e,n){"use strict";var r=n(82109),i=n(14230);r({target:"String",proto:!0,forced:n(43429)("anchor")},{anchor:function(t){return i(this,"a","name",t)}})},24506:function(t,e,n){"use strict";var r=n(82109),i=n(1702),s=n(84488),o=n(19303),a=n(41340),u=n(47293),l=i("".charAt);r({target:"String",proto:!0,forced:u((function(){return"\ud842"!=="".at(-2)}))},{at:function(t){var e=a(s(this)),n=e.length,r=o(t),i=r>=0?r:n+r;return i<0||i>=n?void 0:l(e,i)}})},74475:function(t,e,n){"use strict";var r=n(82109),i=n(14230);r({target:"String",proto:!0,forced:n(43429)("big")},{big:function(){return i(this,"big","","")}})},57929:function(t,e,n){"use strict";var r=n(82109),i=n(14230);r({target:"String",proto:!0,forced:n(43429)("blink")},{blink:function(){return i(this,"blink","","")}})},50915:function(t,e,n){"use strict";var r=n(82109),i=n(14230);r({target:"String",proto:!0,forced:n(43429)("bold")},{bold:function(){return i(this,"b","","")}})},79841:function(t,e,n){"use strict";var r=n(82109),i=n(28710).codeAt;r({target:"String",proto:!0},{codePointAt:function(t){return i(this,t)}})},27852:function(t,e,n){"use strict";var r,i=n(82109),s=n(21470),o=n(31236).f,a=n(17466),u=n(41340),l=n(3929),c=n(84488),h=n(84964),d=n(31913),f=s("".endsWith),p=s("".slice),m=Math.min,g=h("endsWith");i({target:"String",proto:!0,forced:!(!d&&!g&&(r=o(String.prototype,"endsWith"),r&&!r.writable)||g)},{endsWith:function(t){var e=u(c(this));l(t);var n=arguments.length>1?arguments[1]:void 0,r=e.length,i=void 0===n?r:m(a(n),r),s=u(t);return f?f(e,s,i):p(e,i-s.length,i)===s}})},29253:function(t,e,n){"use strict";var r=n(82109),i=n(14230);r({target:"String",proto:!0,forced:n(43429)("fixed")},{fixed:function(){return i(this,"tt","","")}})},42125:function(t,e,n){"use strict";var r=n(82109),i=n(14230);r({target:"String",proto:!0,forced:n(43429)("fontcolor")},{fontcolor:function(t){return i(this,"font","color",t)}})},78830:function(t,e,n){"use strict";var r=n(82109),i=n(14230);r({target:"String",proto:!0,forced:n(43429)("fontsize")},{fontsize:function(t){return i(this,"font","size",t)}})},94953:function(t,e,n){var r=n(82109),i=n(1702),s=n(51400),o=RangeError,a=String.fromCharCode,u=String.fromCodePoint,l=i([].join);r({target:"String",stat:!0,arity:1,forced:!!u&&1!=u.length},{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,i=0;r>i;){if(e=+arguments[i++],s(e,1114111)!==e)throw o(e+" is not a valid code point");n[i]=e<65536?a(e):a(55296+((e-=65536)>>10),e%1024+56320)}return l(n,"")}})},32023:function(t,e,n){"use strict";var r=n(82109),i=n(1702),s=n(3929),o=n(84488),a=n(41340),u=n(84964),l=i("".indexOf);r({target:"String",proto:!0,forced:!u("includes")},{includes:function(t){return!!~l(a(o(this)),a(s(t)),arguments.length>1?arguments[1]:void 0)}})},58734:function(t,e,n){"use strict";var r=n(82109),i=n(14230);r({target:"String",proto:!0,forced:n(43429)("italics")},{italics:function(){return i(this,"i","","")}})},78783:function(t,e,n){"use strict";var r=n(28710).charAt,i=n(41340),s=n(29909),o=n(51656),a=n(76178),u="String Iterator",l=s.set,c=s.getterFor(u);o(String,"String",(function(t){l(this,{type:u,string:i(t),index:0})}),(function(){var t,e=c(this),n=e.string,i=e.index;return i>=n.length?a(void 0,!0):(t=r(n,i),e.index+=t.length,a(t,!1))}))},29254:function(t,e,n){"use strict";var r=n(82109),i=n(14230);r({target:"String",proto:!0,forced:n(43429)("link")},{link:function(t){return i(this,"a","href",t)}})},76373:function(t,e,n){"use strict";var r=n(82109),i=n(46916),s=n(21470),o=n(63061),a=n(76178),u=n(84488),l=n(17466),c=n(41340),h=n(19670),d=n(68554),f=n(84326),p=n(47850),m=n(34706),g=n(58173),v=n(98052),y=n(47293),_=n(5112),b=n(36707),w=n(31530),I=n(97651),P=n(29909),T=n(31913),E=_("matchAll"),j="RegExp String",k=j+" Iterator",S=P.set,x=P.getterFor(k),C=RegExp.prototype,R=TypeError,O=s("".indexOf),A=s("".matchAll),N=!!A&&!y((function(){A("a",/./)})),L=o((function(t,e,n,r){S(this,{type:k,regexp:t,string:e,global:n,unicode:r,done:!1})}),j,(function(){var t=x(this);if(t.done)return a(void 0,!0);var e=t.regexp,n=t.string,r=I(e,n);return null===r?(t.done=!0,a(void 0,!0)):t.global?(""===c(r[0])&&(e.lastIndex=w(n,l(e.lastIndex),t.unicode)),a(r,!1)):(t.done=!0,a(r,!1))})),M=function(t){var e,n,r,i=h(this),s=c(t),o=b(i,RegExp),a=c(m(i));return e=new o(o===RegExp?i.source:i,a),n=!!~O(a,"g"),r=!!~O(a,"u"),e.lastIndex=l(i.lastIndex),new L(e,s,n,r)};r({target:"String",proto:!0,forced:N},{matchAll:function(t){var e,n,r,s,o=u(this);if(d(t)){if(N)return A(o,t)}else{if(p(t)&&(e=c(u(m(t))),!~O(e,"g")))throw R("`.matchAll` does not allow non-global regexes");if(N)return A(o,t);if(void 0===(r=g(t,E))&&T&&"RegExp"==f(t)&&(r=M),r)return i(r,t,o)}return n=c(o),s=new RegExp(t,"g"),T?i(M,s,n):s[E](n)}}),T||E in C||v(C,E,M)},4723:function(t,e,n){"use strict";var r=n(46916),i=n(27007),s=n(19670),o=n(68554),a=n(17466),u=n(41340),l=n(84488),c=n(58173),h=n(31530),d=n(97651);i("match",(function(t,e,n){return[function(e){var n=l(this),i=o(e)?void 0:c(e,t);return i?r(i,e,n):new RegExp(e)[t](u(n))},function(t){var r=s(this),i=u(t),o=n(e,r,i);if(o.done)return o.value;if(!r.global)return d(r,i);var l=r.unicode;r.lastIndex=0;for(var c,f=[],p=0;null!==(c=d(r,i));){var m=u(c[0]);f[p]=m,""===m&&(r.lastIndex=h(i,a(r.lastIndex),l)),p++}return 0===p?null:f}]}))},66528:function(t,e,n){"use strict";var r=n(82109),i=n(76650).end;r({target:"String",proto:!0,forced:n(54986)},{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},83112:function(t,e,n){"use strict";var r=n(82109),i=n(76650).start;r({target:"String",proto:!0,forced:n(54986)},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},38992:function(t,e,n){var r=n(82109),i=n(1702),s=n(45656),o=n(47908),a=n(41340),u=n(26244),l=i([].push),c=i([].join);r({target:"String",stat:!0},{raw:function(t){var e=s(o(t).raw),n=u(e);if(!n)return"";for(var r=arguments.length,i=[],h=0;;){if(l(i,a(e[h++])),h===n)return c(i,"");h<r&&l(i,a(arguments[h]))}}})},82481:function(t,e,n){n(82109)({target:"String",proto:!0},{repeat:n(38415)})},68757:function(t,e,n){"use strict";var r=n(82109),i=n(46916),s=n(1702),o=n(84488),a=n(60614),u=n(68554),l=n(47850),c=n(41340),h=n(58173),d=n(34706),f=n(10647),p=n(5112),m=n(31913),g=p("replace"),v=TypeError,y=s("".indexOf),_=s("".replace),b=s("".slice),w=Math.max,I=function(t,e,n){return n>t.length?-1:""===e?n:y(t,e,n)};r({target:"String",proto:!0},{replaceAll:function(t,e){var n,r,s,p,P,T,E,j,k,S=o(this),x=0,C=0,R="";if(!u(t)){if((n=l(t))&&(r=c(o(d(t))),!~y(r,"g")))throw v("`.replaceAll` does not allow non-global regexes");if(s=h(t,g))return i(s,t,S,e);if(m&&n)return _(c(S),t,e)}for(p=c(S),P=c(t),(T=a(e))||(e=c(e)),E=P.length,j=w(1,E),x=I(p,P,0);-1!==x;)k=T?c(e(P,x,p)):f(P,p,x,[],void 0,e),R+=b(p,C,x)+k,C=x+E,x=I(p,P,x+j);return C<p.length&&(R+=b(p,C)),R}})},15306:function(t,e,n){"use strict";var r=n(22104),i=n(46916),s=n(1702),o=n(27007),a=n(47293),u=n(19670),l=n(60614),c=n(68554),h=n(19303),d=n(17466),f=n(41340),p=n(84488),m=n(31530),g=n(58173),v=n(10647),y=n(97651),_=n(5112)("replace"),b=Math.max,w=Math.min,I=s([].concat),P=s([].push),T=s("".indexOf),E=s("".slice),j="$0"==="a".replace(/./,"$0"),k=!!/./[_]&&""===/./[_]("a","$0");o("replace",(function(t,e,n){var s=k?"$":"$0";return[function(t,n){var r=p(this),s=c(t)?void 0:g(t,_);return s?i(s,t,r,n):i(e,f(r),t,n)},function(t,i){var o=u(this),a=f(t);if("string"==typeof i&&-1===T(i,s)&&-1===T(i,"$<")){var c=n(e,o,a,i);if(c.done)return c.value}var p=l(i);p||(i=f(i));var g=o.global;if(g){var _=o.unicode;o.lastIndex=0}for(var j=[];;){var k=y(o,a);if(null===k)break;if(P(j,k),!g)break;""===f(k[0])&&(o.lastIndex=m(a,d(o.lastIndex),_))}for(var S,x="",C=0,R=0;R<j.length;R++){for(var O=f((k=j[R])[0]),A=b(w(h(k.index),a.length),0),N=[],L=1;L<k.length;L++)P(N,void 0===(S=k[L])?S:String(S));var M=k.groups;if(p){var D=I([O],N,A,a);void 0!==M&&P(D,M);var F=f(r(i,void 0,D))}else F=v(O,a,A,N,M,i);A>=C&&(x+=E(a,C,A)+F,C=A+O.length)}return x+E(a,C)}]}),!!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!j||k)},64765:function(t,e,n){"use strict";var r=n(46916),i=n(27007),s=n(19670),o=n(68554),a=n(84488),u=n(81150),l=n(41340),c=n(58173),h=n(97651);i("search",(function(t,e,n){return[function(e){var n=a(this),i=o(e)?void 0:c(e,t);return i?r(i,e,n):new RegExp(e)[t](l(n))},function(t){var r=s(this),i=l(t),o=n(e,r,i);if(o.done)return o.value;var a=r.lastIndex;u(a,0)||(r.lastIndex=0);var c=h(r,i);return u(r.lastIndex,a)||(r.lastIndex=a),null===c?-1:c.index}]}))},37268:function(t,e,n){"use strict";var r=n(82109),i=n(14230);r({target:"String",proto:!0,forced:n(43429)("small")},{small:function(){return i(this,"small","","")}})},23123:function(t,e,n){"use strict";var r=n(22104),i=n(46916),s=n(1702),o=n(27007),a=n(19670),u=n(68554),l=n(47850),c=n(84488),h=n(36707),d=n(31530),f=n(17466),p=n(41340),m=n(58173),g=n(41589),v=n(97651),y=n(22261),_=n(52999),b=n(47293),w=_.UNSUPPORTED_Y,I=4294967295,P=Math.min,T=[].push,E=s(/./.exec),j=s(T),k=s("".slice),S=!b((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));o("split",(function(t,e,n){var s;return s="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var s=p(c(this)),o=void 0===n?I:n>>>0;if(0===o)return[];if(void 0===t)return[s];if(!l(t))return i(e,s,t,o);for(var a,u,h,d=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),m=0,v=new RegExp(t.source,f+"g");(a=i(y,v,s))&&!((u=v.lastIndex)>m&&(j(d,k(s,m,a.index)),a.length>1&&a.index<s.length&&r(T,d,g(a,1)),h=a[0].length,m=u,d.length>=o));)v.lastIndex===a.index&&v.lastIndex++;return m===s.length?!h&&E(v,"")||j(d,""):j(d,k(s,m)),d.length>o?g(d,0,o):d}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:i(e,this,t,n)}:e,[function(e,n){var r=c(this),o=u(e)?void 0:m(e,t);return o?i(o,e,r,n):i(s,p(r),e,n)},function(t,r){var i=a(this),o=p(t),u=n(s,i,o,r,s!==e);if(u.done)return u.value;var l=h(i,RegExp),c=i.unicode,m=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(w?"g":"y"),g=new l(w?"^(?:"+i.source+")":i,m),y=void 0===r?I:r>>>0;if(0===y)return[];if(0===o.length)return null===v(g,o)?[o]:[];for(var _=0,b=0,T=[];b<o.length;){g.lastIndex=w?0:b;var E,S=v(g,w?k(o,b):o);if(null===S||(E=P(f(g.lastIndex+(w?b:0)),o.length))===_)b=d(o,b,c);else{if(j(T,k(o,_,b)),T.length===y)return T;for(var x=1;x<=S.length-1;x++)if(j(T,S[x]),T.length===y)return T;b=_=E}}return j(T,k(o,_)),T}]}),!S,w)},23157:function(t,e,n){"use strict";var r,i=n(82109),s=n(21470),o=n(31236).f,a=n(17466),u=n(41340),l=n(3929),c=n(84488),h=n(84964),d=n(31913),f=s("".startsWith),p=s("".slice),m=Math.min,g=h("startsWith");i({target:"String",proto:!0,forced:!(!d&&!g&&(r=o(String.prototype,"startsWith"),r&&!r.writable)||g)},{startsWith:function(t){var e=u(c(this));l(t);var n=a(m(arguments.length>1?arguments[1]:void 0,e.length)),r=u(t);return f?f(e,r,n):p(e,n,n+r.length)===r}})},7397:function(t,e,n){"use strict";var r=n(82109),i=n(14230);r({target:"String",proto:!0,forced:n(43429)("strike")},{strike:function(){return i(this,"strike","","")}})},60086:function(t,e,n){"use strict";var r=n(82109),i=n(14230);r({target:"String",proto:!0,forced:n(43429)("sub")},{sub:function(){return i(this,"sub","","")}})},83650:function(t,e,n){"use strict";var r=n(82109),i=n(1702),s=n(84488),o=n(19303),a=n(41340),u=i("".slice),l=Math.max,c=Math.min;r({target:"String",proto:!0,forced:!"".substr||"b"!=="ab".substr(-1)},{substr:function(t,e){var n,r,i=a(s(this)),h=i.length,d=o(t);return d===1/0&&(d=0),d<0&&(d=l(h+d,0)),(n=void 0===e?h:o(e))<=0||n===1/0||d>=(r=c(d+n,h))?"":u(i,d,r)}})},80623:function(t,e,n){"use strict";var r=n(82109),i=n(14230);r({target:"String",proto:!0,forced:n(43429)("sup")},{sup:function(){return i(this,"sup","","")}})},48702:function(t,e,n){n(83462);var r=n(82109),i=n(10365);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==i},{trimEnd:i})},99967:function(t,e,n){var r=n(82109),i=n(33217);r({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==i},{trimLeft:i})},83462:function(t,e,n){var r=n(82109),i=n(10365);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==i},{trimRight:i})},55674:function(t,e,n){n(99967);var r=n(82109),i=n(33217);r({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==i},{trimStart:i})},73210:function(t,e,n){"use strict";var r=n(82109),i=n(53111).trim;r({target:"String",proto:!0,forced:n(76091)("trim")},{trim:function(){return i(this)}})},72443:function(t,e,n){n(26800)("asyncIterator")},4032:function(t,e,n){"use strict";var r=n(82109),i=n(17854),s=n(46916),o=n(1702),a=n(31913),u=n(19781),l=n(36293),c=n(47293),h=n(92597),d=n(47976),f=n(19670),p=n(45656),m=n(34948),g=n(41340),v=n(79114),y=n(70030),_=n(81956),b=n(8006),w=n(1156),I=n(25181),P=n(31236),T=n(3070),E=n(36048),j=n(55296),k=n(98052),S=n(47045),x=n(72309),C=n(6200),R=n(3501),O=n(69711),A=n(5112),N=n(6061),L=n(26800),M=n(56532),D=n(58003),F=n(29909),G=n(42092).forEach,U=C("hidden"),q="Symbol",B="prototype",z=F.set,H=F.getterFor(q),W=Object[B],V=i.Symbol,K=V&&V[B],$=i.TypeError,Y=i.QObject,J=P.f,Q=T.f,X=w.f,Z=j.f,tt=o([].push),et=x("symbols"),nt=x("op-symbols"),rt=x("wks"),it=!Y||!Y[B]||!Y[B].findChild,st=u&&c((function(){return 7!=y(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=J(W,e);r&&delete W[e],Q(t,e,n),r&&t!==W&&Q(W,e,r)}:Q,ot=function(t,e){var n=et[t]=y(K);return z(n,{type:q,tag:t,description:e}),u||(n.description=e),n},at=function(t,e,n){t===W&&at(nt,e,n),f(t);var r=m(e);return f(n),h(et,r)?(n.enumerable?(h(t,U)&&t[U][r]&&(t[U][r]=!1),n=y(n,{enumerable:v(0,!1)})):(h(t,U)||Q(t,U,v(1,{})),t[U][r]=!0),st(t,r,n)):Q(t,r,n)},ut=function(t,e){f(t);var n=p(e),r=_(n).concat(dt(n));return G(r,(function(e){u&&!s(lt,n,e)||at(t,e,n[e])})),t},lt=function(t){var e=m(t),n=s(Z,this,e);return!(this===W&&h(et,e)&&!h(nt,e))&&(!(n||!h(this,e)||!h(et,e)||h(this,U)&&this[U][e])||n)},ct=function(t,e){var n=p(t),r=m(e);if(n!==W||!h(et,r)||h(nt,r)){var i=J(n,r);return!i||!h(et,r)||h(n,U)&&n[U][r]||(i.enumerable=!0),i}},ht=function(t){var e=X(p(t)),n=[];return G(e,(function(t){h(et,t)||h(R,t)||tt(n,t)})),n},dt=function(t){var e=t===W,n=X(e?nt:p(t)),r=[];return G(n,(function(t){!h(et,t)||e&&!h(W,t)||tt(r,et[t])})),r};l||(V=function(){if(d(K,this))throw $("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,e=O(t),n=function(t){this===W&&s(n,nt,t),h(this,U)&&h(this[U],e)&&(this[U][e]=!1),st(this,e,v(1,t))};return u&&it&&st(W,e,{configurable:!0,set:n}),ot(e,t)},k(K=V[B],"toString",(function(){return H(this).tag})),k(V,"withoutSetter",(function(t){return ot(O(t),t)})),j.f=lt,T.f=at,E.f=ut,P.f=ct,b.f=w.f=ht,I.f=dt,N.f=function(t){return ot(A(t),t)},u&&(S(K,"description",{configurable:!0,get:function(){return H(this).description}}),a||k(W,"propertyIsEnumerable",lt,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!l,sham:!l},{Symbol:V}),G(_(rt),(function(t){L(t)})),r({target:q,stat:!0,forced:!l},{useSetter:function(){it=!0},useSimple:function(){it=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!u},{create:function(t,e){return void 0===e?y(t):ut(y(t),e)},defineProperty:at,defineProperties:ut,getOwnPropertyDescriptor:ct}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:ht}),M(),D(V,q),R[U]=!0},41817:function(t,e,n){"use strict";var r=n(82109),i=n(19781),s=n(17854),o=n(1702),a=n(92597),u=n(60614),l=n(47976),c=n(41340),h=n(47045),d=n(99920),f=s.Symbol,p=f&&f.prototype;if(i&&u(f)&&(!("description"in p)||void 0!==f().description)){var m={},g=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:c(arguments[0]),e=l(p,this)?new f(t):void 0===t?f():f(t);return""===t&&(m[e]=!0),e};d(g,f),g.prototype=p,p.constructor=g;var v="Symbol(test)"==String(f("test")),y=o(p.valueOf),_=o(p.toString),b=/^Symbol\((.*)\)[^)]+$/,w=o("".replace),I=o("".slice);h(p,"description",{configurable:!0,get:function(){var t=y(this);if(a(m,t))return"";var e=_(t),n=v?I(e,7,-1):w(e,b,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:g})}},40763:function(t,e,n){var r=n(82109),i=n(35005),s=n(92597),o=n(41340),a=n(72309),u=n(2015),l=a("string-to-symbol-registry"),c=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{for:function(t){var e=o(t);if(s(l,e))return l[e];var n=i("Symbol")(e);return l[e]=n,c[n]=e,n}})},92401:function(t,e,n){n(26800)("hasInstance")},8722:function(t,e,n){n(26800)("isConcatSpreadable")},32165:function(t,e,n){n(26800)("iterator")},82526:function(t,e,n){n(4032),n(40763),n(26620),n(38862),n(29660)},26620:function(t,e,n){var r=n(82109),i=n(92597),s=n(52190),o=n(66330),a=n(72309),u=n(2015),l=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{keyFor:function(t){if(!s(t))throw TypeError(o(t)+" is not a symbol");if(i(l,t))return l[t]}})},16066:function(t,e,n){n(26800)("matchAll")},69007:function(t,e,n){n(26800)("match")},83510:function(t,e,n){n(26800)("replace")},41840:function(t,e,n){n(26800)("search")},6982:function(t,e,n){n(26800)("species")},32159:function(t,e,n){n(26800)("split")},96649:function(t,e,n){var r=n(26800),i=n(56532);r("toPrimitive"),i()},39341:function(t,e,n){var r=n(35005),i=n(26800),s=n(58003);i("toStringTag"),s(r("Symbol"),"Symbol")},60543:function(t,e,n){n(26800)("unscopables")},48675:function(t,e,n){"use strict";var r=n(90260),i=n(26244),s=n(19303),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("at",(function(t){var e=o(this),n=i(e),r=s(t),a=r>=0?r:n+r;return a<0||a>=n?void 0:e[a]}))},92990:function(t,e,n){"use strict";var r=n(1702),i=n(90260),s=r(n(1048)),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(t,e){return s(o(this),t,e,arguments.length>2?arguments[2]:void 0)}))},18927:function(t,e,n){"use strict";var r=n(90260),i=n(42092).every,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(t){return i(s(this),t,arguments.length>1?arguments[1]:void 0)}))},33105:function(t,e,n){"use strict";var r=n(90260),i=n(21285),s=n(64599),o=n(70648),a=n(46916),u=n(1702),l=n(47293),c=r.aTypedArray,h=r.exportTypedArrayMethod,d=u("".slice);h("fill",(function(t){var e=arguments.length;c(this);var n="Big"===d(o(this),0,3)?s(t):+t;return a(i,this,n,e>1?arguments[1]:void 0,e>2?arguments[2]:void 0)}),l((function(){var t=0;return new Int8Array(2).fill({valueOf:function(){return t++}}),1!==t})))},35035:function(t,e,n){"use strict";var r=n(90260),i=n(42092).filter,s=n(43074),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",(function(t){var e=i(o(this),t,arguments.length>1?arguments[1]:void 0);return s(this,e)}))},7174:function(t,e,n){"use strict";var r=n(90260),i=n(42092).findIndex,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(t){return i(s(this),t,arguments.length>1?arguments[1]:void 0)}))},14590:function(t,e,n){"use strict";var r=n(90260),i=n(9671).findLastIndex,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLastIndex",(function(t){return i(s(this),t,arguments.length>1?arguments[1]:void 0)}))},63408:function(t,e,n){"use strict";var r=n(90260),i=n(9671).findLast,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLast",(function(t){return i(s(this),t,arguments.length>1?arguments[1]:void 0)}))},74345:function(t,e,n){"use strict";var r=n(90260),i=n(42092).find,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(t){return i(s(this),t,arguments.length>1?arguments[1]:void 0)}))},44197:function(t,e,n){n(19843)("Float32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},76495:function(t,e,n){n(19843)("Float64",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},32846:function(t,e,n){"use strict";var r=n(90260),i=n(42092).forEach,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(t){i(s(this),t,arguments.length>1?arguments[1]:void 0)}))},98145:function(t,e,n){"use strict";var r=n(63832);(0,n(90260).exportTypedArrayStaticMethod)("from",n(97321),r)},44731:function(t,e,n){"use strict";var r=n(90260),i=n(41318).includes,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(t){return i(s(this),t,arguments.length>1?arguments[1]:void 0)}))},77209:function(t,e,n){"use strict";var r=n(90260),i=n(41318).indexOf,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(t){return i(s(this),t,arguments.length>1?arguments[1]:void 0)}))},35109:function(t,e,n){n(19843)("Int16",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},65125:function(t,e,n){n(19843)("Int32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},87145:function(t,e,n){n(19843)("Int8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},96319:function(t,e,n){"use strict";var r=n(17854),i=n(47293),s=n(1702),o=n(90260),a=n(66992),u=n(5112)("iterator"),l=r.Uint8Array,c=s(a.values),h=s(a.keys),d=s(a.entries),f=o.aTypedArray,p=o.exportTypedArrayMethod,m=l&&l.prototype,g=!i((function(){m[u].call([1])})),v=!!m&&m.values&&m[u]===m.values&&"values"===m.values.name,y=function(){return c(f(this))};p("entries",(function(){return d(f(this))}),g),p("keys",(function(){return h(f(this))}),g),p("values",y,g||!v,{name:"values"}),p(u,y,g||!v,{name:"values"})},58867:function(t,e,n){"use strict";var r=n(90260),i=n(1702),s=r.aTypedArray,o=r.exportTypedArrayMethod,a=i([].join);o("join",(function(t){return a(s(this),t)}))},37789:function(t,e,n){"use strict";var r=n(90260),i=n(22104),s=n(86583),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(t){var e=arguments.length;return i(s,o(this),e>1?[t,arguments[1]]:[t])}))},33739:function(t,e,n){"use strict";var r=n(90260),i=n(42092).map,s=n(66304),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("map",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(s(t))(e)}))}))},95206:function(t,e,n){"use strict";var r=n(90260),i=n(63832),s=r.aTypedArrayConstructor;(0,r.exportTypedArrayStaticMethod)("of",(function(){for(var t=0,e=arguments.length,n=new(s(this))(e);e>t;)n[t]=arguments[t++];return n}),i)},14483:function(t,e,n){"use strict";var r=n(90260),i=n(53671).right,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(t){var e=arguments.length;return i(s(this),t,e,e>1?arguments[1]:void 0)}))},29368:function(t,e,n){"use strict";var r=n(90260),i=n(53671).left,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(t){var e=arguments.length;return i(s(this),t,e,e>1?arguments[1]:void 0)}))},12056:function(t,e,n){"use strict";var r=n(90260),i=r.aTypedArray,s=r.exportTypedArrayMethod,o=Math.floor;s("reverse",(function(){for(var t,e=this,n=i(e).length,r=o(n/2),s=0;s<r;)t=e[s],e[s++]=e[--n],e[n]=t;return e}))},3462:function(t,e,n){"use strict";var r=n(17854),i=n(46916),s=n(90260),o=n(26244),a=n(84590),u=n(47908),l=n(47293),c=r.RangeError,h=r.Int8Array,d=h&&h.prototype,f=d&&d.set,p=s.aTypedArray,m=s.exportTypedArrayMethod,g=!l((function(){var t=new Uint8ClampedArray(2);return i(f,t,{length:1,0:3},1),3!==t[1]})),v=g&&s.NATIVE_ARRAY_BUFFER_VIEWS&&l((function(){var t=new h(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));m("set",(function(t){p(this);var e=a(arguments.length>1?arguments[1]:void 0,1),n=u(t);if(g)return i(f,this,n,e);var r=this.length,s=o(n),l=0;if(s+e>r)throw c("Wrong length");for(;l<s;)this[e+l]=n[l++]}),!g||v)},30678:function(t,e,n){"use strict";var r=n(90260),i=n(66304),s=n(47293),o=n(50206),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("slice",(function(t,e){for(var n=o(a(this),t,e),r=i(this),s=0,u=n.length,l=new r(u);u>s;)l[s]=n[s++];return l}),s((function(){new Int8Array(1).slice()})))},27462:function(t,e,n){"use strict";var r=n(90260),i=n(42092).some,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(t){return i(s(this),t,arguments.length>1?arguments[1]:void 0)}))},33824:function(t,e,n){"use strict";var r=n(17854),i=n(21470),s=n(47293),o=n(19662),a=n(94362),u=n(90260),l=n(68886),c=n(30256),h=n(7392),d=n(98008),f=u.aTypedArray,p=u.exportTypedArrayMethod,m=r.Uint16Array,g=m&&i(m.prototype.sort),v=!(!g||s((function(){g(new m(2),null)}))&&s((function(){g(new m(2),{})}))),y=!!g&&!s((function(){if(h)return h<74;if(l)return l<67;if(c)return!0;if(d)return d<602;var t,e,n=new m(516),r=Array(516);for(t=0;t<516;t++)e=t%4,n[t]=515-t,r[t]=t-2*e+3;for(g(n,(function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(n[t]!==r[t])return!0}));p("sort",(function(t){return void 0!==t&&o(t),y?g(this,t):a(f(this),function(t){return function(e,n){return void 0!==t?+t(e,n)||0:n!=n?-1:e!=e?1:0===e&&0===n?1/e>0&&1/n<0?1:-1:e>n}}(t))}),!y||v)},55021:function(t,e,n){"use strict";var r=n(90260),i=n(17466),s=n(51400),o=n(66304),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(t,e){var n=a(this),r=n.length,u=s(t,r);return new(o(n))(n.buffer,n.byteOffset+u*n.BYTES_PER_ELEMENT,i((void 0===e?r:s(e,r))-u))}))},12974:function(t,e,n){"use strict";var r=n(17854),i=n(22104),s=n(90260),o=n(47293),a=n(50206),u=r.Int8Array,l=s.aTypedArray,c=s.exportTypedArrayMethod,h=[].toLocaleString,d=!!u&&o((function(){h.call(new u(1))}));c("toLocaleString",(function(){return i(h,d?a(l(this)):l(this),a(arguments))}),o((function(){return[1,2].toLocaleString()!=new u([1,2]).toLocaleString()}))||!o((function(){u.prototype.toLocaleString.call([1,2])})))},1439:function(t,e,n){"use strict";var r=n(21843),i=n(90260),s=i.aTypedArray,o=i.exportTypedArrayMethod,a=i.getTypedArrayConstructor;o("toReversed",(function(){return r(s(this),a(this))}))},87585:function(t,e,n){"use strict";var r=n(90260),i=n(1702),s=n(19662),o=n(97745),a=r.aTypedArray,u=r.getTypedArrayConstructor,l=r.exportTypedArrayMethod,c=i(r.TypedArrayPrototype.sort);l("toSorted",(function(t){void 0!==t&&s(t);var e=a(this),n=o(u(e),e);return c(n,t)}))},15016:function(t,e,n){"use strict";var r=n(90260).exportTypedArrayMethod,i=n(47293),s=n(17854),o=n(1702),a=s.Uint8Array,u=a&&a.prototype||{},l=[].toString,c=o([].join);i((function(){l.call({})}))&&(l=function(){return c(this)});var h=u.toString!=l;r("toString",l,h)},8255:function(t,e,n){n(19843)("Uint16",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},29135:function(t,e,n){n(19843)("Uint32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},82472:function(t,e,n){n(19843)("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},49743:function(t,e,n){n(19843)("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0)},55315:function(t,e,n){"use strict";var r=n(11572),i=n(90260),s=n(44067),o=n(19303),a=n(64599),u=i.aTypedArray,l=i.getTypedArrayConstructor,c=i.exportTypedArrayMethod,h=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();c("with",{with:function(t,e){var n=u(this),i=o(t),c=s(n)?a(e):+e;return r(n,l(n),i,c)}}.with,!h)},78221:function(t,e,n){"use strict";var r=n(82109),i=n(1702),s=n(41340),o=String.fromCharCode,a=i("".charAt),u=i(/./.exec),l=i("".slice),c=/^[\da-f]{2}$/i,h=/^[\da-f]{4}$/i;r({global:!0},{unescape:function(t){for(var e,n,r=s(t),i="",d=r.length,f=0;f<d;){if("%"===(e=a(r,f++)))if("u"===a(r,f)){if(n=l(r,f+1,f+5),u(h,n)){i+=o(parseInt(n,16)),f+=5;continue}}else if(n=l(r,f,f+2),u(c,n)){i+=o(parseInt(n,16)),f+=2;continue}i+=e}return i}})},41202:function(t,e,n){"use strict";var r,i=n(76677),s=n(17854),o=n(1702),a=n(89190),u=n(62423),l=n(77710),c=n(29320),h=n(70111),d=n(29909).enforce,f=n(47293),p=n(94811),m=Object,g=Array.isArray,v=m.isExtensible,y=m.isFrozen,_=m.isSealed,b=m.freeze,w=m.seal,I={},P={},T=!s.ActiveXObject&&"ActiveXObject"in s,E=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},j=l("WeakMap",E,c),k=j.prototype,S=o(k.set);if(p)if(T){r=c.getConstructor(E,"WeakMap",!0),u.enable();var x=o(k.delete),C=o(k.has),R=o(k.get);a(k,{delete:function(t){if(h(t)&&!v(t)){var e=d(this);return e.frozen||(e.frozen=new r),x(this,t)||e.frozen.delete(t)}return x(this,t)},has:function(t){if(h(t)&&!v(t)){var e=d(this);return e.frozen||(e.frozen=new r),C(this,t)||e.frozen.has(t)}return C(this,t)},get:function(t){if(h(t)&&!v(t)){var e=d(this);return e.frozen||(e.frozen=new r),C(this,t)?R(this,t):e.frozen.get(t)}return R(this,t)},set:function(t,e){if(h(t)&&!v(t)){var n=d(this);n.frozen||(n.frozen=new r),C(this,t)?S(this,t,e):n.frozen.set(t,e)}else S(this,t,e);return this}})}else i&&f((function(){var t=b([]);return S(new j,t,1),!y(t)}))&&a(k,{set:function(t,e){var n;return g(t)&&(y(t)?n=I:_(t)&&(n=P)),S(this,t,e),n==I&&b(t),n==P&&w(t),this}})},4129:function(t,e,n){n(41202)},72098:function(t,e,n){"use strict";n(77710)("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(29320))},38478:function(t,e,n){n(72098)},75505:function(t,e,n){var r=n(82109),i=n(17854),s=n(35005),o=n(1702),a=n(46916),u=n(47293),l=n(41340),c=n(92597),h=n(48053),d=n(14170).ctoi,f=/[^\d+/a-z]/i,p=/[\t\n\f\r ]+/g,m=/[=]{1,2}$/,g=s("atob"),v=String.fromCharCode,y=o("".charAt),_=o("".replace),b=o(f.exec),w=u((function(){return""!==g(" ")})),I=!u((function(){g("a")})),P=!w&&!I&&!u((function(){g()})),T=!w&&!I&&1!==g.length;r({global:!0,bind:!0,enumerable:!0,forced:w||I||P||T},{atob:function(t){if(h(arguments.length,1),P||T)return a(g,i,t);var e,n,r=_(l(t),p,""),o="",u=0,w=0;if(r.length%4==0&&(r=_(r,m,"")),r.length%4==1||b(f,r))throw new(s("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;e=y(r,u++);)c(d,e)&&(n=w%4?64*n+d[e]:d[e],w++%4&&(o+=v(255&n>>(-2*w&6))));return o}})},27479:function(t,e,n){var r=n(82109),i=n(17854),s=n(35005),o=n(1702),a=n(46916),u=n(47293),l=n(41340),c=n(48053),h=n(14170).itoc,d=s("btoa"),f=o("".charAt),p=o("".charCodeAt),m=!!d&&!u((function(){d()})),g=!!d&&u((function(){return"bnVsbA=="!==d(null)})),v=!!d&&1!==d.length;r({global:!0,bind:!0,enumerable:!0,forced:m||g||v},{btoa:function(t){if(c(arguments.length,1),m||g||v)return a(d,i,l(t));for(var e,n,r=l(t),o="",u=0,y=h;f(r,u)||(y="=",u%1);){if((n=p(r,u+=3/4))>255)throw new(s("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");o+=f(y,63&(e=e<<8|n)>>8-u%1*8)}return o}})},11091:function(t,e,n){var r=n(82109),i=n(17854),s=n(20261).clear;r({global:!0,bind:!0,enumerable:!0,forced:i.clearImmediate!==s},{clearImmediate:s})},54747:function(t,e,n){var r=n(17854),i=n(48324),s=n(98509),o=n(18533),a=n(68880),u=function(t){if(t&&t.forEach!==o)try{a(t,"forEach",o)}catch(e){t.forEach=o}};for(var l in i)i[l]&&u(r[l]&&r[l].prototype);u(s)},33948:function(t,e,n){var r=n(17854),i=n(48324),s=n(98509),o=n(66992),a=n(68880),u=n(5112),l=u("iterator"),c=u("toStringTag"),h=o.values,d=function(t,e){if(t){if(t[l]!==h)try{a(t,l,h)}catch(e){t[l]=h}if(t[c]||a(t,c,e),i[e])for(var n in o)if(t[n]!==o[n])try{a(t,n,o[n])}catch(e){t[n]=o[n]}}};for(var f in i)d(r[f]&&r[f].prototype,f);d(s,"DOMTokenList")},87714:function(t,e,n){"use strict";var r=n(82109),i=n(44038),s=n(35005),o=n(47293),a=n(70030),u=n(79114),l=n(3070).f,c=n(98052),h=n(47045),d=n(92597),f=n(25787),p=n(19670),m=n(7762),g=n(56277),v=n(93678),y=n(11060),_=n(29909),b=n(19781),w=n(31913),I="DOMException",P="DATA_CLONE_ERR",T=s("Error"),E=s(I)||function(){try{(new(s("MessageChannel")||i("worker_threads").MessageChannel)).port1.postMessage(new WeakMap)}catch(t){if(t.name==P&&25==t.code)return t.constructor}}(),j=E&&E.prototype,k=T.prototype,S=_.set,x=_.getterFor(I),C="stack"in T(I),R=function(t){return d(v,t)&&v[t].m?v[t].c:0},O=function(){f(this,A);var t=arguments.length,e=g(t<1?void 0:arguments[0]),n=g(t<2?void 0:arguments[1],"Error"),r=R(n);if(S(this,{type:I,name:n,message:e,code:r}),b||(this.name=n,this.message=e,this.code=r),C){var i=T(e);i.name=I,l(this,"stack",u(1,y(i.stack,1)))}},A=O.prototype=a(k),N=function(t){return{enumerable:!0,configurable:!0,get:t}},L=function(t){return N((function(){return x(this)[t]}))};b&&(h(A,"code",L("code")),h(A,"message",L("message")),h(A,"name",L("name"))),l(A,"constructor",u(1,O));var M=o((function(){return!(new E instanceof T)})),D=M||o((function(){return k.toString!==m||"2: 1"!==String(new E(1,2))})),F=M||o((function(){return 25!==new E(1,"DataCloneError").code})),G=M||25!==E[P]||25!==j[P],U=w?D||F||G:M;r({global:!0,constructor:!0,forced:U},{DOMException:U?O:E});var q=s(I),B=q.prototype;for(var z in D&&(w||E===q)&&c(B,"toString",m),F&&b&&E===q&&h(B,"code",N((function(){return R(p(this).name)}))),v)if(d(v,z)){var H=v[z],W=H.s,V=u(6,H.c);d(q,W)||l(q,W,V),d(B,W)||l(B,W,V)}},82801:function(t,e,n){"use strict";var r=n(82109),i=n(17854),s=n(35005),o=n(79114),a=n(3070).f,u=n(92597),l=n(25787),c=n(79587),h=n(56277),d=n(93678),f=n(11060),p=n(19781),m=n(31913),g="DOMException",v=s("Error"),y=s(g),_=function(){l(this,b);var t=arguments.length,e=h(t<1?void 0:arguments[0]),n=h(t<2?void 0:arguments[1],"Error"),r=new y(e,n),i=v(e);return i.name=g,a(r,"stack",o(1,f(i.stack,1))),c(r,this,_),r},b=_.prototype=y.prototype,w="stack"in v(g),I="stack"in new y(1,2),P=y&&p&&Object.getOwnPropertyDescriptor(i,g),T=!(!P||P.writable&&P.configurable),E=w&&!T&&!I;r({global:!0,constructor:!0,forced:m||E},{DOMException:E?_:y});var j=s(g),k=j.prototype;if(k.constructor!==j)for(var S in m||a(k,"constructor",o(1,j)),d)if(u(d,S)){var x=d[S],C=x.s;u(j,C)||a(j,C,o(6,x.c))}},1174:function(t,e,n){var r=n(35005),i="DOMException";n(58003)(r(i),i)},84633:function(t,e,n){n(11091),n(12986)},85844:function(t,e,n){var r=n(82109),i=n(17854),s=n(95948),o=n(19662),a=n(48053),u=n(35268),l=i.process;r({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:function(t){a(arguments.length,1),o(t);var e=u&&l.domain;s(e?e.bind(t):t)}})},71550:function(t,e,n){"use strict";var r=n(82109),i=n(17854),s=n(47045),o=n(19781),a=TypeError,u=Object.defineProperty,l=i.self!==i;try{if(o){var c=Object.getOwnPropertyDescriptor(i,"self");!l&&c&&c.get&&c.enumerable||s(i,"self",{get:function(){return i},set:function(t){if(this!==i)throw a("Illegal invocation");u(i,"self",{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else r({global:!0,simple:!0,forced:l},{self:i})}catch(t){}},12986:function(t,e,n){var r=n(82109),i=n(17854),s=n(20261).set,o=n(17152),a=i.setImmediate?o(s,!1):s;r({global:!0,bind:!0,enumerable:!0,forced:i.setImmediate!==a},{setImmediate:a})},96815:function(t,e,n){var r=n(82109),i=n(17854),s=n(17152)(i.setInterval,!0);r({global:!0,bind:!0,forced:i.setInterval!==s},{setInterval:s})},88417:function(t,e,n){var r=n(82109),i=n(17854),s=n(17152)(i.setTimeout,!0);r({global:!0,bind:!0,forced:i.setTimeout!==s},{setTimeout:s})},61295:function(t,e,n){var r,i=n(31913),s=n(82109),o=n(17854),a=n(35005),u=n(1702),l=n(47293),c=n(69711),h=n(60614),d=n(4411),f=n(68554),p=n(70111),m=n(52190),g=n(20408),v=n(19670),y=n(70648),_=n(92597),b=n(86135),w=n(68880),I=n(26244),P=n(48053),T=n(34706),E=n(75706),j=n(79405),k=n(22914),S=n(64124),x=o.Object,C=o.Array,R=o.Date,O=o.Error,A=o.EvalError,N=o.RangeError,L=o.ReferenceError,M=o.SyntaxError,D=o.TypeError,F=o.URIError,G=o.PerformanceMark,U=o.WebAssembly,q=U&&U.CompileError||O,B=U&&U.LinkError||O,z=U&&U.RuntimeError||O,H=a("DOMException"),W=E.Map,V=E.has,K=E.get,$=E.set,Y=j.Set,J=j.add,Q=a("Object","keys"),X=u([].push),Z=u((!0).valueOf),tt=u(1..valueOf),et=u("".valueOf),nt=u(R.prototype.getTime),rt=c("structuredClone"),it="DataCloneError",st="Transferring",ot=function(t){return!l((function(){var e=new o.Set([7]),n=t(e),r=t(x(7));return n==e||!n.has(7)||"object"!=typeof r||7!=r}))&&t},at=function(t,e){return!l((function(){var n=new e,r=t({a:n,b:n});return!(r&&r.a===r.b&&r.a instanceof e&&r.a.stack===n.stack)}))},ut=o.structuredClone,lt=i||!at(ut,O)||!at(ut,H)||(r=ut,!!l((function(){var t=r(new o.AggregateError([1],rt,{cause:3}));return"AggregateError"!=t.name||1!=t.errors[0]||t.message!=rt||3!=t.cause}))),ct=!ut&&ot((function(t){return new G(rt,{detail:t}).detail})),ht=ot(ut)||ct,dt=function(t){throw new H("Uncloneable type: "+t,it)},ft=function(t,e){throw new H((e||"Cloning")+" of "+t+" cannot be properly polyfilled in this engine",it)},pt=function(t,e){return ht||ft(e),ht(t)},mt=function(t,e){if(m(t)&&dt("Symbol"),!p(t))return t;if(e){if(V(e,t))return K(e,t)}else e=new W;var n,r,i,s,u,l,c,d,f,g,v,P=y(t),E=!1;switch(P){case"Array":i=C(I(t)),E=!0;break;case"Object":i={},E=!0;break;case"Map":i=new W,E=!0;break;case"Set":i=new Y,E=!0;break;case"RegExp":i=new RegExp(t.source,T(t));break;case"Error":switch(r=t.name){case"AggregateError":i=a("AggregateError")([]);break;case"EvalError":i=A();break;case"RangeError":i=N();break;case"ReferenceError":i=L();break;case"SyntaxError":i=M();break;case"TypeError":i=D();break;case"URIError":i=F();break;case"CompileError":i=q();break;case"LinkError":i=B();break;case"RuntimeError":i=z();break;default:i=O()}E=!0;break;case"DOMException":i=new H(t.message,t.name),E=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":n=o[P],p(n)||ft(P),i=new n(mt(t.buffer,e),t.byteOffset,"DataView"===P?t.byteLength:t.length);break;case"DOMQuad":try{i=new DOMQuad(mt(t.p1,e),mt(t.p2,e),mt(t.p3,e),mt(t.p4,e))}catch(e){i=pt(t,P)}break;case"File":if(ht)try{i=ht(t),y(i)!==P&&(i=void 0)}catch(t){}if(!i)try{i=new File([t],t.name,t)}catch(t){}i||ft(P);break;case"FileList":if(s=function(){var t;try{t=new o.DataTransfer}catch(e){try{t=new o.ClipboardEvent("").clipboardData}catch(t){}}return t&&t.items&&t.files?t:null}()){for(u=0,l=I(t);u<l;u++)s.items.add(mt(t[u],e));i=s.files}else i=pt(t,P);break;case"ImageData":try{i=new ImageData(mt(t.data,e),t.width,t.height,{colorSpace:t.colorSpace})}catch(e){i=pt(t,P)}break;default:if(ht)i=ht(t);else switch(P){case"BigInt":i=x(t.valueOf());break;case"Boolean":i=x(Z(t));break;case"Number":i=x(tt(t));break;case"String":i=x(et(t));break;case"Date":i=new R(nt(t));break;case"ArrayBuffer":(n=o.DataView)||"function"==typeof t.slice||ft(P);try{if("function"!=typeof t.slice||t.resizable){l=t.byteLength,v="maxByteLength"in t?{maxByteLength:t.maxByteLength}:void 0,i=new ArrayBuffer(l,v),f=new n(t),g=new n(i);for(u=0;u<l;u++)g.setUint8(u,f.getUint8(u))}else i=t.slice(0)}catch(t){throw new H("ArrayBuffer is detached",it)}break;case"SharedArrayBuffer":i=t;break;case"Blob":try{i=t.slice(0,t.size,t.type)}catch(t){ft(P)}break;case"DOMPoint":case"DOMPointReadOnly":n=o[P];try{i=n.fromPoint?n.fromPoint(t):new n(t.x,t.y,t.z,t.w)}catch(t){ft(P)}break;case"DOMRect":case"DOMRectReadOnly":n=o[P];try{i=n.fromRect?n.fromRect(t):new n(t.x,t.y,t.width,t.height)}catch(t){ft(P)}break;case"DOMMatrix":case"DOMMatrixReadOnly":n=o[P];try{i=n.fromMatrix?n.fromMatrix(t):new n(t)}catch(t){ft(P)}break;case"AudioData":case"VideoFrame":h(t.clone)||ft(P);try{i=t.clone()}catch(t){dt(P)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":ft(P);default:dt(P)}}if($(e,t,i),E)switch(P){case"Array":case"Object":for(c=Q(t),u=0,l=I(c);u<l;u++)d=c[u],b(i,d,mt(t[d],e));break;case"Map":t.forEach((function(t,n){$(i,mt(n,e),mt(t,e))}));break;case"Set":t.forEach((function(t){J(i,mt(t,e))}));break;case"Error":w(i,"message",mt(t.message,e)),_(t,"cause")&&w(i,"cause",mt(t.cause,e)),"AggregateError"==r&&(i.errors=mt(t.errors,e));case"DOMException":k&&w(i,"stack",mt(t.stack,e))}return i};s({global:!0,enumerable:!0,sham:!S,forced:lt},{structuredClone:function(t){var e,n=P(arguments.length,1)>1&&!f(arguments[1])?v(arguments[1]):void 0,r=n?n.transfer:void 0;return void 0!==r&&function(t,e){if(!p(t))throw D("Transfer option cannot be converted to a sequence");var n=[];g(t,(function(t){X(n,v(t))}));var r,i,s,a,u,l,c=0,f=I(n);if(S)for(a=ut(n,{transfer:n});c<f;)$(e,n[c],a[c++]);else for(;c<f;){if(r=n[c++],V(e,r))throw new H("Duplicate transferable",it);switch(i=y(r)){case"ImageBitmap":s=o.OffscreenCanvas,d(s)||ft(i,st);try{(l=new s(r.width,r.height)).getContext("bitmaprenderer").transferFromImageBitmap(r),u=l.transferToImageBitmap()}catch(t){}break;case"AudioData":case"VideoFrame":h(r.clone)&&h(r.close)||ft(i,st);try{u=r.clone(),r.close()}catch(t){}break;case"ArrayBuffer":h(r.transfer)||ft(i,st),u=r.transfer();break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":ft(i,st)}if(void 0===u)throw new H("This object cannot be transferred: "+i,it);$(e,r,u)}}(r,e=new W),mt(t,e)}})},32564:function(t,e,n){n(96815),n(88417)},65556:function(t,e,n){"use strict";n(66992);var r=n(82109),i=n(17854),s=n(46916),o=n(1702),a=n(19781),u=n(85143),l=n(98052),c=n(47045),h=n(89190),d=n(58003),f=n(63061),p=n(29909),m=n(25787),g=n(60614),v=n(92597),y=n(49974),_=n(70648),b=n(19670),w=n(70111),I=n(41340),P=n(70030),T=n(79114),E=n(18554),j=n(71246),k=n(48053),S=n(5112),x=n(94362),C=S("iterator"),R="URLSearchParams",O=R+"Iterator",A=p.set,N=p.getterFor(R),L=p.getterFor(O),M=Object.getOwnPropertyDescriptor,D=function(t){if(!a)return i[t];var e=M(i,t);return e&&e.value},F=D("fetch"),G=D("Request"),U=D("Headers"),q=G&&G.prototype,B=U&&U.prototype,z=i.RegExp,H=i.TypeError,W=i.decodeURIComponent,V=i.encodeURIComponent,K=o("".charAt),$=o([].join),Y=o([].push),J=o("".replace),Q=o([].shift),X=o([].splice),Z=o("".split),tt=o("".slice),et=/\+/g,nt=Array(4),rt=function(t){return nt[t-1]||(nt[t-1]=z("((?:%[\\da-f]{2}){"+t+"})","gi"))},it=function(t){try{return W(t)}catch(e){return t}},st=function(t){var e=J(t,et," "),n=4;try{return W(e)}catch(t){for(;n;)e=J(e,rt(n--),it);return e}},ot=/[!'()~]|%20/g,at={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ut=function(t){return at[t]},lt=function(t){return J(V(t),ot,ut)},ct=f((function(t,e){A(this,{type:O,iterator:E(N(t).entries),kind:e})}),"Iterator",(function(){var t=L(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n}),!0),ht=function(t){this.entries=[],this.url=null,void 0!==t&&(w(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===K(t,0)?tt(t,1):t:I(t)))};ht.prototype={type:R,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,n,r,i,o,a,u,l=j(t);if(l)for(n=(e=E(t,l)).next;!(r=s(n,e)).done;){if(o=(i=E(b(r.value))).next,(a=s(o,i)).done||(u=s(o,i)).done||!s(o,i).done)throw H("Expected sequence with length 2");Y(this.entries,{key:I(a.value),value:I(u.value)})}else for(var c in t)v(t,c)&&Y(this.entries,{key:c,value:I(t[c])})},parseQuery:function(t){if(t)for(var e,n,r=Z(t,"&"),i=0;i<r.length;)(e=r[i++]).length&&(n=Z(e,"="),Y(this.entries,{key:st(Q(n)),value:st($(n,"="))}))},serialize:function(){for(var t,e=this.entries,n=[],r=0;r<e.length;)t=e[r++],Y(n,lt(t.key)+"="+lt(t.value));return $(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var dt=function(){m(this,ft);var t=A(this,new ht(arguments.length>0?arguments[0]:void 0));a||(this.length=t.entries.length)},ft=dt.prototype;if(h(ft,{append:function(t,e){k(arguments.length,2);var n=N(this);Y(n.entries,{key:I(t),value:I(e)}),a||this.length++,n.updateURL()},delete:function(t){k(arguments.length,1);for(var e=N(this),n=e.entries,r=I(t),i=0;i<n.length;)n[i].key===r?X(n,i,1):i++;a||(this.length=n.length),e.updateURL()},get:function(t){k(arguments.length,1);for(var e=N(this).entries,n=I(t),r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){k(arguments.length,1);for(var e=N(this).entries,n=I(t),r=[],i=0;i<e.length;i++)e[i].key===n&&Y(r,e[i].value);return r},has:function(t){k(arguments.length,1);for(var e=N(this).entries,n=I(t),r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){k(arguments.length,1);for(var n,r=N(this),i=r.entries,s=!1,o=I(t),u=I(e),l=0;l<i.length;l++)(n=i[l]).key===o&&(s?X(i,l--,1):(s=!0,n.value=u));s||Y(i,{key:o,value:u}),a||(this.length=i.length),r.updateURL()},sort:function(){var t=N(this);x(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,n=N(this).entries,r=y(t,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new ct(this,"keys")},values:function(){return new ct(this,"values")},entries:function(){return new ct(this,"entries")}},{enumerable:!0}),l(ft,C,ft.entries,{name:"entries"}),l(ft,"toString",(function(){return N(this).serialize()}),{enumerable:!0}),a&&c(ft,"size",{get:function(){return N(this).entries.length},configurable:!0,enumerable:!0}),d(dt,R),r({global:!0,constructor:!0,forced:!u},{URLSearchParams:dt}),!u&&g(U)){var pt=o(B.has),mt=o(B.set),gt=function(t){if(w(t)){var e,n=t.body;if(_(n)===R)return e=t.headers?new U(t.headers):new U,pt(e,"content-type")||mt(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),P(t,{body:T(0,I(n)),headers:T(0,e)})}return t};if(g(F)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return F(t,arguments.length>1?gt(arguments[1]):{})}}),g(G)){var vt=function(t){return m(this,q),new G(t,arguments.length>1?gt(arguments[1]):{})};q.constructor=vt,vt.prototype=q,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:vt})}}t.exports={URLSearchParams:dt,getState:N}},41637:function(t,e,n){n(65556)},62062:function(t,e,n){"use strict";var r=n(19781),i=n(1702),s=n(47045),o=URLSearchParams.prototype,a=i(o.forEach);r&&!("size"in o)&&s(o,"size",{get:function(){var t=0;return a(this,(function(){t++})),t},configurable:!0,enumerable:!0})},7994:function(t,e,n){var r=n(82109),i=n(35005),s=n(47293),o=n(48053),a=n(41340),u=n(85143),l=i("URL");r({target:"URL",stat:!0,forced:!(u&&s((function(){l.canParse()})))},{canParse:function(t){var e=o(arguments.length,1),n=a(t),r=e<2||void 0===arguments[1]?void 0:a(arguments[1]);try{return!!new l(n,r)}catch(t){return!1}}})},68789:function(t,e,n){"use strict";n(78783);var r,i=n(82109),s=n(19781),o=n(85143),a=n(17854),u=n(49974),l=n(1702),c=n(98052),h=n(47045),d=n(25787),f=n(92597),p=n(21574),m=n(48457),g=n(41589),v=n(28710).codeAt,y=n(33197),_=n(41340),b=n(58003),w=n(48053),I=n(65556),P=n(29909),T=P.set,E=P.getterFor("URL"),j=I.URLSearchParams,k=I.getState,S=a.URL,x=a.TypeError,C=a.parseInt,R=Math.floor,O=Math.pow,A=l("".charAt),N=l(/./.exec),L=l([].join),M=l(1..toString),D=l([].pop),F=l([].push),G=l("".replace),U=l([].shift),q=l("".split),B=l("".slice),z=l("".toLowerCase),H=l([].unshift),W="Invalid scheme",V="Invalid host",K="Invalid port",$=/[a-z]/i,Y=/[\d+-.a-z]/i,J=/\d/,Q=/^0x/i,X=/^[0-7]+$/,Z=/^\d+$/,tt=/^[\da-f]+$/i,et=/[\0\t\n\r #%/:<>?@[\\\]^|]/,nt=/[\0\t\n\r #/:<>?@[\\\]^|]/,rt=/^[\u0000-\u0020]+/,it=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,st=/[\t\n\r]/g,ot=function(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)H(e,t%256),t=R(t/256);return L(e,".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,i=0,s=0;s<8;s++)0!==t[s]?(i>n&&(e=r,n=i),r=null,i=0):(null===r&&(r=s),++i);return i>n&&(e=r,n=i),e}(t),n=0;n<8;n++)i&&0===t[n]||(i&&(i=!1),r===n?(e+=n?":":"::",i=!0):(e+=M(t[n],16),n<7&&(e+=":")));return"["+e+"]"}return t},at={},ut=p({},at,{" ":1,'"':1,"<":1,">":1,"`":1}),lt=p({},ut,{"#":1,"?":1,"{":1,"}":1}),ct=p({},lt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ht=function(t,e){var n=v(t,0);return n>32&&n<127&&!f(e,t)?t:encodeURIComponent(t)},dt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ft=function(t,e){var n;return 2==t.length&&N($,A(t,0))&&(":"==(n=A(t,1))||!e&&"|"==n)},pt=function(t){var e;return t.length>1&&ft(B(t,0,2))&&(2==t.length||"/"===(e=A(t,2))||"\\"===e||"?"===e||"#"===e)},mt=function(t){return"."===t||"%2e"===z(t)},gt={},vt={},yt={},_t={},bt={},wt={},It={},Pt={},Tt={},Et={},jt={},kt={},St={},xt={},Ct={},Rt={},Ot={},At={},Nt={},Lt={},Mt={},Dt=function(t,e,n){var r,i,s,o=_(t);if(e){if(i=this.parse(o))throw x(i);this.searchParams=null}else{if(void 0!==n&&(r=new Dt(n,!0)),i=this.parse(o,null,r))throw x(i);(s=k(new j)).bindURL(this),this.searchParams=s}};Dt.prototype={type:"URL",parse:function(t,e,n){var i,s,o,a,u,l=this,c=e||gt,h=0,d="",p=!1,v=!1,y=!1;for(t=_(t),e||(l.scheme="",l.username="",l.password="",l.host=null,l.port=null,l.path=[],l.query=null,l.fragment=null,l.cannotBeABaseURL=!1,t=G(t,rt,""),t=G(t,it,"$1")),t=G(t,st,""),i=m(t);h<=i.length;){switch(s=i[h],c){case gt:if(!s||!N($,s)){if(e)return W;c=yt;continue}d+=z(s),c=vt;break;case vt:if(s&&(N(Y,s)||"+"==s||"-"==s||"."==s))d+=z(s);else{if(":"!=s){if(e)return W;d="",c=yt,h=0;continue}if(e&&(l.isSpecial()!=f(dt,d)||"file"==d&&(l.includesCredentials()||null!==l.port)||"file"==l.scheme&&!l.host))return;if(l.scheme=d,e)return void(l.isSpecial()&&dt[l.scheme]==l.port&&(l.port=null));d="","file"==l.scheme?c=xt:l.isSpecial()&&n&&n.scheme==l.scheme?c=_t:l.isSpecial()?c=Pt:"/"==i[h+1]?(c=bt,h++):(l.cannotBeABaseURL=!0,F(l.path,""),c=Nt)}break;case yt:if(!n||n.cannotBeABaseURL&&"#"!=s)return W;if(n.cannotBeABaseURL&&"#"==s){l.scheme=n.scheme,l.path=g(n.path),l.query=n.query,l.fragment="",l.cannotBeABaseURL=!0,c=Mt;break}c="file"==n.scheme?xt:wt;continue;case _t:if("/"!=s||"/"!=i[h+1]){c=wt;continue}c=Tt,h++;break;case bt:if("/"==s){c=Et;break}c=At;continue;case wt:if(l.scheme=n.scheme,s==r)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=g(n.path),l.query=n.query;else if("/"==s||"\\"==s&&l.isSpecial())c=It;else if("?"==s)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=g(n.path),l.query="",c=Lt;else{if("#"!=s){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=g(n.path),l.path.length--,c=At;continue}l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=g(n.path),l.query=n.query,l.fragment="",c=Mt}break;case It:if(!l.isSpecial()||"/"!=s&&"\\"!=s){if("/"!=s){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,c=At;continue}c=Et}else c=Tt;break;case Pt:if(c=Tt,"/"!=s||"/"!=A(d,h+1))continue;h++;break;case Tt:if("/"!=s&&"\\"!=s){c=Et;continue}break;case Et:if("@"==s){p&&(d="%40"+d),p=!0,o=m(d);for(var b=0;b<o.length;b++){var w=o[b];if(":"!=w||y){var I=ht(w,ct);y?l.password+=I:l.username+=I}else y=!0}d=""}else if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&l.isSpecial()){if(p&&""==d)return"Invalid authority";h-=m(d).length+1,d="",c=jt}else d+=s;break;case jt:case kt:if(e&&"file"==l.scheme){c=Rt;continue}if(":"!=s||v){if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&l.isSpecial()){if(l.isSpecial()&&""==d)return V;if(e&&""==d&&(l.includesCredentials()||null!==l.port))return;if(a=l.parseHost(d))return a;if(d="",c=Ot,e)return;continue}"["==s?v=!0:"]"==s&&(v=!1),d+=s}else{if(""==d)return V;if(a=l.parseHost(d))return a;if(d="",c=St,e==kt)return}break;case St:if(!N(J,s)){if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&l.isSpecial()||e){if(""!=d){var P=C(d,10);if(P>65535)return K;l.port=l.isSpecial()&&P===dt[l.scheme]?null:P,d=""}if(e)return;c=Ot;continue}return K}d+=s;break;case xt:if(l.scheme="file","/"==s||"\\"==s)c=Ct;else{if(!n||"file"!=n.scheme){c=At;continue}if(s==r)l.host=n.host,l.path=g(n.path),l.query=n.query;else if("?"==s)l.host=n.host,l.path=g(n.path),l.query="",c=Lt;else{if("#"!=s){pt(L(g(i,h),""))||(l.host=n.host,l.path=g(n.path),l.shortenPath()),c=At;continue}l.host=n.host,l.path=g(n.path),l.query=n.query,l.fragment="",c=Mt}}break;case Ct:if("/"==s||"\\"==s){c=Rt;break}n&&"file"==n.scheme&&!pt(L(g(i,h),""))&&(ft(n.path[0],!0)?F(l.path,n.path[0]):l.host=n.host),c=At;continue;case Rt:if(s==r||"/"==s||"\\"==s||"?"==s||"#"==s){if(!e&&ft(d))c=At;else if(""==d){if(l.host="",e)return;c=Ot}else{if(a=l.parseHost(d))return a;if("localhost"==l.host&&(l.host=""),e)return;d="",c=Ot}continue}d+=s;break;case Ot:if(l.isSpecial()){if(c=At,"/"!=s&&"\\"!=s)continue}else if(e||"?"!=s)if(e||"#"!=s){if(s!=r&&(c=At,"/"!=s))continue}else l.fragment="",c=Mt;else l.query="",c=Lt;break;case At:if(s==r||"/"==s||"\\"==s&&l.isSpecial()||!e&&("?"==s||"#"==s)){if(".."===(u=z(u=d))||"%2e."===u||".%2e"===u||"%2e%2e"===u?(l.shortenPath(),"/"==s||"\\"==s&&l.isSpecial()||F(l.path,"")):mt(d)?"/"==s||"\\"==s&&l.isSpecial()||F(l.path,""):("file"==l.scheme&&!l.path.length&&ft(d)&&(l.host&&(l.host=""),d=A(d,0)+":"),F(l.path,d)),d="","file"==l.scheme&&(s==r||"?"==s||"#"==s))for(;l.path.length>1&&""===l.path[0];)U(l.path);"?"==s?(l.query="",c=Lt):"#"==s&&(l.fragment="",c=Mt)}else d+=ht(s,lt);break;case Nt:"?"==s?(l.query="",c=Lt):"#"==s?(l.fragment="",c=Mt):s!=r&&(l.path[0]+=ht(s,at));break;case Lt:e||"#"!=s?s!=r&&("'"==s&&l.isSpecial()?l.query+="%27":l.query+="#"==s?"%23":ht(s,at)):(l.fragment="",c=Mt);break;case Mt:s!=r&&(l.fragment+=ht(s,ut))}h++}},parseHost:function(t){var e,n,r;if("["==A(t,0)){if("]"!=A(t,t.length-1))return V;if(e=function(t){var e,n,r,i,s,o,a,u=[0,0,0,0,0,0,0,0],l=0,c=null,h=0,d=function(){return A(t,h)};if(":"==d()){if(":"!=A(t,1))return;h+=2,c=++l}for(;d();){if(8==l)return;if(":"!=d()){for(e=n=0;n<4&&N(tt,d());)e=16*e+C(d(),16),h++,n++;if("."==d()){if(0==n)return;if(h-=n,l>6)return;for(r=0;d();){if(i=null,r>0){if(!("."==d()&&r<4))return;h++}if(!N(J,d()))return;for(;N(J,d());){if(s=C(d(),10),null===i)i=s;else{if(0==i)return;i=10*i+s}if(i>255)return;h++}u[l]=256*u[l]+i,2!=++r&&4!=r||l++}if(4!=r)return;break}if(":"==d()){if(h++,!d())return}else if(d())return;u[l++]=e}else{if(null!==c)return;h++,c=++l}}if(null!==c)for(o=l-c,l=7;0!=l&&o>0;)a=u[l],u[l--]=u[c+o-1],u[c+--o]=a;else if(8!=l)return;return u}(B(t,1,-1)),!e)return V;this.host=e}else if(this.isSpecial()){if(t=y(t),N(et,t))return V;if(e=function(t){var e,n,r,i,s,o,a,u=q(t,".");if(u.length&&""==u[u.length-1]&&u.length--,(e=u.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(i=u[r]))return t;if(s=10,i.length>1&&"0"==A(i,0)&&(s=N(Q,i)?16:8,i=B(i,8==s?1:2)),""===i)o=0;else{if(!N(10==s?Z:8==s?X:tt,i))return t;o=C(i,s)}F(n,o)}for(r=0;r<e;r++)if(o=n[r],r==e-1){if(o>=O(256,5-e))return null}else if(o>255)return null;for(a=D(n),r=0;r<n.length;r++)a+=n[r]*O(256,3-r);return a}(t),null===e)return V;this.host=e}else{if(N(nt,t))return V;for(e="",n=m(t),r=0;r<n.length;r++)e+=ht(n[r],at);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return f(dt,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"==this.scheme&&1==e&&ft(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,n=t.username,r=t.password,i=t.host,s=t.port,o=t.path,a=t.query,u=t.fragment,l=e+":";return null!==i?(l+="//",t.includesCredentials()&&(l+=n+(r?":"+r:"")+"@"),l+=ot(i),null!==s&&(l+=":"+s)):"file"==e&&(l+="//"),l+=t.cannotBeABaseURL?o[0]:o.length?"/"+L(o,"/"):"",null!==a&&(l+="?"+a),null!==u&&(l+="#"+u),l},setHref:function(t){var e=this.parse(t);if(e)throw x(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"==t)try{return new Ft(t.path[0]).origin}catch(t){return"null"}return"file"!=t&&this.isSpecial()?t+"://"+ot(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(_(t)+":",gt)},getUsername:function(){return this.username},setUsername:function(t){var e=m(_(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<e.length;n++)this.username+=ht(e[n],ct)}},getPassword:function(){return this.password},setPassword:function(t){var e=m(_(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<e.length;n++)this.password+=ht(e[n],ct)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?ot(t):ot(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,jt)},getHostname:function(){var t=this.host;return null===t?"":ot(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,kt)},getPort:function(){var t=this.port;return null===t?"":_(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""==(t=_(t))?this.port=null:this.parse(t,St))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+L(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Ot))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""==(t=_(t))?this.query=null:("?"==A(t,0)&&(t=B(t,1)),this.query="",this.parse(t,Lt)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!=(t=_(t))?("#"==A(t,0)&&(t=B(t,1)),this.fragment="",this.parse(t,Mt)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Ft=function(t){var e=d(this,Gt),n=w(arguments.length,1)>1?arguments[1]:void 0,r=T(e,new Dt(t,!1,n));s||(e.href=r.serialize(),e.origin=r.getOrigin(),e.protocol=r.getProtocol(),e.username=r.getUsername(),e.password=r.getPassword(),e.host=r.getHost(),e.hostname=r.getHostname(),e.port=r.getPort(),e.pathname=r.getPathname(),e.search=r.getSearch(),e.searchParams=r.getSearchParams(),e.hash=r.getHash())},Gt=Ft.prototype,Ut=function(t,e){return{get:function(){return E(this)[t]()},set:e&&function(t){return E(this)[e](t)},configurable:!0,enumerable:!0}};if(s&&(h(Gt,"href",Ut("serialize","setHref")),h(Gt,"origin",Ut("getOrigin")),h(Gt,"protocol",Ut("getProtocol","setProtocol")),h(Gt,"username",Ut("getUsername","setUsername")),h(Gt,"password",Ut("getPassword","setPassword")),h(Gt,"host",Ut("getHost","setHost")),h(Gt,"hostname",Ut("getHostname","setHostname")),h(Gt,"port",Ut("getPort","setPort")),h(Gt,"pathname",Ut("getPathname","setPathname")),h(Gt,"search",Ut("getSearch","setSearch")),h(Gt,"searchParams",Ut("getSearchParams")),h(Gt,"hash",Ut("getHash","setHash"))),c(Gt,"toJSON",(function(){return E(this).serialize()}),{enumerable:!0}),c(Gt,"toString",(function(){return E(this).serialize()}),{enumerable:!0}),S){var qt=S.createObjectURL,Bt=S.revokeObjectURL;qt&&c(Ft,"createObjectURL",u(qt,S)),Bt&&c(Ft,"revokeObjectURL",u(Bt,S))}b(Ft,"URL"),i({global:!0,constructor:!0,forced:!o,sham:!s},{URL:Ft})},60285:function(t,e,n){n(68789)},83753:function(t,e,n){"use strict";var r=n(82109),i=n(46916);r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},28594:function(t,e,n){n(82526),n(41817),n(72443),n(92401),n(8722),n(32165),n(69007),n(16066),n(83510),n(41840),n(6982),n(32159),n(96649),n(39341),n(60543),n(21703),n(96647),n(9170),n(32120),n(52262),n(92222),n(50545),n(26541),n(43290),n(57327),n(69826),n(34553),n(67635),n(77287),n(84944),n(86535),n(89554),n(91038),n(26699),n(82772),n(79753),n(66992),n(69600),n(94986),n(21249),n(26572),n(57658),n(85827),n(96644),n(65069),n(47042),n(5212),n(2707),n(38706),n(40561),n(90476),n(76459),n(99892),n(33792),n(99244),n(30541),n(35581),n(18264),n(76938),n(39575),n(16716),n(43016),n(3843),n(81801),n(9550),n(28733),n(5735),n(96078),n(83710),n(62130),n(24812),n(4855),n(68309),n(35837),n(38862),n(73706),n(51532),n(99752),n(82376),n(73181),n(23484),n(2388),n(88621),n(60403),n(84755),n(25438),n(90332),n(40658),n(40197),n(44914),n(52420),n(60160),n(60970),n(10408),n(73689),n(9653),n(93299),n(35192),n(33161),n(44048),n(78285),n(44363),n(55994),n(61874),n(9494),n(31354),n(56977),n(55147),n(19601),n(78011),n(59595),n(33321),n(69070),n(35500),n(69720),n(43371),n(38559),n(38880),n(49337),n(36210),n(30489),n(46314),n(43304),n(41825),n(98410),n(72200),n(47941),n(94869),n(33952),n(57227),n(67987),n(60514),n(68304),n(41539),n(26833),n(54678),n(91058),n(88674),n(17922),n(34668),n(17727),n(36535),n(12419),n(69596),n(52586),n(74819),n(95683),n(39361),n(51037),n(5898),n(67556),n(14361),n(83593),n(39532),n(81299),n(24603),n(28450),n(74916),n(92087),n(88386),n(77601),n(39714),n(70189),n(24506),n(79841),n(27852),n(94953),n(32023),n(78783),n(4723),n(76373),n(66528),n(83112),n(38992),n(82481),n(15306),n(68757),n(64765),n(23123),n(23157),n(83650),n(73210),n(48702),n(55674),n(15218),n(74475),n(57929),n(50915),n(29253),n(42125),n(78830),n(58734),n(29254),n(37268),n(7397),n(60086),n(80623),n(44197),n(76495),n(87145),n(35109),n(65125),n(82472),n(49743),n(8255),n(29135),n(48675),n(92990),n(18927),n(33105),n(35035),n(74345),n(7174),n(63408),n(14590),n(32846),n(98145),n(44731),n(77209),n(96319),n(58867),n(37789),n(33739),n(95206),n(29368),n(14483),n(12056),n(3462),n(30678),n(27462),n(33824),n(55021),n(12974),n(1439),n(87585),n(15016),n(55315),n(78221),n(4129),n(38478),n(75505),n(27479),n(54747),n(33948),n(87714),n(82801),n(1174),n(84633),n(85844),n(71550),n(61295),n(32564),n(60285),n(7994),n(83753),n(41637),n(62062),n(40857)},35666:function(t){var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var s=e&&e.prototype instanceof v?e:v,o=Object.create(s.prototype),a=new C(r||[]);return i(o,"_invoke",{value:j(t,n,a)}),o}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d="suspendedStart",f="suspendedYield",p="executing",m="completed",g={};function v(){}function y(){}function _(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,I=w&&w(w(R([])));I&&I!==n&&r.call(I,o)&&(b=I);var P=_.prototype=v.prototype=Object.create(b);function T(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(i,s,o,a){var u=h(t[i],t,s);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==typeof c&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,o,a)}),(function(t){n("throw",t,o,a)})):e.resolve(c).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,a)}))}a(u.arg)}var s;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return s=s?s.then(i,i):i()}})}function j(t,e,n){var r=d;return function(i,s){if(r===p)throw new Error("Generator is already running");if(r===m){if("throw"===i)throw s;return O()}for(n.method=i,n.arg=s;;){var o=n.delegate;if(o){var a=k(o,n);if(a){if(a===g)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=h(t,e,n);if("normal"===u.type){if(r=n.done?m:f,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=m,n.method="throw",n.arg=u.arg)}}}function k(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var s=h(i,t.iterator,n.arg);if("throw"===s.type)return n.method="throw",n.arg=s.arg,n.delegate=null,g;var o=s.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function R(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}return{next:O}}function O(){return{value:e,done:!0}}return y.prototype=_,i(P,"constructor",{value:_,configurable:!0}),i(_,"constructor",{value:y,configurable:!0}),y.displayName=l(_,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,u,"GeneratorFunction")),t.prototype=Object.create(P),t},t.awrap=function(t){return{__await:t}},T(E.prototype),l(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,i,s){void 0===s&&(s=Promise);var o=new E(c(e,n,r,i),s);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},T(P),l(P,u,"Generator"),l(P,o,(function(){return this})),l(P,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=R,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(x),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,g):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={exports:{}};return t[r].call(s.exports,s,s.exports,n),s.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),function(){"use strict";function t(){t=function(){return n};var n={},r=Object.prototype,i=r.hasOwnProperty,s=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof p?e:p,o=Object.create(i.prototype),a=new k(r||[]);return s(o,"_invoke",{value:P(t,n,a)}),o}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}n.wrap=h;var f={};function p(){}function m(){}function g(){}var v={};c(v,a,(function(){return this}));var y=Object.getPrototypeOf,_=y&&y(y(S([])));_&&_!==r&&i.call(_,a)&&(v=_);var b=g.prototype=p.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,n){function r(s,o,a,u){var l=d(t[s],t,o);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==e(h)&&i.call(h,"__await")?n.resolve(h.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):n.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,u)}))}u(l.arg)}var o;s(this,"_invoke",{value:function(t,e){function i(){return new n((function(n,i){r(t,e,n,i)}))}return o=o?o.then(i,i):i()}})}function P(t,e,n){var r="suspendedStart";return function(i,s){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw s;return{value:void 0,done:!0}}for(n.method=i,n.arg=s;;){var o=n.delegate;if(o){var a=T(o,n);if(a){if(a===f)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function T(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,T(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=d(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var s=i.arg;return s?s.done?(e[t.resultName]=s.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):s:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function S(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return m.prototype=g,s(b,"constructor",{value:g,configurable:!0}),s(g,"constructor",{value:m,configurable:!0}),m.displayName=c(g,l,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,l,"GeneratorFunction")),t.prototype=Object.create(b),t},n.awrap=function(t){return{__await:t}},w(I.prototype),c(I.prototype,u,(function(){return this})),n.AsyncIterator=I,n.async=function(t,e,r,i,s){void 0===s&&(s=Promise);var o=new I(h(t,e,r,i),s);return n.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},w(b),c(b,l,"Generator"),c(b,a,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},n.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return o.type="throw",o.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],o=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var a=i.call(s,"catchLoc"),u=i.call(s,"finallyLoc");if(a&&u){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,f):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;j(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},n}function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function r(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||m(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function s(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t){var n=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,"string");if("object"!==e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===e(n)?n:String(n)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t){var e="function"==typeof Map?new Map:void 0;return u=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return l(t,arguments,d(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h(r,t)},u(t)}function l(t,e,n){return l=c()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&h(i,n.prototype),i},l.apply(null,arguments)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,s,o,a=[],u=!0,l=!1;try{if(s=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(t){l=!0,i=t}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}(t,e)||m(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=m(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw s}}}}function m(t,e){if(t){if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(t){s(t)}}function a(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}n(28594),n(35666),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var y=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.include,i=n.exclude,s=function(t){var e=function(e){return"string"==typeof e?t===e:e.test(t)};return r?r.some(e):!i||!i.some(e)},o=p(function(t){var e=new Set;do{var n,r=p(Reflect.ownKeys(t));try{for(r.s();!(n=r.n()).done;){var i=n.value;e.add([t,i])}}catch(t){r.e(t)}finally{r.f()}}while((t=Reflect.getPrototypeOf(t))&&t!==Object.prototype);return e}(t.constructor.prototype));try{for(o.s();!(e=o.n()).done;){var a=f(e.value,2),u=a[0],l=a[1];if("constructor"!==l&&s(l)){var c=Reflect.getOwnPropertyDescriptor(u,l);c&&"function"==typeof c.value&&(t[l]=t[l].bind(t))}}}catch(t){o.e(t)}finally{o.f()}return t},_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(o,t);var n,r,i=(n=o,r=c(),function(){var t,i=d(n);if(r){var s=d(this).constructor;t=Reflect.construct(i,arguments,s)}else t=i.apply(this,arguments);return function(t,n){if(n&&("object"===e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function o(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"The global `jsPsych` variable is no longer available in jsPsych v7.";return a(this,o),(t=i.call(this,"".concat(e," Please follow the migration guide at https://www.jspsych.org/7.0/support/migration-v7/ to update your experiment."))).name="MigrationError",t}return s(o)}(u(Error));function b(t){return r(new Set(t))}function w(t){if(!t)return t;var n;if(Array.isArray(t)){n=[];var r,i=p(t);try{for(i.s();!(r=i.n()).done;){var s=r.value;n.push(w(s))}}catch(t){i.e(t)}finally{i.f()}return n}if("object"===e(t)&&null!==t){for(var o in n={},t)t.hasOwnProperty(o)&&(n[o]=w(t[o]));return n}return t}window.jsPsych={get init(){throw new _("`jsPsych.init()` was replaced by `initJsPsych()` in jsPsych v7.")},get data(){throw new _},get randomization(){throw new _},get turk(){throw new _},get pluginAPI(){throw new _},get ALL_KEYS(){throw new _('jsPsych.ALL_KEYS was replaced by the "ALL_KEYS" string in jsPsych v7.')},get NO_KEYS(){throw new _('jsPsych.NO_KEYS was replaced by the "NO_KEYS" string in jsPsych v7.')}};var I,P=Object.freeze({__proto__:null,unique:b,deepCopy:w}),T=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];a(this,t),this.values=e}return s(t,[{key:"sum",value:function(){var t,e=0,n=p(this.values);try{for(n.s();!(t=n.n()).done;)e+=t.value}catch(t){n.e(t)}finally{n.f()}return e}},{key:"mean",value:function(){return this.sum()/this.count()}},{key:"median",value:function(){if(0!==this.values.length){var t=this.values.slice(0).sort((function(t,e){return t-e})),e=Math.floor(t.length/2);return t.length%2==0?(t[e]+t[e-1])/2:t[e]}}},{key:"min",value:function(){return Math.min.apply(null,this.values)}},{key:"max",value:function(){return Math.max.apply(null,this.values)}},{key:"count",value:function(){return this.values.length}},{key:"variance",value:function(){var t,e=this.mean(),n=0,r=p(this.values);try{for(r.s();!(t=r.n()).done;){var i=t.value;n+=Math.pow(i-e,2)}}catch(t){r.e(t)}finally{r.f()}return n/(this.values.length-1)}},{key:"sd",value:function(){var t=this.variance();return Math.sqrt(t)}},{key:"frequencies",value:function(){var t,e={},n=p(this.values);try{for(n.s();!(t=n.n()).done;){var r=t.value;void 0===e[r]?e[r]=1:e[r]++}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"all",value:function(t){var e,n=p(this.values);try{for(n.s();!(e=n.n()).done;)if(!t(e.value))return!1}catch(t){n.e(t)}finally{n.f()}return!0}},{key:"subset",value:function(e){var n,r=[],i=p(this.values);try{for(i.s();!(n=i.n()).done;){var s=n.value;e(s)&&r.push(s)}}catch(t){i.e(t)}finally{i.f()}return new t(r)}}]),t}(),E=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];a(this,t),this.trials=e}return s(t,[{key:"push",value:function(t){return this.trials.push(t),this}},{key:"join",value:function(t){return this.trials=this.trials.concat(t.values()),this}},{key:"top",value:function(){return this.trials.length<=1?this:new t([this.trials[this.trials.length-1]])}},{key:"first",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(e<1)throw"You must query with a positive nonzero integer. Please use a\n               different value for n.";return 0===this.trials.length?new t:(e>this.trials.length&&(e=this.trials.length),new t(this.trials.slice(0,e)))}},{key:"last",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(e<1)throw"You must query with a positive nonzero integer. Please use a\n               different value for n.";return 0===this.trials.length?new t:(e>this.trials.length&&(e=this.trials.length),new t(this.trials.slice(this.trials.length-e,this.trials.length)))}},{key:"values",value:function(){return this.trials}},{key:"count",value:function(){return this.trials.length}},{key:"readOnly",value:function(){return new t(w(this.trials))}},{key:"addToAll",value:function(t){var e,n=p(this.trials);try{for(n.s();!(e=n.n()).done;){var r=e.value;Object.assign(r,t)}}catch(t){n.e(t)}finally{n.f()}return this}},{key:"addToLast",value:function(t){return 0!=this.trials.length&&Object.assign(this.trials[this.trials.length-1],t),this}},{key:"filter",value:function(e){var n;n=Array.isArray(e)?w(e):w([e]);var r,i=[],s=p(this.trials);try{for(s.s();!(r=s.n()).done;){var o,a=r.value,u=!1,l=p(n);try{for(l.s();!(o=l.n()).done;){for(var c=o.value,h=!0,d=0,f=Object.keys(c);d<f.length;d++){var m=f[d];void 0!==a[m]&&a[m]===c[m]||(h=!1)}if(h){u=!0;break}}}catch(t){l.e(t)}finally{l.f()}u&&i.push(a)}}catch(t){s.e(t)}finally{s.f()}return new t(i)}},{key:"filterCustom",value:function(e){return new t(this.trials.filter(e))}},{key:"filterColumns",value:function(e){return new t(this.trials.map((function(t){return Object.fromEntries(e.filter((function(e){return e in t})).map((function(e){return[e,t[e]]})))})))}},{key:"select",value:function(t){var e,n=[],r=p(this.trials);try{for(r.s();!(e=r.n()).done;){var i=e.value;void 0!==i[t]&&n.push(i[t])}}catch(t){r.e(t)}finally{r.f()}return new T(n)}},{key:"ignore",value:function(e){Array.isArray(e)||(e=[e]);var n,r=w(this.trials),i=p(r);try{for(i.s();!(n=i.n()).done;){var s,o=n.value,a=p(e);try{for(a.s();!(s=a.n()).done;)delete o[s.value]}catch(t){a.e(t)}finally{a.f()}}}catch(t){i.e(t)}finally{i.f()}return new t(r)}},{key:"uniqueNames",value:function(){var t,e=[],n=p(this.trials);try{for(n.s();!(t=n.n()).done;)for(var r=t.value,i=0,s=Object.keys(r);i<s.length;i++){var o=s[i];e.includes(o)||e.push(o)}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"csv",value:function(){return function(t){var n,r="object"!=e(t)?JSON.parse(t):t,i="",s="",o=[],a=p(r);try{for(a.s();!(n=a.n()).done;){var u=n.value;for(var l in u){var c=l+"";c='"'+c.replace(/"/g,'""')+'",',o.includes(l)||(o.push(l),i+=c)}}}catch(t){a.e(t)}finally{a.f()}s+=(i=i.slice(0,-1))+"\r\n";var h,d=p(r);try{for(d.s();!(h=d.n()).done;){var f=h.value;i="";var m,g=p(o);try{for(g.s();!(m=g.n()).done;){var v=m.value,y=void 0===f[v]?"":f[v];"object"==e(y)&&(y=JSON.stringify(y)),i+='"'+(y+"").replace(/"/g,'""')+'",'}}catch(t){g.e(t)}finally{g.f()}s+=(i=i.slice(0,-1))+"\r\n"}}catch(t){d.e(t)}finally{d.f()}return s}(this.trials)}},{key:"json",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?JSON.stringify(this.trials,null,"\t"):JSON.stringify(this.trials)}},{key:"localSave",value:function(t,e){var n;if("json"===(t=t.toLowerCase()))n=this.json();else{if("csv"!==t)throw new Error('Invalid format specified for localSave. Must be "json" or "csv".');n=this.csv()}!function(t,e){var n,r=new Blob([t],{type:"text/plain"});n=void 0!==window.webkitURL?window.webkitURL.createObjectURL(r):window.URL.createObjectURL(r);var i=document.createElement("a");i.id="jspsych-download-as-text-link",i.style.display="none",i.download=e,i.href=n,i.click()}(n,e)}}]),t}(),j=function(){function t(e){a(this,t),this.jsPsych=e,this.dataProperties={},this.reset()}return s(t,[{key:"reset",value:function(){this.allData=new E,this.interactionData=new E}},{key:"get",value:function(){return this.allData}},{key:"getInteractionData",value:function(){return this.interactionData}},{key:"write",value:function(t){var e=this.jsPsych.getProgress(),n=this.jsPsych.getCurrentTrial(),r={trial_type:n.type.info.name,trial_index:e.current_trial_global,time_elapsed:this.jsPsych.getTotalTime(),internal_node_id:this.jsPsych.getCurrentTimelineNodeID()};this.allData.push(Object.assign(Object.assign(Object.assign(Object.assign({},t),n.data),r),this.dataProperties))}},{key:"addProperties",value:function(t){this.allData.addToAll(t),this.dataProperties=Object.assign({},this.dataProperties,t)}},{key:"addDataToLastTrial",value:function(t){this.allData.addToLast(t)}},{key:"getDataByTimelineNode",value:function(t){return this.allData.filterCustom((function(e){return e.internal_node_id.slice(0,t.length)===t}))}},{key:"getLastTrialData",value:function(){return this.allData.top()}},{key:"getLastTimelineData",value:function(){var t=this.getLastTrialData().select("internal_node_id").values[0];if(void 0===t)return new E;var e=t.substr(0,t.lastIndexOf("-"));return this.getDataByTimelineNode(e)}},{key:"displayData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json";"json"!=(t=t.toLowerCase())&&"csv"!=t&&(console.log("Invalid format declared for displayData function. Using json as default."),t="json");var e="json"===t?this.allData.json(!0):this.allData.csv();this.jsPsych.getDisplayElement().innerHTML='<pre id="jspsych-data-display"></pre>',document.getElementById("jspsych-data-display").textContent=e}},{key:"urlVariables",value:function(){return void 0===this.query_string&&(this.query_string=function(){for(var t=window.location.search.substr(1).split("&"),e={},n=0;n<t.length;++n){var r=t[n].split("=",2);1==r.length?e[r[0]]="":e[r[0]]=decodeURIComponent(r[1].replace(/\+/g," "))}return e}()),this.query_string}},{key:"getURLVariable",value:function(t){return this.urlVariables()[t]}},{key:"createInteractionListeners",value:function(){var t=this;window.addEventListener("blur",(function(){var e={event:"blur",trial:t.jsPsych.getProgress().current_trial_global,time:t.jsPsych.getTotalTime()};t.interactionData.push(e),t.jsPsych.getInitSettings().on_interaction_data_update(e)})),window.addEventListener("focus",(function(){var e={event:"focus",trial:t.jsPsych.getProgress().current_trial_global,time:t.jsPsych.getTotalTime()};t.interactionData.push(e),t.jsPsych.getInitSettings().on_interaction_data_update(e)}));var e=function(){var e={event:document.isFullScreen||document.webkitIsFullScreen||document.mozIsFullScreen||document.fullscreenElement?"fullscreenenter":"fullscreenexit",trial:t.jsPsych.getProgress().current_trial_global,time:t.jsPsych.getTotalTime()};t.interactionData.push(e),t.jsPsych.getInitSettings().on_interaction_data_update(e)};document.addEventListener("fullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("webkitfullscreenchange",e)}},{key:"_customInsert",value:function(t){this.allData=new E(t)}},{key:"_fullreset",value:function(){this.reset(),this.dataProperties={}}}]),t}(),k=function(){function t(){var e=this;a(this,t),this.hardwareConnected=!1,document.addEventListener("jspsych-activate",(function(t){e.hardwareConnected=!0}))}return s(t,[{key:"hardware",value:function(t){var e=new CustomEvent("jspsych",{detail:t});document.dispatchEvent(e)}}]),t}(),S=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;a(this,t),this.getRootElement=e,this.areResponsesCaseSensitive=n,this.minimumValidRt=r,this.listeners=new Set,this.heldKeys=new Set,this.areRootListenersRegistered=!1,y(this),this.registerRootListeners()}return s(t,[{key:"registerRootListeners",value:function(){if(!this.areRootListenersRegistered){var t=this.getRootElement();t&&(t.addEventListener("keydown",this.rootKeydownListener),t.addEventListener("keyup",this.rootKeyupListener),this.areRootListenersRegistered=!0)}}},{key:"rootKeydownListener",value:function(t){for(var e=0,n=Array.from(this.listeners);e<n.length;e++)(0,n[e])(t);this.heldKeys.add(this.toLowerCaseIfInsensitive(t.key))}},{key:"toLowerCaseIfInsensitive",value:function(t){return this.areResponsesCaseSensitive?t:t.toLowerCase()}},{key:"rootKeyupListener",value:function(t){this.heldKeys.delete(this.toLowerCaseIfInsensitive(t.key))}},{key:"isResponseValid",value:function(t,e,n){return!(!e&&this.heldKeys.has(n))&&("ALL_KEYS"===t||"NO_KEYS"!==t&&t.includes(n))}},{key:"getKeyboardResponse",value:function(t){var e=this,n=t.callback_function,r=t.valid_responses,i=void 0===r?"ALL_KEYS":r,s=t.rt_method,o=void 0===s?"performance":s,a=t.persist,u=t.audio_context,l=t.audio_context_start_time,c=t.allow_held_key,h=void 0!==c&&c,d=t.minimum_valid_rt,f=void 0===d?this.minimumValidRt:d;"performance"!==o&&"audio"!==o&&(console.log('Invalid RT method specified in getKeyboardResponse. Defaulting to "performance" method.'),o="performance");var p="performance"===o?performance.now():1e3*l;this.registerRootListeners(),this.areResponsesCaseSensitive||"string"==typeof i||(i=i.map((function(t){return t.toLowerCase()})));var m=function t(r){var s=Math.round(("performance"==o?performance.now():1e3*u.currentTime)-p);if(!(s<f)){var l=e.toLowerCaseIfInsensitive(r.key);e.isResponseValid(i,h,l)&&(r.preventDefault(),a||e.cancelKeyboardResponse(t),n({key:l,rt:s}))}};return this.listeners.add(m),m}},{key:"cancelKeyboardResponse",value:function(t){this.listeners.delete(t)}},{key:"cancelAllKeyboardResponses",value:function(){this.listeners.clear()}},{key:"compareKeys",value:function(t,e){if(!("string"!=typeof t&&null!==t||"string"!=typeof e&&null!==e))return"string"==typeof t&&"string"==typeof e?this.areResponsesCaseSensitive?t===e:t.toLowerCase()===e.toLowerCase():null===t&&null===e;console.error("Error in jsPsych.pluginAPI.compareKeys: arguments must be key strings or null.")}}]),t}();!function(t){t[t.BOOL=0]="BOOL",t[t.STRING=1]="STRING",t[t.INT=2]="INT",t[t.FLOAT=3]="FLOAT",t[t.FUNCTION=4]="FUNCTION",t[t.KEY=5]="KEY",t[t.KEYS=6]="KEYS",t[t.SELECT=7]="SELECT",t[t.HTML_STRING=8]="HTML_STRING",t[t.IMAGE=9]="IMAGE",t[t.AUDIO=10]="AUDIO",t[t.VIDEO=11]="VIDEO",t[t.OBJECT=12]="OBJECT",t[t.COMPLEX=13]="COMPLEX",t[t.TIMELINE=14]="TIMELINE"}(I||(I={}));var x={data:{type:I.OBJECT,pretty_name:"Data",default:{}},on_start:{type:I.FUNCTION,pretty_name:"On start",default:function(){}},on_finish:{type:I.FUNCTION,pretty_name:"On finish",default:function(){}},on_load:{type:I.FUNCTION,pretty_name:"On load",default:function(){}},post_trial_gap:{type:I.INT,pretty_name:"Post trial gap",default:null},css_classes:{type:I.STRING,pretty_name:"Custom CSS classes",default:null},simulation_options:{type:I.COMPLEX,default:null}},C=[I.AUDIO,I.IMAGE,I.VIDEO],R=function(){function t(e,n){a(this,t),this.useWebaudio=e,this.webaudioContext=n,this.video_buffers={},this.context=null,this.audio_buffers=[],this.preload_requests=[],this.img_cache={},this.preloadMap=new Map,this.microphone_recorder=null,this.camera_stream=null,this.camera_recorder=null}return s(t,[{key:"getVideoBuffer",value:function(t){return t.startsWith("blob:")&&(this.video_buffers[t]=t),this.video_buffers[t]}},{key:"initAudio",value:function(){this.context=this.useWebaudio?this.webaudioContext:null}},{key:"audioContext",value:function(){return null!==this.context&&"running"!==this.context.state&&this.context.resume(),this.context}},{key:"getAudioBuffer",value:function(t){var e=this;return new Promise((function(n,r){void 0===e.audio_buffers[t]||"tmp"==e.audio_buffers[t]?e.preloadAudio([t],(function(){n(e.audio_buffers[t])}),(function(){}),(function(t){r(t.error)})):n(e.audio_buffers[t])}))}},{key:"preloadAudio",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(t){};t=b(t.flat());var s=0;if(0!=t.length){var o,a=function(o){var a=new XMLHttpRequest;a.open("GET",o,!0),a.responseType="arraybuffer",a.onload=function(){e.context.decodeAudioData(a.response,(function(i){e.audio_buffers[o]=i,s++,r(o),s==t.length&&n()}),(function(t){i({source:o,error:t})}))},a.onerror=function(t){var e=t;404==a.status&&(e="404"),i({source:o,error:e})},a.onloadend=function(t){404==a.status&&i({source:o,error:"404"})},a.send(),e.preload_requests.push(a)},u=function(o){var a=new Audio;a.addEventListener("canplaythrough",(function i(){e.audio_buffers[o]=a,s++,r(o),s==t.length&&n(),a.removeEventListener("canplaythrough",i)})),a.addEventListener("error",(function t(e){i({source:a.src,error:e}),a.removeEventListener("error",t)})),a.addEventListener("abort",(function t(e){i({source:a.src,error:e}),a.removeEventListener("abort",t)})),a.src=o,e.preload_requests.push(a)},l=p(t);try{for(l.s();!(o=l.n()).done;){var c=o.value;void 0!==this.audio_buffers[c]?(s++,r(c),s==t.length&&n()):(this.audio_buffers[c]="tmp",null!==this.audioContext()?a(c):u(c))}}catch(t){l.e(t)}finally{l.f()}}else n()}},{key:"preloadImages",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(t){};t=b(t.flat());var s=0;if(0!==t.length)for(var o=function(o){var a=new Image,u=t[o];a.onload=function(){s++,r(u),s===t.length&&n()},a.onerror=function(t){i({source:u,error:t})},a.src=u,e.img_cache[u]=a,e.preload_requests.push(a)},a=0;a<t.length;a++)o(a);else n()}},{key:"preloadVideo",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(t){};t=b(t.flat());var s=0;if(0!==t.length){var o,a=p(t);try{var u=function(){var a=o.value,u=e.video_buffers,l=new XMLHttpRequest;l.open("GET",a,!0),l.responseType="blob",l.onload=function(){if(200===l.status||0===l.status){var e=l.response;u[a]=URL.createObjectURL(e),s++,r(a),s===t.length&&n()}},l.onerror=function(t){var e=t;404==l.status&&(e="404"),i({source:a,error:e})},l.onloadend=function(t){404==l.status&&i({source:a,error:"404"})},l.send(),e.preload_requests.push(l)};for(a.s();!(o=a.n()).done;)u()}catch(t){a.e(t)}finally{a.f()}}else n()}},{key:"getAutoPreloadList",value:function(t){var e=this,n=Object.fromEntries(C.map((function(t){return[t,new Set]})));return function t(r,i){var s,o,a,u;if(void 0!==r.timeline){var l,c=p(r.timeline);try{for(c.s();!(l=c.n()).done;)t(l.value,null!==(s=r.type)&&void 0!==s?s:i)}catch(t){c.e(t)}finally{c.f()}}else if(null===(a=null!==(o=r.type)&&void 0!==o?o:i)||void 0===a?void 0:a.info){var h=(null!==(u=r.type)&&void 0!==u?u:i).info,d=h.name,m=h.parameters;e.preloadMap.has(d)||e.preloadMap.set(d,Object.fromEntries(Object.entries(m).filter((function(t){var e=f(t,2),n=(e[0],e[1]),r=n.type,i=n.preload;return C.includes(r)&&(null==i||i)})).map((function(t){var e=f(t,2);return[e[0],e[1].type]}))));for(var g=0,v=Object.entries(e.preloadMap.get(d));g<v.length;g++){var y=f(v[g],2),_=y[0],b=y[1],w=r[_],I=n[b];if("string"==typeof w)I.add(w);else if(Array.isArray(w)){var P,T=p(w.flat());try{for(T.s();!(P=T.n()).done;){var E=P.value;"string"==typeof E&&I.add(E)}}catch(t){T.e(t)}finally{T.f()}}}}}({timeline:t}),{images:r(n[I.IMAGE]),audio:r(n[I.AUDIO]),video:r(n[I.VIDEO])}}},{key:"cancelPreloads",value:function(){var t,e=p(this.preload_requests);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.onload=function(){},n.onerror=function(){},n.oncanplaythrough=function(){},n.onabort=function(){}}}catch(t){e.e(t)}finally{e.f()}this.preload_requests=[]}},{key:"initializeMicrophoneRecorder",value:function(t){var e=new MediaRecorder(t);this.microphone_recorder=e}},{key:"getMicrophoneRecorder",value:function(){return this.microphone_recorder}},{key:"initializeCameraRecorder",value:function(t,e){this.camera_stream=t;var n=new MediaRecorder(t,e);this.camera_recorder=n}},{key:"getCameraStream",value:function(){return this.camera_stream}},{key:"getCameraRecorder",value:function(){return this.camera_recorder}}]),t}(),O=function(){function t(){a(this,t)}return s(t,[{key:"dispatchEvent",value:function(t){document.body.dispatchEvent(t)}},{key:"keyDown",value:function(t){this.dispatchEvent(new KeyboardEvent("keydown",{key:t}))}},{key:"keyUp",value:function(t){this.dispatchEvent(new KeyboardEvent("keyup",{key:t}))}},{key:"pressKey",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n>0?setTimeout((function(){e.keyDown(t),e.keyUp(t)}),n):(this.keyDown(t),this.keyUp(t))}},{key:"clickTarget",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e>0?setTimeout((function(){t.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),t.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0})),t.dispatchEvent(new MouseEvent("click",{bubbles:!0}))}),e):(t.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),t.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0})),t.dispatchEvent(new MouseEvent("click",{bubbles:!0})))}},{key:"fillTextInput",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n>0?setTimeout((function(){t.value=e}),n):t.value=e}},{key:"getValidKey",value:function(t){var e,n=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"," "];if("NO_KEYS"==t)e=null;else if("ALL_KEYS"==t)e=n[Math.floor(Math.random()*n.length)];else{var r=t.flat();e=r[Math.floor(Math.random()*r.length)]}return e}},{key:"mergeSimulationData",value:function(t,e){return Object.assign(Object.assign({},t),null==e?void 0:e.data)}},{key:"ensureSimulationDataConsistency",value:function(t,e){if(e.rt&&(e.rt=Math.round(e.rt)),t.trial_duration&&e.rt&&e.rt>t.trial_duration&&(e.rt=null,e.response&&(e.response=null),e.correct&&(e.correct=!1)),t.choices&&"NO_KEYS"==t.choices&&(e.rt&&(e.rt=null),e.response&&(e.response=null)),t.allow_response_before_complete&&t.sequence_reps&&t.frame_time){var n=t.sequence_reps*t.frame_time*t.stimuli.length;e.rt<n&&(e.rt=null,e.response=null)}}}]),t}(),A=function(){function t(){a(this,t),this.timeout_handlers=[]}return s(t,[{key:"setTimeout",value:function(t,e){var n=window.setTimeout(t,e);return this.timeout_handlers.push(n),n}},{key:"clearAllTimeouts",value:function(){var t,e=p(this.timeout_handlers);try{for(e.s();!(t=e.n()).done;){var n=t.value;clearTimeout(n)}}catch(t){e.e(t)}finally{e.f()}this.timeout_handlers=[]}}]),t}(),N=["ability","able","aboard","about","above","accept","accident","according","account","accurate","acres","across","act","action","active","activity","actual","actually","add","addition","additional","adjective","adult","adventure","advice","affect","afraid","after","afternoon","again","against","age","ago","agree","ahead","aid","air","airplane","alike","alive","all","allow","almost","alone","along","aloud","alphabet","already","also","although","am","among","amount","ancient","angle","angry","animal","announced","another","answer","ants","any","anybody","anyone","anything","anyway","anywhere","apart","apartment","appearance","apple","applied","appropriate","are","area","arm","army","around","arrange","arrangement","arrive","arrow","art","article","as","aside","ask","asleep","at","ate","atmosphere","atom","atomic","attached","attack","attempt","attention","audience","author","automobile","available","average","avoid","aware","away","baby","back","bad","badly","bag","balance","ball","balloon","band","bank","bar","bare","bark","barn","base","baseball","basic","basis","basket","bat","battle","be","bean","bear","beat","beautiful","beauty","became","because","become","becoming","bee","been","before","began","beginning","begun","behavior","behind","being","believed","bell","belong","below","belt","bend","beneath","bent","beside","best","bet","better","between","beyond","bicycle","bigger","biggest","bill","birds","birth","birthday","bit","bite","black","blank","blanket","blew","blind","block","blood","blow","blue","board","boat","body","bone","book","border","born","both","bottle","bottom","bound","bow","bowl","box","boy","brain","branch","brass","brave","bread","break","breakfast","breath","breathe","breathing","breeze","brick","bridge","brief","bright","bring","broad","broke","broken","brother","brought","brown","brush","buffalo","build","building","built","buried","burn","burst","bus","bush","business","busy","but","butter","buy","by","cabin","cage","cake","call","calm","came","camera","camp","can","canal","cannot","cap","capital","captain","captured","car","carbon","card","care","careful","carefully","carried","carry","case","cast","castle","cat","catch","cattle","caught","cause","cave","cell","cent","center","central","century","certain","certainly","chain","chair","chamber","chance","change","changing","chapter","character","characteristic","charge","chart","check","cheese","chemical","chest","chicken","chief","child","children","choice","choose","chose","chosen","church","circle","circus","citizen","city","class","classroom","claws","clay","clean","clear","clearly","climate","climb","clock","close","closely","closer","cloth","clothes","clothing","cloud","club","coach","coal","coast","coat","coffee","cold","collect","college","colony","color","column","combination","combine","come","comfortable","coming","command","common","community","company","compare","compass","complete","completely","complex","composed","composition","compound","concerned","condition","congress","connected","consider","consist","consonant","constantly","construction","contain","continent","continued","contrast","control","conversation","cook","cookies","cool","copper","copy","corn","corner","correct","correctly","cost","cotton","could","count","country","couple","courage","course","court","cover","cow","cowboy","crack","cream","create","creature","crew","crop","cross","crowd","cry","cup","curious","current","curve","customs","cut","cutting","daily","damage","dance","danger","dangerous","dark","darkness","date","daughter","dawn","day","dead","deal","dear","death","decide","declared","deep","deeply","deer","definition","degree","depend","depth","describe","desert","design","desk","detail","determine","develop","development","diagram","diameter","did","die","differ","difference","different","difficult","difficulty","dig","dinner","direct","direction","directly","dirt","dirty","disappear","discover","discovery","discuss","discussion","disease","dish","distance","distant","divide","division","do","doctor","does","dog","doing","doll","dollar","done","donkey","door","dot","double","doubt","down","dozen","draw","drawn","dream","dress","drew","dried","drink","drive","driven","driver","driving","drop","dropped","drove","dry","duck","due","dug","dull","during","dust","duty","each","eager","ear","earlier","early","earn","earth","easier","easily","east","easy","eat","eaten","edge","education","effect","effort","egg","eight","either","electric","electricity","element","elephant","eleven","else","empty","end","enemy","energy","engine","engineer","enjoy","enough","enter","entire","entirely","environment","equal","equally","equator","equipment","escape","especially","essential","establish","even","evening","event","eventually","ever","every","everybody","everyone","everything","everywhere","evidence","exact","exactly","examine","example","excellent","except","exchange","excited","excitement","exciting","exclaimed","exercise","exist","expect","experience","experiment","explain","explanation","explore","express","expression","extra","eye","face","facing","fact","factor","factory","failed","fair","fairly","fall","fallen","familiar","family","famous","far","farm","farmer","farther","fast","fastened","faster","fat","father","favorite","fear","feathers","feature","fed","feed","feel","feet","fell","fellow","felt","fence","few","fewer","field","fierce","fifteen","fifth","fifty","fight","fighting","figure","fill","film","final","finally","find","fine","finest","finger","finish","fire","fireplace","firm","first","fish","five","fix","flag","flame","flat","flew","flies","flight","floating","floor","flow","flower","fly","fog","folks","follow","food","foot","football","for","force","foreign","forest","forget","forgot","forgotten","form","former","fort","forth","forty","forward","fought","found","four","fourth","fox","frame","free","freedom","frequently","fresh","friend","friendly","frighten","frog","from","front","frozen","fruit","fuel","full","fully","fun","function","funny","fur","furniture","further","future","gain","game","garage","garden","gas","gasoline","gate","gather","gave","general","generally","gentle","gently","get","getting","giant","gift","girl","give","given","giving","glad","glass","globe","go","goes","gold","golden","gone","good","goose","got","government","grabbed","grade","gradually","grain","grandfather","grandmother","graph","grass","gravity","gray","great","greater","greatest","greatly","green","grew","ground","group","grow","grown","growth","guard","guess","guide","gulf","gun","habit","had","hair","half","halfway","hall","hand","handle","handsome","hang","happen","happened","happily","happy","harbor","hard","harder","hardly","has","hat","have","having","hay","he","headed","heading","health","heard","hearing","heart","heat","heavy","height","held","hello","help","helpful","her","herd","here","herself","hidden","hide","high","higher","highest","highway","hill","him","himself","his","history","hit","hold","hole","hollow","home","honor","hope","horn","horse","hospital","hot","hour","house","how","however","huge","human","hundred","hung","hungry","hunt","hunter","hurried","hurry","hurt","husband","ice","idea","identity","if","ill","image","imagine","immediately","importance","important","impossible","improve","in","inch","include","including","income","increase","indeed","independent","indicate","individual","industrial","industry","influence","information","inside","instance","instant","instead","instrument","interest","interior","into","introduced","invented","involved","iron","is","island","it","its","itself","jack","jar","jet","job","join","joined","journey","joy","judge","jump","jungle","just","keep","kept","key","kids","kill","kind","kitchen","knew","knife","know","knowledge","known","label","labor","lack","lady","laid","lake","lamp","land","language","large","larger","largest","last","late","later","laugh","law","lay","layers","lead","leader","leaf","learn","least","leather","leave","leaving","led","left","leg","length","lesson","let","letter","level","library","lie","life","lift","light","like","likely","limited","line","lion","lips","liquid","list","listen","little","live","living","load","local","locate","location","log","lonely","long","longer","look","loose","lose","loss","lost","lot","loud","love","lovely","low","lower","luck","lucky","lunch","lungs","lying","machine","machinery","mad","made","magic","magnet","mail","main","mainly","major","make","making","man","managed","manner","manufacturing","many","map","mark","market","married","mass","massage","master","material","mathematics","matter","may","maybe","me","meal","mean","means","meant","measure","meat","medicine","meet","melted","member","memory","men","mental","merely","met","metal","method","mice","middle","might","mighty","mile","military","milk","mill","mind","mine","minerals","minute","mirror","missing","mission","mistake","mix","mixture","model","modern","molecular","moment","money","monkey","month","mood","moon","more","morning","most","mostly","mother","motion","motor","mountain","mouse","mouth","move","movement","movie","moving","mud","muscle","music","musical","must","my","myself","mysterious","nails","name","nation","national","native","natural","naturally","nature","near","nearby","nearer","nearest","nearly","necessary","neck","needed","needle","needs","negative","neighbor","neighborhood","nervous","nest","never","new","news","newspaper","next","nice","night","nine","no","nobody","nodded","noise","none","noon","nor","north","nose","not","note","noted","nothing","notice","noun","now","number","numeral","nuts","object","observe","obtain","occasionally","occur","ocean","of","off","offer","office","officer","official","oil","old","older","oldest","on","once","one","only","onto","open","operation","opinion","opportunity","opposite","or","orange","orbit","order","ordinary","organization","organized","origin","original","other","ought","our","ourselves","out","outer","outline","outside","over","own","owner","oxygen","pack","package","page","paid","pain","paint","pair","palace","pale","pan","paper","paragraph","parallel","parent","park","part","particles","particular","particularly","partly","parts","party","pass","passage","past","path","pattern","pay","peace","pen","pencil","people","per","percent","perfect","perfectly","perhaps","period","person","personal","pet","phrase","physical","piano","pick","picture","pictured","pie","piece","pig","pile","pilot","pine","pink","pipe","pitch","place","plain","plan","plane","planet","planned","planning","plant","plastic","plate","plates","play","pleasant","please","pleasure","plenty","plural","plus","pocket","poem","poet","poetry","point","pole","police","policeman","political","pond","pony","pool","poor","popular","population","porch","port","position","positive","possible","possibly","post","pot","potatoes","pound","pour","powder","power","powerful","practical","practice","prepare","present","president","press","pressure","pretty","prevent","previous","price","pride","primitive","principal","principle","printed","private","prize","probably","problem","process","produce","product","production","program","progress","promised","proper","properly","property","protection","proud","prove","provide","public","pull","pupil","pure","purple","purpose","push","put","putting","quarter","queen","question","quick","quickly","quiet","quietly","quite","rabbit","race","radio","railroad","rain","raise","ran","ranch","range","rapidly","rate","rather","raw","rays","reach","read","reader","ready","real","realize","rear","reason","recall","receive","recent","recently","recognize","record","red","refer","refused","region","regular","related","relationship","religious","remain","remarkable","remember","remove","repeat","replace","replied","report","represent","require","research","respect","rest","result","return","review","rhyme","rhythm","rice","rich","ride","riding","right","ring","rise","rising","river","road","roar","rock","rocket","rocky","rod","roll","roof","room","root","rope","rose","rough","round","route","row","rubbed","rubber","rule","ruler","run","running","rush","sad","saddle","safe","safety","said","sail","sale","salmon","salt","same","sand","sang","sat","satellites","satisfied","save","saved","saw","say","scale","scared","scene","school","science","scientific","scientist","score","screen","sea","search","season","seat","second","secret","section","see","seed","seeing","seems","seen","seldom","select","selection","sell","send","sense","sent","sentence","separate","series","serious","serve","service","sets","setting","settle","settlers","seven","several","shade","shadow","shake","shaking","shall","shallow","shape","share","sharp","she","sheep","sheet","shelf","shells","shelter","shine","shinning","ship","shirt","shoe","shoot","shop","shore","short","shorter","shot","should","shoulder","shout","show","shown","shut","sick","sides","sight","sign","signal","silence","silent","silk","silly","silver","similar","simple","simplest","simply","since","sing","single","sink","sister","sit","sitting","situation","six","size","skill","skin","sky","slabs","slave","sleep","slept","slide","slight","slightly","slip","slipped","slope","slow","slowly","small","smaller","smallest","smell","smile","smoke","smooth","snake","snow","so","soap","social","society","soft","softly","soil","solar","sold","soldier","solid","solution","solve","some","somebody","somehow","someone","something","sometime","somewhere","son","song","soon","sort","sound","source","south","southern","space","speak","special","species","specific","speech","speed","spell","spend","spent","spider","spin","spirit","spite","split","spoken","sport","spread","spring","square","stage","stairs","stand","standard","star","stared","start","state","statement","station","stay","steady","steam","steel","steep","stems","step","stepped","stick","stiff","still","stock","stomach","stone","stood","stop","stopped","store","storm","story","stove","straight","strange","stranger","straw","stream","street","strength","stretch","strike","string","strip","strong","stronger","struck","structure","struggle","stuck","student","studied","studying","subject","substance","success","successful","such","sudden","suddenly","sugar","suggest","suit","sum","summer","sun","sunlight","supper","supply","support","suppose","sure","surface","surprise","surrounded","swam","sweet","swept","swim","swimming","swing","swung","syllable","symbol","system","table","tail","take","taken","tales","talk","tall","tank","tape","task","taste","taught","tax","tea","teach","teacher","team","tears","teeth","telephone","television","tell","temperature","ten","tent","term","terrible","test","than","thank","that","thee","them","themselves","then","theory","there","therefore","these","they","thick","thin","thing","think","third","thirty","this","those","thou","though","thought","thousand","thread","three","threw","throat","through","throughout","throw","thrown","thumb","thus","thy","tide","tie","tight","tightly","till","time","tin","tiny","tip","tired","title","to","tobacco","today","together","told","tomorrow","tone","tongue","tonight","too","took","tool","top","topic","torn","total","touch","toward","tower","town","toy","trace","track","trade","traffic","trail","train","transportation","trap","travel","treated","tree","triangle","tribe","trick","tried","trip","troops","tropical","trouble","truck","trunk","truth","try","tube","tune","turn","twelve","twenty","twice","two","type","typical","uncle","under","underline","understanding","unhappy","union","unit","universe","unknown","unless","until","unusual","up","upon","upper","upward","us","use","useful","using","usual","usually","valley","valuable","value","vapor","variety","various","vast","vegetable","verb","vertical","very","vessels","victory","view","village","visit","visitor","voice","volume","vote","vowel","voyage","wagon","wait","walk","wall","want","war","warm","warn","was","wash","waste","watch","water","wave","way","we","weak","wealth","wear","weather","week","weigh","weight","welcome","well","went","were","west","western","wet","whale","what","whatever","wheat","wheel","when","whenever","where","wherever","whether","which","while","whispered","whistle","white","who","whole","whom","whose","why","wide","widely","wife","wild","will","willing","win","wind","window","wing","winter","wire","wise","wish","with","within","without","wolf","women","won","wonder","wonderful","wood","wooden","wool","word","wore","work","worker","world","worried","worry","worse","worth","would","wrapped","write","writer","writing","written","wrong","wrote","yard","year","yellow","yes","yesterday","yet","you","young","younger","your","yourself","youth","zero","zebra","zipper","zoo","zulu"];function L(t){function e(){return t&&t.maxLength>1?function(){for(var e,r=!1;!r;)(e=n()).length<=t.maxLength&&(r=!0);return e}():n()}function n(){return N[r(N.length)]}function r(t){return Math.floor(Math.random()*t)}if(void 0===t)return e();"number"==typeof t&&(t={exactly:t}),t.exactly&&(t.min=t.exactly,t.max=t.exactly),"number"!=typeof t.wordsPerString&&(t.wordsPerString=1),"function"!=typeof t.formatter&&(t.formatter=function(t){return t}),"string"!=typeof t.separator&&(t.separator=" ");for(var i=t.min+r(t.max+1-t.min),s=[],o="",a=0,u=0;u<i*t.wordsPerString;u++)a===t.wordsPerString-1?o+=t.formatter(e(),a):o+=t.formatter(e(),a)+t.separator,a++,(u+1)%t.wordsPerString==0&&(s.push(o),o="",a=0);return"string"==typeof t.join&&(s=s.join(t.join)),s}var M=L;L.wordList=N;var D={exports:{}};!function(t,n,r){function i(t){var e,n=this,r=(e=4022871197,function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)});n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(t),n.s0<0&&(n.s0+=1),n.s1-=r(t),n.s1<0&&(n.s1+=1),n.s2-=r(t),n.s2<0&&(n.s2+=1),r=null}function s(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function o(t,n){var r=new i(t),o=n&&n.state,a=r.next;return a.int32=function(){return 4294967296*r.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,o&&("object"==e(o)&&s(o,r),a.state=function(){return s(r,{})}),a}n&&n.exports?n.exports=o:this.alea=o}(0,D);var F=D.exports;function G(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Array.isArray(t),s=Array.isArray(n);if(i)if(s){if(t.length!=n.length)if(console.warn("Unclear parameters given to randomization.repeat. Items and repetitions are unequal lengths. Behavior may not be as expected."),n.length<t.length){for(var o=[],a=0;a<t.length;a++)o.push(n);n=o}else n=n.slice(0,t.length)}else{for(var u=[],l=0;l<t.length;l++)u.push(n);n=u}else s?(n=[n[0]],console.log("Unclear parameters given to randomization.repeat. Multiple set sizes specified, but only one item exists to sample. Proceeding using the first set size.")):(t=[t],n=[n]);for(var c=[],h=0;h<t.length;h++)for(var d=0;d<n[h];d++)null==t[h]||"object"!=e(t[h])?c.push(t[h]):c.push(Object.assign({},t[h]));var f=U(c);return r&&(f=function(t){var e,n={},r=p(t);try{for(r.s();!(e=r.n()).done;)for(var i=e.value,s=0,o=Object.keys(i);s<o.length;s++){var a=o[s];void 0===n[a]&&(n[a]=[]),n[a].push(i[a])}}catch(t){r.e(t)}finally{r.f()}return n}(f)),f}function U(t){Array.isArray(t)||console.error("Argument to shuffle() must be an array.");for(var e,n,r=t.slice(0),i=r.length;i;)n=Math.floor(Math.random()*i--),e=r[i],r[i]=r[n],r[n]=e;return r}function q(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.length;if(1==n)return console.warn("shuffleAlternateGroups() was called with only one group. Defaulting to simple shuffle."),U(t[0]);for(var r=[],i=0;i<n;i++)r.push(i);e&&(r=U(r));for(var s=[],o=null,a=0;a<n;a++)o=null===o?t[a].length:Math.min(o,t[a].length),s.push(U(t[a]));for(var u=[],l=0;l<o;l++)for(var c=0;c<r.length;c++)u.push(s[r[c]][l]);return u}function B(t,e){return Array.isArray(t)||console.error("First argument to sampleWithoutReplacement() must be an array"),e>t.length&&console.error("Cannot take a sample larger than the size of the set of items to sample."),U(t).slice(0,e)}function z(t,e,n){Array.isArray(t)||console.error("First argument to sampleWithReplacement() must be an array");var r=[];if(void 0!==n){n.length!==t.length&&console.error("The length of the weights array must equal the length of the array to be sampled from.");var i,s=0,o=p(n);try{for(o.s();!(i=o.n()).done;)s+=i.value}catch(t){o.e(t)}finally{o.f()}var a,u=p(n);try{for(u.s();!(a=u.n()).done;){var l=a.value;r.push(l/s)}}catch(t){u.e(t)}finally{u.f()}}else for(var c=0;c<t.length;c++)r.push(1/t.length);for(var h=[r[0]],d=1;d<r.length;d++)h.push(r[d]+h[d-1]);for(var f=[],m=0;m<e;m++){for(var g=Math.random(),v=0;g>h[v];)v++;f.push(t[v])}return f}function H(t,e){return function(){for(var t=0,e=0;0===t;)t=Math.random();for(;0===e;)e=Math.random();return Math.sqrt(-2*Math.log(t))*Math.cos(2*Math.PI*e)}()*e+t}function W(t){return-Math.log(Math.random())/t}var V=Object.freeze({__proto__:null,setSeed:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.random().toString();return Math.random=F(t),t},repeat:G,shuffle:U,shuffleNoRepeats:function(t,e){Array.isArray(t)||console.error("First argument to shuffleNoRepeats() must be an array."),void 0!==e&&"function"!=typeof e&&console.error("Second argument to shuffleNoRepeats() must be a function."),void 0===e&&(e=function(t,e){return t===e});for(var n=U(t),r=0;r<n.length-1;r++)if(e(n[r],n[r+1])){for(var i=Math.floor(Math.random()*(n.length-2))+1;e(n[r+1],n[i])||e(n[r+1],n[i+1])||e(n[r+1],n[i-1])||e(n[r],n[i]);)i=Math.floor(Math.random()*(n.length-2))+1;var s=n[i];n[i]=n[r+1],n[r+1]=s}return n},shuffleAlternateGroups:q,sampleWithoutReplacement:B,sampleWithReplacement:z,factorial:function(t){for(var e,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=[{}],u=0,l=Object.entries(t);u<l.length;u++){var c,h=f(l[u],2),d=h[0],m=[],g=p(h[1]);try{for(g.s();!(c=g.n()).done;){var v,y=c.value,_=p(a);try{for(_.s();!(v=_.n()).done;){var b=v.value;m.push(Object.assign(Object.assign({},b),(e={},r=y,(n=o(n=d))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e)))}}catch(t){_.e(t)}finally{_.f()}}}catch(t){g.e(t)}finally{g.f()}a=m}return G(a,i,s)},randomID:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,e="",n=0;n<t;n++)e+="0123456789abcdefghjklmnopqrstuvwxyz"[Math.floor(35*Math.random())];return e},randomInt:function(t,e){if(e<t)throw new Error("Upper boundary must be less than or equal to lower boundary");return t+Math.floor(Math.random()*(e-t+1))},sampleBernoulli:function(t){return Math.random()<=t?1:0},sampleNormal:H,sampleExponential:W,sampleExGaussian:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=H(t,e)+W(n);if(r)for(;i<=0;)i=H(t,e)+W(n);return i},randomWords:function(t){return M(t)}});function K(){var t={previewMode:!1,outsideTurk:!1,hitId:"INVALID_URL_PARAMETER",assignmentId:"INVALID_URL_PARAMETER",workerId:"INVALID_URL_PARAMETER",turkSubmitTo:"INVALID_URL_PARAMETER"},e=function(t,e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null==n?"":n[1]},n=e(window.location.href,"assignmentId")?window.location.href:document.referrer;return["assignmentId","hitId","workerId","turkSubmitTo"].map((function(r){t[r]=unescape(e(n,r))})),t.previewMode="ASSIGNMENT_ID_NOT_AVAILABLE"==t.assignmentId,t.outsideTurk=!t.previewMode&&""===t.hitId&&""==t.assignmentId&&""==t.workerId,t}var $=Object.freeze({__proto__:null,turkInfo:K,submitToTurk:function(t){var e=K(),n=e.assignmentId,r=e.turkSubmitTo;if(n&&r){var i=document.createElement("form");for(var s in i.method="POST",i.action=r+"/mturk/externalSubmit?assignmentId="+n,t)if(t.hasOwnProperty(s)){var o=document.createElement("input");o.type="hidden",o.name=s,o.id=s,o.value=t[s],i.appendChild(o)}document.body.appendChild(i),i.submit()}}}),Y=function(){function t(n,r,i,s){if(a(this,t),this.jsPsych=n,this.progress={current_location:-1,current_variable_set:0,current_repetition:0,current_iteration:0,done:!1},this.parent_node=i,this.relative_id=void 0===i?0:s,void 0!==r.timeline){this.timeline_parameters={timeline:[],loop_function:r.loop_function,conditional_function:r.conditional_function,sample:r.sample,randomize_order:void 0!==r.randomize_order&&r.randomize_order,repetitions:void 0===r.repetitions?1:r.repetitions,timeline_variables:void 0===r.timeline_variables?[{}]:r.timeline_variables,on_timeline_finish:r.on_timeline_finish,on_timeline_start:r.on_timeline_start},this.setTimelineVariablesOrder();var o=Object.assign({},r);delete o.timeline,delete o.conditional_function,delete o.loop_function,delete o.randomize_order,delete o.repetitions,delete o.timeline_variables,delete o.sample,delete o.on_timeline_start,delete o.on_timeline_finish,this.node_trial_data=o;for(var u=0;u<r.timeline.length;u++){var l=Object.assign({},o,r.timeline[u]);if("object"==e(o.data)&&"object"==e(r.timeline[u].data)){var c=Object.assign({},o.data,r.timeline[u].data);l.data=c}this.timeline_parameters.timeline.push(new t(this.jsPsych,l,this,u))}}else void 0===r.type&&console.error('Trial level node is missing the "type" parameter. The parameters for the node are: '+JSON.stringify(r)),this.trial_parameters=Object.assign({},r)}return s(t,[{key:"trial",value:function(){return void 0===this.timeline_parameters?w(this.trial_parameters):this.progress.current_location>=this.timeline_parameters.timeline.length?null:this.timeline_parameters.timeline[this.progress.current_location].trial()}},{key:"markCurrentTrialComplete",value:function(){void 0===this.timeline_parameters?this.progress.done=!0:this.timeline_parameters.timeline[this.progress.current_location].markCurrentTrialComplete()}},{key:"nextRepetiton",value:function(){this.setTimelineVariablesOrder(),this.progress.current_location=-1,this.progress.current_variable_set=0,this.progress.current_repetition++;for(var t=0;t<this.timeline_parameters.timeline.length;t++)this.timeline_parameters.timeline[t].reset()}},{key:"setTimelineVariablesOrder",value:function(){var t=this.timeline_parameters;if(void 0!==t&&void 0!==t.timeline_variables){for(var e=[],n=0;n<t.timeline_variables.length;n++)e.push(n);void 0!==t.sample&&("custom"==t.sample.type?e=t.sample.fn(e):"with-replacement"==t.sample.type?e=z(e,t.sample.size,t.sample.weights):"without-replacement"==t.sample.type?e=B(e,t.sample.size):"fixed-repetitions"==t.sample.type?e=G(e,t.sample.size,!1):"alternate-groups"==t.sample.type?e=q(t.sample.groups,t.sample.randomize_group_order):console.error('Invalid type in timeline sample parameters. Valid options for type are "custom", "with-replacement", "without-replacement", "fixed-repetitions", and "alternate-groups"')),t.randomize_order&&(e=U(e)),this.progress.order=e}}},{key:"nextSet",value:function(){this.progress.current_location=-1,this.progress.current_variable_set++;for(var t=0;t<this.timeline_parameters.timeline.length;t++)this.timeline_parameters.timeline[t].reset()}},{key:"advance",value:function(){var t=this.progress,e=this.timeline_parameters,n=this.jsPsych.internal;if(t.done)return!0;if(-1==t.current_location){if(void 0!==e){if(void 0!==e.conditional_function&&0==t.current_repetition&&0==t.current_variable_set){n.call_immediate=!0;var r=e.conditional_function();if(n.call_immediate=!1,0==r)return t.done=!0,!0}void 0!==e.on_timeline_start&&0==t.current_variable_set&&e.on_timeline_start()}return t.current_location=0,this.advance()}if(void 0!==e){for(var i=!1;t.current_location<e.timeline.length&&0==i;){if(!e.timeline[t.current_location].advance())return i=!0,!1;t.current_location++}return t.current_variable_set<t.order.length-1?(this.nextSet(),this.advance()):t.current_repetition<e.repetitions-1?(this.nextRepetiton(),void 0!==e.on_timeline_finish&&e.on_timeline_finish(),this.advance()):(void 0!==e.on_timeline_finish&&e.on_timeline_finish(),void 0!==e.loop_function?(n.call_immediate=!0,e.loop_function(this.generatedData())?(this.reset(),n.call_immediate=!1,this.parent_node.advance()):(t.done=!0,n.call_immediate=!1,!0)):(t.done=!0,!0))}}},{key:"isComplete",value:function(){return this.progress.done}},{key:"getTimelineVariableValue",value:function(t){if(void 0!==this.timeline_parameters)return this.timeline_parameters.timeline_variables[this.progress.order[this.progress.current_variable_set]][t]}},{key:"findTimelineVariable",value:function(t){var e=this.getTimelineVariableValue(t);return void 0===e?void 0!==this.parent_node?this.parent_node.findTimelineVariable(t):void 0:e}},{key:"timelineVariable",value:function(t){if(void 0===this.timeline_parameters){var e=this.findTimelineVariable(t);return void 0===e&&console.warn("Timeline variable "+t+" not found."),e}var n=Math.max(0,this.progress.current_location);n==this.timeline_parameters.timeline.length&&(n-=1);var r=this.timeline_parameters.timeline[n].timelineVariable(t);return void 0===r&&console.warn("Timeline variable "+t+" not found."),r}},{key:"allTimelineVariables",value:function(){for(var t=this.allTimelineVariablesNames(),e={},n=0;n<t.length;n++)e[t[n]]=this.timelineVariable(t[n]);return e}},{key:"allTimelineVariablesNames",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(void 0!==this.timeline_parameters){t=t.concat(Object.keys(this.timeline_parameters.timeline_variables[this.progress.order[this.progress.current_variable_set]]));var e=Math.max(0,this.progress.current_location);return e==this.timeline_parameters.timeline.length&&(e-=1),this.timeline_parameters.timeline[e].allTimelineVariablesNames(t)}if(void 0===this.timeline_parameters)return t}},{key:"length",value:function(){var t=0;if(void 0===this.timeline_parameters)return 1;for(var e=0;e<this.timeline_parameters.timeline.length;e++)t+=this.timeline_parameters.timeline[e].length();return t}},{key:"percentComplete",value:function(){for(var t=this.length(),e=0,n=0;n<this.timeline_parameters.timeline.length;n++)this.timeline_parameters.timeline[n].isComplete()&&(e+=this.timeline_parameters.timeline[n].length());return e/t*100}},{key:"reset",value:function(){if(this.progress.current_location=-1,this.progress.current_repetition=0,this.progress.current_variable_set=0,this.progress.current_iteration++,this.progress.done=!1,this.setTimelineVariablesOrder(),void 0!==this.timeline_parameters)for(var t=0;t<this.timeline_parameters.timeline.length;t++)this.timeline_parameters.timeline[t].reset()}},{key:"end",value:function(){this.progress.done=!0}},{key:"endActiveNode",value:function(){void 0===this.timeline_parameters?(this.end(),this.parent_node.end()):this.timeline_parameters.timeline[this.progress.current_location].endActiveNode()}},{key:"ID",value:function(){var t="";return void 0===this.parent_node?"0."+this.progress.current_iteration:(t+=this.parent_node.ID()+"-",t+=this.relative_id+"."+this.progress.current_iteration)}},{key:"activeID",value:function(){return void 0===this.timeline_parameters?this.ID():this.timeline_parameters.timeline[this.progress.current_location].activeID()}},{key:"generatedData",value:function(){return this.jsPsych.data.getDataByTimelineNode(this.ID())}},{key:"trialsOfType",value:function(t){if(void 0===this.timeline_parameters)return this.trial_parameters.type==t?this.trial_parameters:[];for(var e=[],n=0;n<this.timeline_parameters.timeline.length;n++){var r=this.timeline_parameters.timeline[n].trialsOfType(t);e=e.concat(r)}return e}},{key:"insert",value:function(e){void 0===this.timeline_parameters?console.error("Cannot add new trials to a trial-level node."):this.timeline_parameters.timeline.push(new t(this.jsPsych,Object.assign(Object.assign({},this.node_trial_data),e),this,this.timeline_parameters.timeline.length))}}]),t}();function J(t){return new Promise((function(e){return setTimeout(e,t)}))}var Q=function(){function n(t){var e,i;a(this,n),this.extensions={},this.turk=$,this.randomization=V,this.utils=P,this.opts={},this.global_trial_index=0,this.current_trial={},this.current_trial_finished=!1,this.paused=!1,this.waiting=!1,this.file_protocol=!1,this.simulation_mode=null,this.webaudio_context=null,this.internal={call_immediate:!1},this.progress_bar_amount=0,t=Object.assign({display_element:void 0,on_finish:function(){},on_trial_start:function(){},on_trial_finish:function(){},on_data_update:function(){},on_interaction_data_update:function(){},on_close:function(){},use_webaudio:!0,exclusions:{},show_progress_bar:!1,message_progress_bar:"Completion Progress",auto_update_progress_bar:!0,default_iti:0,minimum_valid_rt:0,experiment_width:null,override_safe_mode:!1,case_sensitive_responses:!1,extensions:[]},t),this.opts=t,y(this),this.webaudio_context="undefined"!=typeof window&&void 0!==window.AudioContext?new AudioContext:null,"file:"!=window.location.protocol||!1!==t.override_safe_mode&&void 0!==t.override_safe_mode||(t.use_webaudio=!1,this.file_protocol=!0,console.warn("jsPsych detected that it is running via the file:// protocol and not on a web server. To prevent issues with cross-origin requests, Web Audio and video preloading have been disabled. If you would like to override this setting, you can set 'override_safe_mode' to 'true' in initJsPsych. For more information, see: https://www.jspsych.org/overview/running-experiments")),this.data=new j(this),this.pluginAPI=(i=(e=this).getInitSettings(),Object.assign.apply(Object,[{}].concat(r([new S(e.getDisplayContainerElement,i.case_sensitive_responses,i.minimum_valid_rt),new A,new R(i.use_webaudio,e.webaudio_context),new k,new O].map((function(t){return y(t)}))))));var s,o=p(t.extensions);try{for(o.s();!(s=o.n()).done;){var u=s.value;this.extensions[u.type.info.name]=new u.type(this)}}catch(t){o.e(t)}finally{o.f()}this.pluginAPI.initAudio()}return s(n,[{key:"version",value:function(){return"7.3.2"}},{key:"run",value:function(e){return v(this,void 0,void 0,t().mark((function n(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&console.error("No timeline declared in jsPsych.run. Cannot start experiment."),0===e.length&&console.error("No trials have been added to the timeline (the timeline is an empty array). Cannot start experiment."),this.timelineDescription=e,this.timeline=new Y(this,{timeline:e}),t.next=6,this.prepareDom();case 6:return t.next=8,this.checkExclusions(this.opts.exclusions);case 8:return t.next=10,this.loadExtensions(this.opts.extensions);case 10:return document.documentElement.setAttribute("jspsych","present"),this.startExperiment(),t.next=14,this.finished;case 14:case"end":return t.stop()}}),n,this)})))}},{key:"simulate",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data-only",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return v(this,void 0,void 0,t().mark((function i(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.simulation_mode=n,this.simulation_options=r,t.next=4,this.run(e);case 4:case"end":return t.stop()}}),i,this)})))}},{key:"getProgress",value:function(){return{total_trials:void 0===this.timeline?void 0:this.timeline.length(),current_trial_global:this.global_trial_index,percent_complete:void 0===this.timeline?0:this.timeline.percentComplete()}}},{key:"getStartTime",value:function(){return this.exp_start_time}},{key:"getTotalTime",value:function(){return void 0===this.exp_start_time?0:(new Date).getTime()-this.exp_start_time.getTime()}},{key:"getDisplayElement",value:function(){return this.DOM_target}},{key:"getDisplayContainerElement",value:function(){return this.DOM_container}},{key:"finishTrial",value:function(){var t,n=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.current_trial_finished){var s;this.current_trial_finished=!0,void 0!==this.current_trial.css_classes&&Array.isArray(this.current_trial.css_classes)&&(s=this.DOM_target.classList).remove.apply(s,r(this.current_trial.css_classes)),this.data.write(i);var o=this.data.getLastTrialData().values()[0],a=this.current_trial;if("object"===e(a.save_trial_parameters))for(var u=0,l=Object.keys(a.save_trial_parameters);u<l.length;u++){var c=l[u],h=a.save_trial_parameters[c];!0===h&&(void 0===a[c]?console.warn('Invalid parameter specified in save_trial_parameters. Trial has no property called "'.concat(c,'".')):"function"==typeof a[c]?o[c]=a[c].toString():o[c]=a[c]),!1===h&&"internal_node_id"!==c&&"trial_index"!==c&&delete o[c]}var d=(null!==(t=a.extensions)&&void 0!==t?t:[]).map((function(t){return n.extensions[t.type.info.name].on_finish(t.params)})),f=function(){n.internal.call_immediate=!0,"function"==typeof a.on_finish&&a.on_finish(o),n.opts.on_trial_finish(o),n.opts.on_data_update(o),n.internal.call_immediate=!1,"data-only"===n.simulation_mode?n.nextTrial():null===e(a.post_trial_gap)||void 0===a.post_trial_gap?n.opts.default_iti>0?setTimeout(n.nextTrial,n.opts.default_iti):n.nextTrial():a.post_trial_gap>0?setTimeout(n.nextTrial,a.post_trial_gap):n.nextTrial()};if(d.some((function(t){return"function"==typeof t.then})))Promise.all(d.map((function(t){return Promise.resolve(t).then((function(t){Object.assign(o,t)}))}))).then(f);else{var m,g=p(d);try{for(g.s();!(m=g.n()).done;){var v=m.value;Object.assign(o,v)}}catch(t){g.e(t)}finally{g.f()}f()}}}},{key:"endExperiment",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.timeline.end_message=t,this.timeline.end(),this.pluginAPI.cancelAllKeyboardResponses(),this.pluginAPI.clearAllTimeouts(),this.finishTrial(e)}},{key:"endCurrentTimeline",value:function(){this.timeline.endActiveNode()}},{key:"getCurrentTrial",value:function(){return this.current_trial}},{key:"getInitSettings",value:function(){return this.opts}},{key:"getCurrentTimelineNodeID",value:function(){return this.timeline.activeID()}},{key:"timelineVariable",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.internal.call_immediate||!0===n?this.timeline.timelineVariable(t):{timelineVariablePlaceholder:!0,timelineVariableFunction:function(){return e.timeline.timelineVariable(t)}}}},{key:"getAllTimelineVariables",value:function(){return this.timeline.allTimelineVariables()}},{key:"addNodeToEndOfTimeline",value:function(t,e){this.timeline.insert(t)}},{key:"pauseExperiment",value:function(){this.paused=!0}},{key:"resumeExperiment",value:function(){this.paused=!1,this.waiting&&(this.waiting=!1,this.nextTrial())}},{key:"loadFail",value:function(t){t=t||"<p>The experiment failed to load.</p>",this.DOM_target.innerHTML=t}},{key:"getSafeModeStatus",value:function(){return this.file_protocol}},{key:"getTimeline",value:function(){return this.timelineDescription}},{key:"prepareDom",value:function(){return v(this,void 0,void 0,t().mark((function e(){var n,r;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("complete"===document.readyState){t.next=3;break}return t.next=3,new Promise((function(t){window.addEventListener("load",t)}));case 3:void 0===(n=this.opts).display_element?(null===document.querySelector("body")&&document.documentElement.appendChild(document.createElement("body")),document.querySelector("html").style.height="100%",document.querySelector("body").style.margin="0px",document.querySelector("body").style.height="100%",document.querySelector("body").style.width="100%",n.display_element=document.querySelector("body")):null===(r=n.display_element instanceof Element?n.display_element:document.querySelector("#"+n.display_element))?console.error("The display_element specified in initJsPsych() does not exist in the DOM."):n.display_element=r,n.display_element.innerHTML='<div class="jspsych-content-wrapper"><div id="jspsych-content"></div></div>',this.DOM_container=n.display_element,this.DOM_target=document.querySelector("#jspsych-content"),null!==n.experiment_width&&(this.DOM_target.style.width=n.experiment_width+"px"),n.display_element.tabIndex=0,-1===n.display_element.className.indexOf("jspsych-display-element")&&(n.display_element.className+=" jspsych-display-element"),this.DOM_target.className+="jspsych-content",this.data.createInteractionListeners(),window.addEventListener("beforeunload",n.on_close);case 14:case"end":return t.stop()}}),e,this)})))}},{key:"loadExtensions",value:function(e){return v(this,void 0,void 0,t().mark((function n(){var r=this;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all(e.map((function(t){return r.extensions[t.type.info.name].initialize(t.params||{})})));case 3:t.next=9;break;case 5:throw t.prev=5,t.t0=t.catch(0),console.error(t.t0),new Error(t.t0);case 9:case"end":return t.stop()}}),n,null,[[0,5]])})))}},{key:"startExperiment",value:function(){var t=this;this.finished=new Promise((function(e){t.resolveFinishedPromise=e})),!0===this.opts.show_progress_bar&&this.drawProgressBar(this.opts.message_progress_bar),this.exp_start_time=new Date,this.timeline.advance(),this.doTrial(this.timeline.trial())}},{key:"finishExperiment",value:function(){var t=this,e=this.opts.on_finish(this.data.get()),n=function(){void 0!==t.timeline.end_message&&(t.DOM_target.innerHTML=t.timeline.end_message),t.resolveFinishedPromise()};e?Promise.resolve(e).then(n):n()}},{key:"nextTrial",value:function(){if(this.paused)this.waiting=!0;else{this.global_trial_index++,this.timeline.markCurrentTrialComplete();var t=this.timeline.advance();!0===this.opts.show_progress_bar&&!0===this.opts.auto_update_progress_bar&&this.updateProgressBar(),t?this.finishExperiment():this.doTrial(this.timeline.trial())}}},{key:"doTrial",value:function(t){var e,n=this;if(this.current_trial=t,this.current_trial_finished=!1,this.evaluateTimelineVariables(t),"string"==typeof t.type)throw new _("A string was provided as the trial's `type` parameter. Since jsPsych v7, the `type` parameter needs to be a plugin object.");if(t.type=Object.assign(Object.assign({},y(new t.type(this))),{info:t.type.info}),this.evaluateFunctionParameters(t),this.setDefaultValues(t),this.internal.call_immediate=!0,this.opts.on_trial_start(t),"function"==typeof t.on_start&&t.on_start(t),Array.isArray(t.extensions)){var i,s=p(t.extensions);try{for(s.s();!(i=s.n()).done;){var o=i.value;this.extensions[o.type.info.name].on_start(o.params)}}catch(t){s.e(t)}finally{s.f()}}this.DOM_container.focus(),this.DOM_target.scrollTop=0,void 0!==t.css_classes&&(Array.isArray(t.css_classes)||"string"!=typeof t.css_classes||(t.css_classes=[t.css_classes]),Array.isArray(t.css_classes)&&(e=this.DOM_target.classList).add.apply(e,r(t.css_classes)));var a,u,l=function(){if("function"==typeof t.on_load&&t.on_load(),Array.isArray(t.extensions)){var e,r=p(t.extensions);try{for(r.s();!(e=r.n()).done;){var i=e.value;n.extensions[i.type.info.name].on_load(i.params)}}catch(t){r.e(t)}finally{r.f()}}};this.simulation_mode||(a=t.type.trial(this.DOM_target,t,l)),this.simulation_mode&&(t.type.simulate?(t.simulation_options||(u=this.simulation_options.default),t.simulation_options&&("string"==typeof t.simulation_options?this.simulation_options[t.simulation_options]?u=this.simulation_options[t.simulation_options]:this.simulation_options.default?(console.log('No matching simulation options found for "'.concat(t.simulation_options,'". Using "default" options.')),u=this.simulation_options.default):(console.log('No matching simulation options found for "'.concat(t.simulation_options,'" and no "default" options provided. Using the default values provided by the plugin.')),u={}):u=t.simulation_options),u=this.utils.deepCopy(u),a=!1===(null==(u=this.replaceFunctionsWithValues(u,null))?void 0:u.simulate)?t.type.trial(this.DOM_target,t,l):t.type.simulate(t,(null==u?void 0:u.mode)||this.simulation_mode,u,l)):a=t.type.trial(this.DOM_target,t,l)),a&&"function"==typeof a.then||this.simulation_mode||l(),this.internal.call_immediate=!1}},{key:"evaluateTimelineVariables",value:function(t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];"object"===e(t[i])&&null!==t[i]&&void 0!==t[i].timelineVariablePlaceholder&&(t[i]=t[i].timelineVariableFunction()),"object"===e(t[i])&&null!==t[i]&&"timeline"!==i&&"timeline_variables"!==i&&this.evaluateTimelineVariables(t[i])}}},{key:"evaluateFunctionParameters",value:function(t){this.internal.call_immediate=!0;for(var e=0,n=Object.keys(t);e<n.length;e++){var r=n[e];"type"!==r&&(void 0!==x[r]&&x[r].type!==I.FUNCTION&&(t[r]=this.replaceFunctionsWithValues(t[r],null)),void 0!==t.type.info.parameters[r]&&t.type.info.parameters[r].type!==I.FUNCTION&&(t[r]=this.replaceFunctionsWithValues(t[r],t.type.info.parameters[r])))}this.internal.call_immediate=!1}},{key:"replaceFunctionsWithValues",value:function(t,n){if(null===t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=this.replaceFunctionsWithValues(t[r],n);else if("object"===e(t))if(null!==n&&n.nested)for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i];"object"===e(n.nested[o])&&n.nested[o].type!==I.FUNCTION&&(t[o]=this.replaceFunctionsWithValues(t[o],n.nested[o]))}else for(var a=0,u=Object.keys(t);a<u.length;a++){var l=u[a];"type"!==l&&"timeline"!==l&&"timeline_variables"!==l&&(t[l]=this.replaceFunctionsWithValues(t[l],null))}else if("function"==typeof t)return t();return t}},{key:"setDefaultValues",value:function(t){var e=function(e){t.type.info.parameters[e].type===I.COMPLEX?(void 0===t[e]&&t.type.info.parameters[e].default&&(t[e]=t.type.info.parameters[e].default),!0===t.type.info.parameters[e].array&&Array.isArray(t[e])&&t[e].forEach((function(n,r){for(var i in t.type.info.parameters[e].nested)void 0!==t[e][r][i]&&null!==t[e][r][i]||(void 0===t.type.info.parameters[e].nested[i].default?console.error("You must specify a value for the ".concat(i," parameter (nested in the ").concat(e," parameter) in the ").concat(t.type.info.name," plugin.")):t[e][r][i]=t.type.info.parameters[e].nested[i].default)}))):void 0!==t[e]&&null!==t[e]||(void 0===t.type.info.parameters[e].default?console.error("You must specify a value for the ".concat(e," parameter in the ").concat(t.type.info.name," plugin.")):t[e]=t.type.info.parameters[e].default)};for(var n in t.type.info.parameters)e(n)}},{key:"checkExclusions",value:function(e){return v(this,void 0,void 0,t().mark((function n(){var r,i;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e.min_width||e.min_height||e.audio)&&console.warn("The exclusions option in `initJsPsych()` is deprecated and will be removed in a future version. We recommend using the browser-check plugin instead. See https://www.jspsych.org/latest/plugins/browser-check/."),!e.min_width&&!e.min_height){t.next=12;break}if(r=e.min_width||0,i=e.min_height||0,!(window.innerWidth<r||window.innerHeight<i)){t.next=12;break}this.getDisplayElement().innerHTML="<p>Your browser window is too small to complete this experiment. Please maximize the size of your browser window. If your browser window is already maximized, you will not be able to complete this experiment.</p><p>The minimum width is "+r+"px. Your current width is "+window.innerWidth+"px.</p><p>The minimum height is "+i+"px. Your current height is "+window.innerHeight+"px.</p>";case 6:if(!(window.innerWidth<r||window.innerHeight<i)){t.next=11;break}return t.next=9,J(100);case 9:t.next=6;break;case 11:this.getDisplayElement().innerHTML="";case 12:if(void 0===e.audio||!e.audio){t.next=16;break}if(window.hasOwnProperty("AudioContext")||window.hasOwnProperty("webkitAudioContext")){t.next=16;break}throw this.getDisplayElement().innerHTML="<p>Your browser does not support the WebAudio API, which means that you will not be able to complete the experiment.</p><p>Browsers that support the WebAudio API include Chrome, Firefox, Safari, and Edge.</p>",new Error;case 16:case"end":return t.stop()}}),n,this)})))}},{key:"drawProgressBar",value:function(t){document.querySelector(".jspsych-display-element").insertAdjacentHTML("afterbegin",'<div id="jspsych-progressbar-container"><span>'+t+'</span><div id="jspsych-progressbar-outer"><div id="jspsych-progressbar-inner"></div></div></div>')}},{key:"updateProgressBar",value:function(){this.setProgressBar(this.getProgress().percent_complete/100)}},{key:"setProgressBar",value:function(t){t=Math.max(Math.min(1,t),0),document.querySelector("#jspsych-progressbar-inner").style.width=100*t+"%",this.progress_bar_amount=t}},{key:"getProgressBarCompleted",value:function(){return this.progress_bar_amount}}]),n}();function X(t){var e=new Q(t);return Object.defineProperties(e,Object.fromEntries(Object.entries({init:"`jsPsych.init()` was replaced by `initJsPsych()` in jsPsych v7.",ALL_KEYS:'jsPsych.ALL_KEYS was replaced by the "ALL_KEYS" string in jsPsych v7.',NO_KEYS:'jsPsych.NO_KEYS was replaced by the "NO_KEYS" string in jsPsych v7.',currentTimelineNodeID:"`currentTimelineNodeID()` was renamed to `getCurrentTimelineNodeID()` in jsPsych v7.",progress:"`progress()` was renamed to `getProgress()` in jsPsych v7.",startTime:"`startTime()` was renamed to `getStartTime()` in jsPsych v7.",totalTime:"`totalTime()` was renamed to `getTotalTime()` in jsPsych v7.",currentTrial:"`currentTrial()` was renamed to `getCurrentTrial()` in jsPsych v7.",initSettings:"`initSettings()` was renamed to `getInitSettings()` in jsPsych v7.",allTimelineVariables:"`allTimelineVariables()` was renamed to `getAllTimelineVariables()` in jsPsych v7."}).map((function(t){var e=f(t,2),n=e[0],r=e[1];return[n,{get:function(){throw new _(r)}}]})))),e}"undefined"!=typeof window&&window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext);const Z={name:"fullscreen",parameters:{fullscreen_mode:{type:I.BOOL,pretty_name:"Fullscreen mode",default:!0,array:!1},message:{type:I.HTML_STRING,pretty_name:"Message",default:"<p>The experiment will switch to full screen mode when you press the button below</p>",array:!1},button_label:{type:I.STRING,pretty_name:"Button label",default:"Continue",array:!1},delay_after:{type:I.INT,pretty_name:"Delay after",default:1e3,array:!1}}};class tt{constructor(t){this.jsPsych=t}trial(t,e){"undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element?this.endTrial(t,!1,e):e.fullscreen_mode?this.showDisplay(t,e):(this.exitFullScreen(),this.endTrial(t,!0,e))}showDisplay(t,e){t.innerHTML=`\n      ${e.message}\n      <button id="jspsych-fullscreen-btn" class="jspsych-btn">${e.button_label}</button>\n    `,t.querySelector("#jspsych-fullscreen-btn").addEventListener("click",(()=>{this.enterFullScreen(),this.endTrial(t,!0,e)}))}endTrial(t,e,n){t.innerHTML="",this.jsPsych.pluginAPI.setTimeout((()=>{var t={success:e};this.jsPsych.finishTrial(t)}),n.delay_after)}enterFullScreen(){var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}exitFullScreen(){(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())}simulate(t,e,n,r){"data-only"==e&&(r(),this.simulate_data_only(t,n)),"visual"==e&&this.simulate_visual(t,n,r)}create_simulation_data(t,e){return this.jsPsych.pluginAPI.mergeSimulationData({success:!0},e)}simulate_data_only(t,e){const n=this.create_simulation_data(t,e);this.jsPsych.finishTrial(n)}simulate_visual(t,e,n){const r=this.create_simulation_data(t,e),i=this.jsPsych.getDisplayElement();!1===r.success?this.endTrial(i,!1,t):(this.trial(i,t),n(),this.jsPsych.pluginAPI.clickTarget(i.querySelector("#jspsych-fullscreen-btn"),this.jsPsych.randomization.sampleExGaussian(1e3,100,.005,!0)))}}tt.info=Z;const et={name:"html-keyboard-response",parameters:{stimulus:{type:I.HTML_STRING,pretty_name:"Stimulus",default:void 0},choices:{type:I.KEYS,pretty_name:"Choices",default:"ALL_KEYS"},prompt:{type:I.HTML_STRING,pretty_name:"Prompt",default:null},stimulus_duration:{type:I.INT,pretty_name:"Stimulus duration",default:null},trial_duration:{type:I.INT,pretty_name:"Trial duration",default:null},response_ends_trial:{type:I.BOOL,pretty_name:"Response ends trial",default:!0}}};class nt{constructor(t){this.jsPsych=t}trial(t,e){var n='<div id="jspsych-html-keyboard-response-stimulus">'+e.stimulus+"</div>";null!==e.prompt&&(n+=e.prompt),t.innerHTML=n;var r={rt:null,key:null};const i=()=>{this.jsPsych.pluginAPI.clearAllTimeouts(),void 0!==s&&this.jsPsych.pluginAPI.cancelKeyboardResponse(s);var n={rt:r.rt,stimulus:e.stimulus,response:r.key};t.innerHTML="",this.jsPsych.finishTrial(n)};if("NO_KEYS"!=e.choices)var s=this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:n=>{t.querySelector("#jspsych-html-keyboard-response-stimulus").className+=" responded",null==r.key&&(r=n),e.response_ends_trial&&i()},valid_responses:e.choices,rt_method:"performance",persist:!1,allow_held_key:!1});null!==e.stimulus_duration&&this.jsPsych.pluginAPI.setTimeout((()=>{t.querySelector("#jspsych-html-keyboard-response-stimulus").style.visibility="hidden"}),e.stimulus_duration),null!==e.trial_duration&&this.jsPsych.pluginAPI.setTimeout(i,e.trial_duration)}simulate(t,e,n,r){"data-only"==e&&(r(),this.simulate_data_only(t,n)),"visual"==e&&this.simulate_visual(t,n,r)}create_simulation_data(t,e){const n={stimulus:t.stimulus,rt:this.jsPsych.randomization.sampleExGaussian(500,50,1/150,!0),response:this.jsPsych.pluginAPI.getValidKey(t.choices)},r=this.jsPsych.pluginAPI.mergeSimulationData(n,e);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(t,r),r}simulate_data_only(t,e){const n=this.create_simulation_data(t,e);this.jsPsych.finishTrial(n)}simulate_visual(t,e,n){const r=this.create_simulation_data(t,e),i=this.jsPsych.getDisplayElement();this.trial(i,t),n(),null!==r.rt&&this.jsPsych.pluginAPI.pressKey(r.response,r.rt)}}nt.info=et;const rt={name:"html-button-response",parameters:{stimulus:{type:I.HTML_STRING,pretty_name:"Stimulus",default:void 0},choices:{type:I.STRING,pretty_name:"Choices",default:void 0,array:!0},button_html:{type:I.HTML_STRING,pretty_name:"Button HTML",default:'<button class="jspsych-btn">%choice%</button>',array:!0},prompt:{type:I.HTML_STRING,pretty_name:"Prompt",default:null},stimulus_duration:{type:I.INT,pretty_name:"Stimulus duration",default:null},trial_duration:{type:I.INT,pretty_name:"Trial duration",default:null},margin_vertical:{type:I.STRING,pretty_name:"Margin vertical",default:"0px"},margin_horizontal:{type:I.STRING,pretty_name:"Margin horizontal",default:"8px"},response_ends_trial:{type:I.BOOL,pretty_name:"Response ends trial",default:!0}}};class it{constructor(t){this.jsPsych=t}trial(t,e){var n='<div id="jspsych-html-button-response-stimulus">'+e.stimulus+"</div>",r=[];if(Array.isArray(e.button_html))e.button_html.length==e.choices.length?r=e.button_html:console.error("Error in html-button-response plugin. The length of the button_html array does not equal the length of the choices array");else for(var i=0;i<e.choices.length;i++)r.push(e.button_html);for(n+='<div id="jspsych-html-button-response-btngroup">',i=0;i<e.choices.length;i++){var s=r[i].replace(/%choice%/g,e.choices[i]);n+='<div class="jspsych-html-button-response-button" style="display: inline-block; margin:'+e.margin_vertical+" "+e.margin_horizontal+'" id="jspsych-html-button-response-button-'+i+'" data-choice="'+i+'">'+s+"</div>"}n+="</div>",null!==e.prompt&&(n+=e.prompt),t.innerHTML=n;var o=performance.now();for(i=0;i<e.choices.length;i++)t.querySelector("#jspsych-html-button-response-button-"+i).addEventListener("click",(t=>{l(t.currentTarget.getAttribute("data-choice"))}));var a={rt:null,button:null};const u=()=>{this.jsPsych.pluginAPI.clearAllTimeouts();var n={rt:a.rt,stimulus:e.stimulus,response:a.button};t.innerHTML="",this.jsPsych.finishTrial(n)};function l(n){var r=performance.now(),i=Math.round(r-o);a.button=parseInt(n),a.rt=i,t.querySelector("#jspsych-html-button-response-stimulus").className+=" responded";for(var s=document.querySelectorAll(".jspsych-html-button-response-button button"),l=0;l<s.length;l++)s[l].setAttribute("disabled","disabled");e.response_ends_trial&&u()}null!==e.stimulus_duration&&this.jsPsych.pluginAPI.setTimeout((()=>{t.querySelector("#jspsych-html-button-response-stimulus").style.visibility="hidden"}),e.stimulus_duration),null!==e.trial_duration&&this.jsPsych.pluginAPI.setTimeout(u,e.trial_duration)}simulate(t,e,n,r){"data-only"==e&&(r(),this.simulate_data_only(t,n)),"visual"==e&&this.simulate_visual(t,n,r)}create_simulation_data(t,e){const n={stimulus:t.stimulus,rt:this.jsPsych.randomization.sampleExGaussian(500,50,1/150,!0),response:this.jsPsych.randomization.randomInt(0,t.choices.length-1)},r=this.jsPsych.pluginAPI.mergeSimulationData(n,e);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(t,r),r}simulate_data_only(t,e){const n=this.create_simulation_data(t,e);this.jsPsych.finishTrial(n)}simulate_visual(t,e,n){const r=this.create_simulation_data(t,e),i=this.jsPsych.getDisplayElement();this.trial(i,t),n(),null!==r.rt&&this.jsPsych.pluginAPI.clickTarget(i.querySelector(`div[data-choice="${r.response}"] button`),r.rt)}}it.info=rt;const st={name:"image-button-response",parameters:{stimulus:{type:I.IMAGE,pretty_name:"Stimulus",default:void 0},stimulus_height:{type:I.INT,pretty_name:"Image height",default:null},stimulus_width:{type:I.INT,pretty_name:"Image width",default:null},maintain_aspect_ratio:{type:I.BOOL,pretty_name:"Maintain aspect ratio",default:!0},choices:{type:I.STRING,pretty_name:"Choices",default:void 0,array:!0},button_html:{type:I.HTML_STRING,pretty_name:"Button HTML",default:'<button class="jspsych-btn">%choice%</button>',array:!0},prompt:{type:I.HTML_STRING,pretty_name:"Prompt",default:null},stimulus_duration:{type:I.INT,pretty_name:"Stimulus duration",default:null},trial_duration:{type:I.INT,pretty_name:"Trial duration",default:null},margin_vertical:{type:I.STRING,pretty_name:"Margin vertical",default:"0px"},margin_horizontal:{type:I.STRING,pretty_name:"Margin horizontal",default:"8px"},response_ends_trial:{type:I.BOOL,pretty_name:"Response ends trial",default:!0},render_on_canvas:{type:I.BOOL,pretty_name:"Render on canvas",default:!0}}};class ot{constructor(t){this.jsPsych=t}trial(t,e){var n,r,i;if(e.render_on_canvas){var s=!1;if(t.hasChildNodes())for(;t.firstChild;)t.removeChild(t.firstChild);var o=document.createElement("canvas");o.id="jspsych-image-button-response-stimulus",o.style.margin="0",o.style.padding="0";var a=o.getContext("2d");(d=new Image).onload=()=>{s||(f(),a.drawImage(d,0,0,r,n))},d.src=e.stimulus;const f=()=>{null!==e.stimulus_height?(n=e.stimulus_height,null==e.stimulus_width&&e.maintain_aspect_ratio&&(r=d.naturalWidth*(e.stimulus_height/d.naturalHeight))):n=d.naturalHeight,null!==e.stimulus_width?(r=e.stimulus_width,null==e.stimulus_height&&e.maintain_aspect_ratio&&(n=d.naturalHeight*(e.stimulus_width/d.naturalWidth))):null!==e.stimulus_height&&e.maintain_aspect_ratio||(r=d.naturalWidth),o.height=n,o.width=r};f();var u=[];if(Array.isArray(e.button_html))e.button_html.length==e.choices.length?u=e.button_html:console.error("Error in image-button-response plugin. The length of the button_html array does not equal the length of the choices array");else for(var l=0;l<e.choices.length;l++)u.push(e.button_html);var c=document.createElement("div");for(c.id="jspsych-image-button-response-btngroup",i="",l=0;l<e.choices.length;l++){var h=u[l].replace(/%choice%/g,e.choices[l]);i+='<div class="jspsych-image-button-response-button" style="display: inline-block; margin:'+e.margin_vertical+" "+e.margin_horizontal+'" id="jspsych-image-button-response-button-'+l+'" data-choice="'+l+'">'+h+"</div>"}c.innerHTML=i,t.insertBefore(o,null),d.complete&&Number.isFinite(r)&&Number.isFinite(n)&&(a.drawImage(d,0,0,r,n),s=!0),t.insertBefore(c,o.nextElementSibling),null!==e.prompt&&t.insertAdjacentHTML("beforeend",e.prompt)}else{if(i='<img src="'+e.stimulus+'" id="jspsych-image-button-response-stimulus">',u=[],Array.isArray(e.button_html))e.button_html.length==e.choices.length?u=e.button_html:console.error("Error in image-button-response plugin. The length of the button_html array does not equal the length of the choices array");else for(l=0;l<e.choices.length;l++)u.push(e.button_html);for(i+='<div id="jspsych-image-button-response-btngroup">',l=0;l<e.choices.length;l++)h=u[l].replace(/%choice%/g,e.choices[l]),i+='<div class="jspsych-image-button-response-button" style="display: inline-block; margin:'+e.margin_vertical+" "+e.margin_horizontal+'" id="jspsych-image-button-response-button-'+l+'" data-choice="'+l+'">'+h+"</div>";i+="</div>",null!==e.prompt&&(i+=e.prompt),t.innerHTML=i;var d=t.querySelector("#jspsych-image-button-response-stimulus");null!==e.stimulus_height?(n=e.stimulus_height,null==e.stimulus_width&&e.maintain_aspect_ratio&&(r=d.naturalWidth*(e.stimulus_height/d.naturalHeight))):n=d.naturalHeight,null!==e.stimulus_width?(r=e.stimulus_width,null==e.stimulus_height&&e.maintain_aspect_ratio&&(n=d.naturalHeight*(e.stimulus_width/d.naturalWidth))):null!==e.stimulus_height&&e.maintain_aspect_ratio||(r=d.naturalWidth),d.style.height=n.toString()+"px",d.style.width=r.toString()+"px"}var f=performance.now();for(l=0;l<e.choices.length;l++)t.querySelector("#jspsych-image-button-response-button-"+l).addEventListener("click",(t=>{g(t.currentTarget.getAttribute("data-choice"))}));var p={rt:null,button:null};const m=()=>{this.jsPsych.pluginAPI.clearAllTimeouts();var n={rt:p.rt,stimulus:e.stimulus,response:p.button};t.innerHTML="",this.jsPsych.finishTrial(n)};function g(n){var r=performance.now(),i=Math.round(r-f);p.button=parseInt(n),p.rt=i,t.querySelector("#jspsych-image-button-response-stimulus").className+=" responded";for(var s=document.querySelectorAll(".jspsych-image-button-response-button button"),o=0;o<s.length;o++)s[o].setAttribute("disabled","disabled");e.response_ends_trial&&m()}null!==e.stimulus_duration&&this.jsPsych.pluginAPI.setTimeout((()=>{t.querySelector("#jspsych-image-button-response-stimulus").style.visibility="hidden"}),e.stimulus_duration),null!==e.trial_duration?this.jsPsych.pluginAPI.setTimeout((()=>{m()}),e.trial_duration):!1===e.response_ends_trial&&console.warn("The experiment may be deadlocked. Try setting a trial duration or set response_ends_trial to true.")}simulate(t,e,n,r){"data-only"==e&&(r(),this.simulate_data_only(t,n)),"visual"==e&&this.simulate_visual(t,n,r)}create_simulation_data(t,e){const n={stimulus:t.stimulus,rt:this.jsPsych.randomization.sampleExGaussian(500,50,1/150,!0),response:this.jsPsych.randomization.randomInt(0,t.choices.length-1)},r=this.jsPsych.pluginAPI.mergeSimulationData(n,e);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(t,r),r}simulate_data_only(t,e){const n=this.create_simulation_data(t,e);this.jsPsych.finishTrial(n)}simulate_visual(t,e,n){const r=this.create_simulation_data(t,e),i=this.jsPsych.getDisplayElement();this.trial(i,t),n(),null!==r.rt&&this.jsPsych.pluginAPI.clickTarget(i.querySelector(`div[data-choice="${r.response}"] button`),r.rt)}}ot.info=st;const at={name:"survey-text",parameters:{questions:{type:I.COMPLEX,array:!0,pretty_name:"Questions",default:void 0,nested:{prompt:{type:I.HTML_STRING,pretty_name:"Prompt",default:void 0},placeholder:{type:I.STRING,pretty_name:"Placeholder",default:""},rows:{type:I.INT,pretty_name:"Rows",default:1},columns:{type:I.INT,pretty_name:"Columns",default:40},required:{type:I.BOOL,pretty_name:"Required",default:!1},name:{type:I.STRING,pretty_name:"Question Name",default:""}}},randomize_question_order:{type:I.BOOL,pretty_name:"Randomize Question Order",default:!1},preamble:{type:I.HTML_STRING,pretty_name:"Preamble",default:null},button_label:{type:I.STRING,pretty_name:"Button label",default:"Continue"},autocomplete:{type:I.BOOL,pretty_name:"Allow autocomplete",default:!1}}};class ut{constructor(t){this.jsPsych=t}trial(t,e){for(var n=0;n<e.questions.length;n++)void 0===e.questions[n].rows&&(e.questions[n].rows=1);for(n=0;n<e.questions.length;n++)void 0===e.questions[n].columns&&(e.questions[n].columns=40);for(n=0;n<e.questions.length;n++)void 0===e.questions[n].value&&(e.questions[n].value="");var r="";null!==e.preamble&&(r+='<div id="jspsych-survey-text-preamble" class="jspsych-survey-text-preamble">'+e.preamble+"</div>"),e.autocomplete?r+='<form id="jspsych-survey-text-form">':r+='<form id="jspsych-survey-text-form" autocomplete="off">';var i=[];for(n=0;n<e.questions.length;n++)i.push(n);for(e.randomize_question_order&&(i=this.jsPsych.randomization.shuffle(i)),n=0;n<e.questions.length;n++){var s=e.questions[i[n]],o=i[n];r+='<div id="jspsych-survey-text-'+o+'" class="jspsych-survey-text-question" style="margin: 2em 0em;">',r+='<p class="jspsych-survey-text">'+s.prompt+"</p>";var a=0==n?"autofocus":"",u=s.required?"required":"";1==s.rows?r+='<input type="text" id="input-'+o+'"  name="#jspsych-survey-text-response-'+o+'" data-name="'+s.name+'" size="'+s.columns+'" '+a+" "+u+' placeholder="'+s.placeholder+'"></input>':r+='<textarea id="input-'+o+'" name="#jspsych-survey-text-response-'+o+'" data-name="'+s.name+'" cols="'+s.columns+'" rows="'+s.rows+'" '+a+" "+u+' placeholder="'+s.placeholder+'"></textarea>',r+="</div>"}r+='<input type="submit" id="jspsych-survey-text-next" class="jspsych-btn jspsych-survey-text" value="'+e.button_label+'"></input>',r+="</form>",t.innerHTML=r,t.querySelector("#input-"+i[0]).focus(),t.querySelector("#jspsych-survey-text-form").addEventListener("submit",(n=>{n.preventDefault();for(var r=performance.now(),i=Math.round(r-l),s={},o=0;o<e.questions.length;o++){var a="Q"+o,u=document.querySelector("#jspsych-survey-text-"+o).querySelector("textarea, input"),c=u.value,h=u.attributes["data-name"].value;""==h&&(h=a);var d={};d[h]=c,Object.assign(s,d)}var f={rt:i,response:s};t.innerHTML="",this.jsPsych.finishTrial(f)}));var l=performance.now()}simulate(t,e,n,r){"data-only"==e&&(r(),this.simulate_data_only(t,n)),"visual"==e&&this.simulate_visual(t,n,r)}create_simulation_data(t,e){const n={};let r=1e3;for(const e of t.questions){const i=e.name?e.name:`Q${t.questions.indexOf(e)}`,s=1==e.rows?this.jsPsych.randomization.sampleExponential(.25):this.jsPsych.randomization.randomInt(1,10)*e.rows;n[i]=this.jsPsych.randomization.randomWords({exactly:s,join:" "}),r+=this.jsPsych.randomization.sampleExGaussian(2e3,400,.004,!0)}const i={response:n,rt:r},s=this.jsPsych.pluginAPI.mergeSimulationData(i,e);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(t,s),s}simulate_data_only(t,e){const n=this.create_simulation_data(t,e);this.jsPsych.finishTrial(n)}simulate_visual(t,e,n){const r=this.create_simulation_data(t,e),i=this.jsPsych.getDisplayElement();this.trial(i,t),n();const s=Object.entries(r.response).map((t=>t[1]));for(let t=0;t<s.length;t++)this.jsPsych.pluginAPI.fillTextInput(i.querySelector(`#input-${t}`),s[t],(r.rt-1e3)/s.length*(t+1));this.jsPsych.pluginAPI.clickTarget(i.querySelector("#jspsych-survey-text-next"),r.rt)}}ut.info=at;const lt={name:"survey-multi-choice",parameters:{questions:{type:I.COMPLEX,array:!0,pretty_name:"Questions",nested:{prompt:{type:I.HTML_STRING,pretty_name:"Prompt",default:void 0},options:{type:I.STRING,pretty_name:"Options",array:!0,default:void 0},required:{type:I.BOOL,pretty_name:"Required",default:!1},horizontal:{type:I.BOOL,pretty_name:"Horizontal",default:!1},name:{type:I.STRING,pretty_name:"Question Name",default:""}}},randomize_question_order:{type:I.BOOL,pretty_name:"Randomize Question Order",default:!1},preamble:{type:I.HTML_STRING,pretty_name:"Preamble",default:null},button_label:{type:I.STRING,pretty_name:"Button label",default:"Continue"},autocomplete:{type:I.BOOL,pretty_name:"Allow autocomplete",default:!1}}};class ct{constructor(t){this.jsPsych=t}trial(t,e){var n="jspsych-survey-multi-choice",r="";r+='<style id="jspsych-survey-multi-choice-css">',r+=".jspsych-survey-multi-choice-question { margin-top: 2em; margin-bottom: 2em; text-align: left; }.jspsych-survey-multi-choice-text span.required {color: darkred;}.jspsych-survey-multi-choice-horizontal .jspsych-survey-multi-choice-text {  text-align: center;}.jspsych-survey-multi-choice-option { line-height: 2; }.jspsych-survey-multi-choice-horizontal .jspsych-survey-multi-choice-option {  display: inline-block;  margin-left: 1em;  margin-right: 1em;  vertical-align: top;}label.jspsych-survey-multi-choice-text input[type='radio'] {margin-right: 1em;}",r+="</style>",null!==e.preamble&&(r+='<div id="jspsych-survey-multi-choice-preamble" class="jspsych-survey-multi-choice-preamble">'+e.preamble+"</div>"),e.autocomplete?r+='<form id="jspsych-survey-multi-choice-form">':r+='<form id="jspsych-survey-multi-choice-form" autocomplete="off">';for(var i=[],s=0;s<e.questions.length;s++)i.push(s);for(e.randomize_question_order&&(i=this.jsPsych.randomization.shuffle(i)),s=0;s<e.questions.length;s++){var o=e.questions[i[s]],a=i[s],u=["jspsych-survey-multi-choice-question"];o.horizontal&&u.push("jspsych-survey-multi-choice-horizontal"),r+='<div id="jspsych-survey-multi-choice-'+a+'" class="'+u.join(" ")+'"  data-name="'+o.name+'">',r+='<p class="jspsych-survey-multi-choice-text survey-multi-choice">'+o.prompt,o.required&&(r+="<span class='required'>*</span>"),r+="</p>";for(var l=0;l<o.options.length;l++){var c="jspsych-survey-multi-choice-option-"+a+"-"+l,h="jspsych-survey-multi-choice-response-"+a,d="jspsych-survey-multi-choice-response-"+a+"-"+l,f=o.required?"required":"";r+='<div id="'+c+'" class="jspsych-survey-multi-choice-option">',r+='<label class="jspsych-survey-multi-choice-text" for="'+d+'">',r+='<input type="radio" name="'+h+'" id="'+d+'" value="'+o.options[l]+'" '+f+"></input>",r+=o.options[l]+"</label>",r+="</div>"}r+="</div>"}r+='<input type="submit" id="'+n+'-next" class="'+n+' jspsych-btn"'+(e.button_label?' value="'+e.button_label+'"':"")+"></input>",r+="</form>",t.innerHTML=r,document.querySelector("form").addEventListener("submit",(n=>{n.preventDefault();for(var r=performance.now(),s=Math.round(r-p),o={},a=0;a<e.questions.length;a++){var u,l=t.querySelector("#jspsych-survey-multi-choice-"+a),c="Q"+a;u=null!==l.querySelector("input[type=radio]:checked")?l.querySelector("input[type=radio]:checked").value:"";var h={},d=c;""!==l.attributes["data-name"].value&&(d=l.attributes["data-name"].value),h[d]=u,Object.assign(o,h)}var f={rt:s,response:o,question_order:i};t.innerHTML="",this.jsPsych.finishTrial(f)}));var p=performance.now()}simulate(t,e,n,r){"data-only"==e&&(r(),this.simulate_data_only(t,n)),"visual"==e&&this.simulate_visual(t,n,r)}create_simulation_data(t,e){const n={};let r=1e3;for(const e of t.questions)n[e.name?e.name:`Q${t.questions.indexOf(e)}`]=this.jsPsych.randomization.sampleWithoutReplacement(e.options,1)[0],r+=this.jsPsych.randomization.sampleExGaussian(1500,400,.005,!0);const i={response:n,rt:r,question_order:t.randomize_question_order?this.jsPsych.randomization.shuffle([...Array(t.questions.length).keys()]):[...Array(t.questions.length).keys()]},s=this.jsPsych.pluginAPI.mergeSimulationData(i,e);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(t,s),s}simulate_data_only(t,e){const n=this.create_simulation_data(t,e);this.jsPsych.finishTrial(n)}simulate_visual(t,e,n){const r=this.create_simulation_data(t,e),i=this.jsPsych.getDisplayElement();this.trial(i,t),n();const s=Object.entries(r.response);for(let e=0;e<s.length;e++)this.jsPsych.pluginAPI.clickTarget(i.querySelector(`#jspsych-survey-multi-choice-response-${e}-${t.questions[e].options.indexOf(s[e][1])}`),(r.rt-1e3)/s.length*(e+1));this.jsPsych.pluginAPI.clickTarget(i.querySelector("#jspsych-survey-multi-choice-next"),r.rt)}}ct.info=lt;const ht={name:"external-html",parameters:{url:{type:I.STRING,pretty_name:"URL",default:void 0},cont_key:{type:I.KEY,pretty_name:"Continue key",default:null},cont_btn:{type:I.STRING,pretty_name:"Continue button",default:null},check_fn:{type:I.FUNCTION,pretty_name:"Check function",default:()=>!0},force_refresh:{type:I.BOOL,pretty_name:"Force refresh",default:!1},execute_script:{type:I.BOOL,pretty_name:"Execute scripts",default:!1}}};class dt{constructor(t){this.jsPsych=t}trial(t,e,n){let r;var i=e.url;return e.force_refresh&&(i=e.url+"?t="+performance.now()),fetch(i).then((t=>t.text())).then((i=>{t.innerHTML=i,n();var s=performance.now();const o=t=>{this.jsPsych.pluginAPI.compareKeys(t.key,e.cont_key)&&a()},a=()=>{if(!e.check_fn||e.check_fn(t)){e.cont_key&&t.removeEventListener("keydown",o);var n={rt:Math.round(performance.now()-s),url:e.url};t.innerHTML="",this.jsPsych.finishTrial(n),r()}};if(e.execute_script)for(var u=t.getElementsByTagName("script"),l=0;l<u.length;l++){const t=document.createElement("script"),e=u[l];t.text=e.text,e.parentNode.replaceChild(t,e)}e.cont_btn&&t.querySelector("#"+e.cont_btn).addEventListener("click",a),e.cont_key&&t.addEventListener("keydown",o)})).catch((t=>{console.error("Something went wrong with fetch() in plugin-external-html.",t)})),new Promise((t=>{r=t}))}simulate(t,e,n,r){"data-only"==e&&(r(),this.simulate_data_only(t,n)),"visual"==e&&this.simulate_visual(t,n,r)}create_simulation_data(t,e){const n={url:t.url,rt:this.jsPsych.randomization.sampleExGaussian(2e3,200,.005,!0)},r=this.jsPsych.pluginAPI.mergeSimulationData(n,e);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(t,r),r}simulate_data_only(t,e){const n=this.create_simulation_data(t,e);this.jsPsych.finishTrial(n)}simulate_visual(t,e,n){const r=this.create_simulation_data(t,e),i=this.jsPsych.getDisplayElement();this.trial(i,t,(()=>{n(),t.cont_key?this.jsPsych.pluginAPI.pressKey(t.cont_key,r.rt):t.cont_btn&&this.jsPsych.pluginAPI.clickTarget(i.querySelector("#"+t.cont_btn),r.rt)}))}}dt.info=ht;const ft={name:"preload",parameters:{auto_preload:{type:I.BOOL,pretty_name:"Auto-preload",default:!1},trials:{type:I.TIMELINE,pretty_name:"Trials",default:[]},images:{type:I.STRING,pretty_name:"Images",default:[],array:!0},audio:{type:I.STRING,pretty_name:"Audio",default:[],array:!0},video:{type:I.STRING,pretty_name:"Video",default:[],array:!0},message:{type:I.HTML_STRING,pretty_name:"Message",default:null},show_progress_bar:{type:I.BOOL,pretty_name:"Show progress bar",default:!0},continue_after_error:{type:I.BOOL,pretty_name:"Continue after error",default:!1},error_message:{type:I.HTML_STRING,pretty_name:"Error message",default:"The experiment failed to load."},show_detailed_errors:{type:I.BOOL,pretty_name:"Show detailed errors",default:!1},max_load_time:{type:I.INT,pretty_name:"Max load time",default:null},on_error:{type:I.FUNCTION,pretty_name:"On error",default:null},on_success:{type:I.FUNCTION,pretty_name:"On success",default:null}}};class pt{constructor(t){this.jsPsych=t}trial(t,e){var n=null,r=!1,i=[],s=[],o=[],a=[],u=this.jsPsych.getSafeModeStatus(),l=[],c=[],h=[];if(e.auto_preload){var d=this.jsPsych.getTimeline(),f=this.jsPsych.pluginAPI.getAutoPreloadList(d);l=l.concat(f.images),c=c.concat(f.audio),h=h.concat(f.video)}if(e.trials.length>0){var p=this.jsPsych.pluginAPI.getAutoPreloadList(e.trials);l=l.concat(p.images),c=c.concat(p.audio),h=h.concat(p.video)}l=l.concat(e.images),c=c.concat(e.audio),h=h.concat(e.video),l=this.jsPsych.utils.unique(l.flat()),c=this.jsPsych.utils.unique(c.flat()),h=this.jsPsych.utils.unique(h.flat()),u&&(h=[]);var m="";null!==e.message&&(m+=e.message),e.show_progress_bar&&(m+="\n            <div id='jspsych-loading-progress-bar-container' style='height: 10px; width: 300px; background-color: #ddd; margin: auto;'>\n              <div id='jspsych-loading-progress-bar' style='height: 10px; width: 0%; background-color: #777;'></div>\n            </div>"),t.innerHTML=m;const g=()=>{if(w++,e.show_progress_bar){var n=w/b*100,r=t.querySelector("#jspsych-loading-progress-bar");null!==r&&(r.style.width=n+"%")}},v=()=>{void 0!==r&&!1===r&&(this.jsPsych.pluginAPI.clearAllTimeouts(),this.jsPsych.pluginAPI.cancelPreloads(),n=!0,_())},y=()=>{this.jsPsych.pluginAPI.clearAllTimeouts(),this.jsPsych.pluginAPI.cancelPreloads(),t.innerHTML=e.error_message,e.show_detailed_errors&&(t.innerHTML+="<p><strong>Error details:</strong></p>",a.forEach((e=>{t.innerHTML+=e})))},_=()=>{this.jsPsych.pluginAPI.clearAllTimeouts();var e={success:n,timeout:r,failed_images:i,failed_audio:s,failed_video:o};t.innerHTML="",this.jsPsych.finishTrial(e)};null!==e.max_load_time&&this.jsPsych.pluginAPI.setTimeout((()=>{this.jsPsych.pluginAPI.cancelPreloads(),void 0===n||!1!==n&&null!==n||(r=!0,I<b&&(n=!1),E("timeout"),a.push("<p><strong>Loading timed out.</strong><br>Consider compressing your stimuli files, loading your files in smaller batches,<br>and/or increasing the <i>max_load_time</i> parameter.</p>"),e.continue_after_error?_():y())}),e.max_load_time);var b=l.length+c.length+h.length,w=0,I=0;if(0==b)v();else{const t=t=>{this.jsPsych.pluginAPI.preloadVideo(h,t,T,P)},e=t=>{this.jsPsych.pluginAPI.preloadAudio(c,t,T,P)},n=t=>{this.jsPsych.pluginAPI.preloadImages(l,t,T,P)};h.length>0&&t((()=>{})),c.length>0&&e((()=>{})),l.length>0&&n((()=>{}))}function P(t){g(),null==n&&(n=!1);var r="unknown file";t.source&&(r=t.source),t.error&&t.error.path&&t.error.path.length>0&&("img"==t.error.path[0].localName?i.push(r):"audio"==t.error.path[0].localName?s.push(r):"video"==t.error.path[0].localName&&o.push(r));var u="<p><strong>Error loading file: "+r+"</strong><br>";t.error.statusText&&(u+="File request response status: "+t.error.statusText+"<br>"),"404"==t.error&&(u+="404 - file not found.<br>"),void 0!==t.error.loaded&&null!==t.error.loaded&&0!==t.error.loaded?u+=t.error.loaded+" bytes transferred.":u+="File did not begin loading. Check that file path is correct and reachable by the browser,<br>and that loading is not blocked by cross-origin resource sharing (CORS) errors.",u+="</p>",a.push(u),E(r),w==b&&(e.continue_after_error?_():y())}function T(t){g(),function(t){null!==e.on_success&&e.on_success(t)}(t),++I==b?v():w==b&&(e.continue_after_error?_():y())}function E(t){null!==e.on_error&&e.on_error(t)}}simulate(t,e,n,r){"data-only"==e&&(r(),this.simulate_data_only(t,n)),"visual"==e&&this.simulate_visual(t,n,r)}create_simulation_data(t,e){return this.jsPsych.pluginAPI.mergeSimulationData({success:!0,timeout:!1,failed_images:[],failed_audio:[],failed_video:[]},e)}simulate_data_only(t,e){const n=this.create_simulation_data(t,e);this.jsPsych.finishTrial(n)}simulate_visual(t,e,n){const r=this.jsPsych.getDisplayElement();this.trial(r,t),n()}}pt.info=ft;var mt=[{stimulus:"assets/rating_stimuli/PG 2007 07 00941.jpeg"},{stimulus:"assets/rating_stimuli/PB272272.jpeg"},{stimulus:"assets/rating_stimuli/PC130359.jpeg"},{stimulus:"assets/rating_stimuli/306 12 09 20 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090625 Roll 00135 Frame 7.jpeg"},{stimulus:"assets/rating_stimuli/IMG_8851.jpeg"},{stimulus:"assets/rating_stimuli/181214 410 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100529 Roll 00189 Frame 8.jpeg"},{stimulus:"assets/rating_stimuli/IMG_9194.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-20 0407.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-20 0373.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-24 0521.jpeg"},{stimulus:"assets/rating_stimuli/301 12 09 20 07.jpeg"},{stimulus:"assets/rating_stimuli/PG 2005 05 00216.jpeg"},{stimulus:"assets/rating_stimuli/PG 2009-05-04 00778.jpeg"},{stimulus:"assets/rating_stimuli/PC081394.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 01138.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 00419.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090516 Roll 00079 Frame 8.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090219 Roll 0027 Frame 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 091010 Roll 00161 Frame 2.jpeg"},{stimulus:"assets/rating_stimuli/140929 332 07.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100529 Roll 00193 Frame 8.jpeg"},{stimulus:"assets/rating_stimuli/Rocky Creek 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090518 Roll 0098 Frame 3.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-20 0366.jpeg"},{stimulus:"assets/rating_stimuli/190418 417 05.jpeg"},{stimulus:"assets/rating_stimuli/IMG_3833.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 110612 Roll 00247 Frame 4.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 03 01534.jpeg"},{stimulus:"assets/rating_stimuli/181214 412 04.jpeg"},{stimulus:"assets/rating_stimuli/IMG_1849.jpeg"},{stimulus:"assets/rating_stimuli/PC130349.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090512 Roll 00067 Frame 5.jpeg"},{stimulus:"assets/rating_stimuli/449 221204 04.jpeg"},{stimulus:"assets/rating_stimuli/P9290012.jpeg"},{stimulus:"assets/rating_stimuli/181214 411 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 06 02373.jpeg"},{stimulus:"assets/rating_stimuli/BQECR 2.jpeg"},{stimulus:"assets/rating_stimuli/150514 338 10.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 07 02805.jpeg"},{stimulus:"assets/rating_stimuli/180810 403 08.jpeg"},{stimulus:"assets/rating_stimuli/190609 421 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 06 02181.jpeg"},{stimulus:"assets/rating_stimuli/Hobrigg Switzerland 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007 07 00655.jpeg"},{stimulus:"assets/rating_stimuli/PG 2004 04 00429.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-08-26 1490.jpeg"},{stimulus:"assets/rating_stimuli/IMG_1017.jpeg"},{stimulus:"assets/rating_stimuli/PC081393.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090317 Roll 0050 Frame 2.jpeg"},{stimulus:"assets/rating_stimuli/PG 2005 10 00729.jpeg"},{stimulus:"assets/rating_stimuli/160509 369 01.jpeg"},{stimulus:"assets/rating_stimuli/190415 413 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 091010 Roll 00159 Frame 6.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 00936.jpeg"},{stimulus:"assets/rating_stimuli/438 220917 07.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100529 Roll 00192 Frame 1.jpeg"},{stimulus:"assets/rating_stimuli/140923 325 06.jpeg"}],gt=[{stimulus:"assets/rating_stimuli/PG 2007 07 00941.jpeg"},{stimulus:"assets/rating_stimuli/PB272272.jpeg"},{stimulus:"assets/rating_stimuli/PC130359.jpeg"},{stimulus:"assets/rating_stimuli/306 12 09 20 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090625 Roll 00135 Frame 7.jpeg"},{stimulus:"assets/rating_stimuli/IMG_8851.jpeg"},{stimulus:"assets/rating_stimuli/181214 410 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100529 Roll 00189 Frame 8.jpeg"},{stimulus:"assets/rating_stimuli/IMG_9194.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-20 0407.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-20 0373.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-24 0521.jpeg"},{stimulus:"assets/rating_stimuli/301 12 09 20 07.jpeg"},{stimulus:"assets/rating_stimuli/PG 2005 05 00216.jpeg"},{stimulus:"assets/rating_stimuli/PG 2009-05-04 00778.jpeg"},{stimulus:"assets/rating_stimuli/PC081394.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 01138.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 00419.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090516 Roll 00079 Frame 8.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090219 Roll 0027 Frame 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 091010 Roll 00161 Frame 2.jpeg"},{stimulus:"assets/rating_stimuli/140929 332 07.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100529 Roll 00193 Frame 8.jpeg"},{stimulus:"assets/rating_stimuli/Rocky Creek 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090518 Roll 0098 Frame 3.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-20 0366.jpeg"},{stimulus:"assets/rating_stimuli/190418 417 05.jpeg"},{stimulus:"assets/rating_stimuli/IMG_3833.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 110612 Roll 00247 Frame 4.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 03 01534.jpeg"},{stimulus:"assets/rating_stimuli/181214 412 04.jpeg"},{stimulus:"assets/rating_stimuli/IMG_1849.jpeg"},{stimulus:"assets/rating_stimuli/PC130349.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090512 Roll 00067 Frame 5.jpeg"},{stimulus:"assets/rating_stimuli/449 221204 04.jpeg"},{stimulus:"assets/rating_stimuli/P9290012.jpeg"},{stimulus:"assets/rating_stimuli/181214 411 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 06 02373.jpeg"},{stimulus:"assets/rating_stimuli/BQECR 2.jpeg"},{stimulus:"assets/rating_stimuli/150514 338 10.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 07 02805.jpeg"},{stimulus:"assets/rating_stimuli/180810 403 08.jpeg"},{stimulus:"assets/rating_stimuli/190609 421 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 06 02181.jpeg"},{stimulus:"assets/rating_stimuli/Hobrigg Switzerland 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007 07 00655.jpeg"},{stimulus:"assets/rating_stimuli/PG 2004 04 00429.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-08-26 1490.jpeg"},{stimulus:"assets/rating_stimuli/IMG_1017.jpeg"},{stimulus:"assets/rating_stimuli/PC081393.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090317 Roll 0050 Frame 2.jpeg"},{stimulus:"assets/rating_stimuli/PG 2005 10 00729.jpeg"},{stimulus:"assets/rating_stimuli/160509 369 01.jpeg"},{stimulus:"assets/rating_stimuli/190415 413 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 091010 Roll 00159 Frame 6.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 00936.jpeg"},{stimulus:"assets/rating_stimuli/438 220917 07.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100529 Roll 00192 Frame 1.jpeg"},{stimulus:"assets/rating_stimuli/140923 325 06.jpeg"}],vt=[{stimulus:"assets/rating_stimuli/180501 387 04.jpeg"},{stimulus:"assets/rating_stimuli/PG 2005 10 00729.jpeg"},{stimulus:"assets/rating_stimuli/180813 405 09.jpeg"},{stimulus:"assets/rating_stimuli/PC081394.jpeg"},{stimulus:"assets/rating_stimuli/301 12 09 20 07.jpeg"},{stimulus:"assets/rating_stimuli/P9290012.jpeg"},{stimulus:"assets/rating_stimuli/IMG_8761.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100515 Roll 00188 Frame 2.jpeg"},{stimulus:"assets/rating_stimuli/PC150540.jpeg"},{stimulus:"assets/rating_stimuli/180814 408 04.jpeg"},{stimulus:"assets/rating_stimuli/IMG_3833.jpeg"},{stimulus:"assets/rating_stimuli/180610 392 06.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 06 02099.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 00483.jpeg"},{stimulus:"assets/rating_stimuli/131117 315 10.jpeg"},{stimulus:"assets/rating_stimuli/131117 316 06.jpeg"},{stimulus:"assets/rating_stimuli/PG 2003 09 00805.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007 07 00655.jpeg"},{stimulus:"assets/rating_stimuli/439 220920 04.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090624 Roll 00134 Frame 1.jpeg"},{stimulus:"assets/rating_stimuli/IMG_1561.jpeg"},{stimulus:"assets/rating_stimuli/PC150535.jpeg"},{stimulus:"assets/rating_stimuli/180814 407 10.jpeg"},{stimulus:"assets/rating_stimuli/130918 311 05.jpeg"},{stimulus:"assets/rating_stimuli/PG 2009-05-04 00778.jpeg"},{stimulus:"assets/rating_stimuli/190418 417 05.jpeg"},{stimulus:"assets/rating_stimuli/151201 362 10.jpeg"},{stimulus:"assets/rating_stimuli/140927 329 07.jpeg"},{stimulus:"assets/rating_stimuli/284 12 05 05 0001.jpeg"},{stimulus:"assets/rating_stimuli/180810 403 08.jpeg"},{stimulus:"assets/rating_stimuli/434 210912 03.jpeg"},{stimulus:"assets/rating_stimuli/190609 421 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090317 Roll 0050 Frame 2.jpeg"},{stimulus:"assets/rating_stimuli/PC081393.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090625 Roll 00135 Frame 7.jpeg"},{stimulus:"assets/rating_stimuli/160509 369 01.jpeg"},{stimulus:"assets/rating_stimuli/PC130359.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-24 0521.jpeg"},{stimulus:"assets/rating_stimuli/304 12 09 20 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-08-26 1490.jpeg"},{stimulus:"assets/rating_stimuli/PG 2005 10 00747.jpeg"},{stimulus:"assets/rating_stimuli/IMG_9194.jpeg"},{stimulus:"assets/rating_stimuli/PG 2004 04 00429.jpeg"},{stimulus:"assets/rating_stimuli/PB272272.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 091010 Roll 00161 Frame 2.jpeg"},{stimulus:"assets/rating_stimuli/291 12 06 14 0006.jpeg"},{stimulus:"assets/rating_stimuli/140929 332 09.jpeg"},{stimulus:"assets/rating_stimuli/306 12 09 20 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 2004 09 01184.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100529 Roll 00192 Frame 1.jpeg"},{stimulus:"assets/rating_stimuli/440 220926 06.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-20 0407.jpeg"},{stimulus:"assets/rating_stimuli/446 221203 09.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 06 02022.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 07 02805.jpeg"},{stimulus:"assets/rating_stimuli/449 221204 04.jpeg"},{stimulus:"assets/rating_stimuli/130918 311 07.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 110703 Roll 00259 Frame 3.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 110601 Roll 00242 Frame 2.jpeg"}],yt=[{stimulus:"assets/rating_stimuli/438 220917 07.jpeg"},{stimulus:"assets/rating_stimuli/442 220928 01.jpeg"},{stimulus:"assets/rating_stimuli/446 221203 03.jpeg"},{stimulus:"assets/rating_stimuli/140923 325 06.jpeg"},{stimulus:"assets/rating_stimuli/140929 332 07.jpeg"},{stimulus:"assets/rating_stimuli/150514 338 10.jpeg"},{stimulus:"assets/rating_stimuli/150518 347 07.jpeg"},{stimulus:"assets/rating_stimuli/160509 368 10.jpeg"},{stimulus:"assets/rating_stimuli/180621 397 08.jpeg"},{stimulus:"assets/rating_stimuli/181214 410 01.jpeg"},{stimulus:"assets/rating_stimuli/181214 411 01.jpeg"},{stimulus:"assets/rating_stimuli/181214 412 04.jpeg"},{stimulus:"assets/rating_stimuli/190415 413 01.jpeg"},{stimulus:"assets/rating_stimuli/190609 422 10.jpeg"},{stimulus:"assets/rating_stimuli/BQECR 2.jpeg"},{stimulus:"assets/rating_stimuli/Hobrigg Switzerland 1.jpeg"},{stimulus:"assets/rating_stimuli/IMG_1017.jpeg"},{stimulus:"assets/rating_stimuli/IMG_1849.jpeg"},{stimulus:"assets/rating_stimuli/IMG_2833.jpeg"},{stimulus:"assets/rating_stimuli/IMG_8851.jpeg"},{stimulus:"assets/rating_stimuli/IMG_9188.jpeg"},{stimulus:"assets/rating_stimuli/IMG_9238.jpeg"},{stimulus:"assets/rating_stimuli/P9121818.jpeg"},{stimulus:"assets/rating_stimuli/P9121832.jpeg"},{stimulus:"assets/rating_stimuli/P9281055.jpeg"},{stimulus:"assets/rating_stimuli/PC130318.jpeg"},{stimulus:"assets/rating_stimuli/PC130349.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090219 Roll 0027 Frame 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090219 Roll 0027 Frame 7.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090221 Roll 0032 Frame 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090512 Roll 00067 Frame 5.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090516 Roll 00079 Frame 8.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090516 Roll 00080 Frame 3.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090518 Roll 0098 Frame 3.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090623 Roll 00123 Frame 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090624 Roll 00126 Frame 5.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090624 Roll 00133 Frame 7.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090802 Roll 00157 Frame 4.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090829 Roll 00158 Frame 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 091010 Roll 00159 Frame 6.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100529 Roll 00189 Frame 8.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100529 Roll 00193 Frame 8.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100802 Roll 00207 Frame 2.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 110612 Roll 00247 Frame 4.jpeg"},{stimulus:"assets/rating_stimuli/PG 2005 05 00216.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007 07 00941.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-20 0366.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-20 0373.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-10-06 1671.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 00419.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 00936.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 01138.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 01255.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 03 01534.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 06 02181.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 06 02373.jpeg"},{stimulus:"assets/rating_stimuli/Rocky Creek 1.jpeg"},{stimulus:"assets/rating_stimuli/280 12 05 01 0002.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090205 Roll 0019 Frame 1.jpeg"}],_t=[{stimulus:"assets/rating_stimuli/PG 2007 07 00941.jpeg"},{stimulus:"assets/rating_stimuli/PB272272.jpeg"},{stimulus:"assets/rating_stimuli/PC130359.jpeg"},{stimulus:"assets/rating_stimuli/306 12 09 20 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090625 Roll 00135 Frame 7.jpeg"},{stimulus:"assets/rating_stimuli/IMG_8851.jpeg"},{stimulus:"assets/rating_stimuli/181214 410 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100529 Roll 00189 Frame 8.jpeg"},{stimulus:"assets/rating_stimuli/IMG_9194.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-20 0407.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-20 0373.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-24 0521.jpeg"},{stimulus:"assets/rating_stimuli/301 12 09 20 07.jpeg"},{stimulus:"assets/rating_stimuli/PG 2005 05 00216.jpeg"},{stimulus:"assets/rating_stimuli/PG 2009-05-04 00778.jpeg"},{stimulus:"assets/rating_stimuli/PC081394.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 01138.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 00419.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090516 Roll 00079 Frame 8.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090219 Roll 0027 Frame 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 091010 Roll 00161 Frame 2.jpeg"},{stimulus:"assets/rating_stimuli/140929 332 07.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100529 Roll 00193 Frame 8.jpeg"},{stimulus:"assets/rating_stimuli/Rocky Creek 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090518 Roll 0098 Frame 3.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-20 0366.jpeg"},{stimulus:"assets/rating_stimuli/190418 417 05.jpeg"},{stimulus:"assets/rating_stimuli/IMG_3833.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 110612 Roll 00247 Frame 4.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 03 01534.jpeg"},{stimulus:"assets/rating_stimuli/181214 412 04.jpeg"},{stimulus:"assets/rating_stimuli/IMG_1849.jpeg"},{stimulus:"assets/rating_stimuli/PC130349.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090512 Roll 00067 Frame 5.jpeg"},{stimulus:"assets/rating_stimuli/449 221204 04.jpeg"},{stimulus:"assets/rating_stimuli/P9290012.jpeg"},{stimulus:"assets/rating_stimuli/181214 411 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 06 02373.jpeg"},{stimulus:"assets/rating_stimuli/BQECR 2.jpeg"},{stimulus:"assets/rating_stimuli/150514 338 10.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 07 02805.jpeg"},{stimulus:"assets/rating_stimuli/180810 403 08.jpeg"},{stimulus:"assets/rating_stimuli/190609 421 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 06 02181.jpeg"},{stimulus:"assets/rating_stimuli/Hobrigg Switzerland 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007 07 00655.jpeg"},{stimulus:"assets/rating_stimuli/PG 2004 04 00429.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-08-26 1490.jpeg"},{stimulus:"assets/rating_stimuli/IMG_1017.jpeg"},{stimulus:"assets/rating_stimuli/PC081393.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090317 Roll 0050 Frame 2.jpeg"},{stimulus:"assets/rating_stimuli/PG 2005 10 00729.jpeg"},{stimulus:"assets/rating_stimuli/160509 369 01.jpeg"},{stimulus:"assets/rating_stimuli/190415 413 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 091010 Roll 00159 Frame 6.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 00936.jpeg"},{stimulus:"assets/rating_stimuli/438 220917 07.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100529 Roll 00192 Frame 1.jpeg"},{stimulus:"assets/rating_stimuli/140923 325 06.jpeg"}],bt=[{stimulus:"assets/rating_stimuli/PG 2007 07 00941.jpeg"},{stimulus:"assets/rating_stimuli/PB272272.jpeg"},{stimulus:"assets/rating_stimuli/PC130359.jpeg"},{stimulus:"assets/rating_stimuli/306 12 09 20 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090625 Roll 00135 Frame 7.jpeg"},{stimulus:"assets/rating_stimuli/IMG_8851.jpeg"},{stimulus:"assets/rating_stimuli/181214 410 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100529 Roll 00189 Frame 8.jpeg"},{stimulus:"assets/rating_stimuli/IMG_9194.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-20 0407.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-20 0373.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-24 0521.jpeg"},{stimulus:"assets/rating_stimuli/301 12 09 20 07.jpeg"},{stimulus:"assets/rating_stimuli/PG 2005 05 00216.jpeg"},{stimulus:"assets/rating_stimuli/PG 2009-05-04 00778.jpeg"},{stimulus:"assets/rating_stimuli/PC081394.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 01138.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 00419.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090516 Roll 00079 Frame 8.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090219 Roll 0027 Frame 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 091010 Roll 00161 Frame 2.jpeg"},{stimulus:"assets/rating_stimuli/140929 332 07.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100529 Roll 00193 Frame 8.jpeg"},{stimulus:"assets/rating_stimuli/Rocky Creek 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090518 Roll 0098 Frame 3.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-20 0366.jpeg"},{stimulus:"assets/rating_stimuli/190418 417 05.jpeg"},{stimulus:"assets/rating_stimuli/IMG_3833.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 110612 Roll 00247 Frame 4.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 03 01534.jpeg"},{stimulus:"assets/rating_stimuli/181214 412 04.jpeg"},{stimulus:"assets/rating_stimuli/IMG_1849.jpeg"},{stimulus:"assets/rating_stimuli/PC130349.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090512 Roll 00067 Frame 5.jpeg"},{stimulus:"assets/rating_stimuli/449 221204 04.jpeg"},{stimulus:"assets/rating_stimuli/P9290012.jpeg"},{stimulus:"assets/rating_stimuli/181214 411 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 06 02373.jpeg"},{stimulus:"assets/rating_stimuli/BQECR 2.jpeg"},{stimulus:"assets/rating_stimuli/150514 338 10.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 07 02805.jpeg"},{stimulus:"assets/rating_stimuli/180810 403 08.jpeg"},{stimulus:"assets/rating_stimuli/190609 421 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 06 02181.jpeg"},{stimulus:"assets/rating_stimuli/Hobrigg Switzerland 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007 07 00655.jpeg"},{stimulus:"assets/rating_stimuli/PG 2004 04 00429.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-08-26 1490.jpeg"},{stimulus:"assets/rating_stimuli/IMG_1017.jpeg"},{stimulus:"assets/rating_stimuli/PC081393.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090317 Roll 0050 Frame 2.jpeg"},{stimulus:"assets/rating_stimuli/PG 2005 10 00729.jpeg"},{stimulus:"assets/rating_stimuli/160509 369 01.jpeg"},{stimulus:"assets/rating_stimuli/190415 413 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 091010 Roll 00159 Frame 6.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 00936.jpeg"},{stimulus:"assets/rating_stimuli/438 220917 07.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100529 Roll 00192 Frame 1.jpeg"},{stimulus:"assets/rating_stimuli/140923 325 06.jpeg"}],wt=[{stimulus:"assets/rating_stimuli/PG 2007 07 00941.jpeg"},{stimulus:"assets/rating_stimuli/PB272272.jpeg"},{stimulus:"assets/rating_stimuli/PC130359.jpeg"},{stimulus:"assets/rating_stimuli/306 12 09 20 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090625 Roll 00135 Frame 7.jpeg"},{stimulus:"assets/rating_stimuli/IMG_8851.jpeg"},{stimulus:"assets/rating_stimuli/181214 410 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100529 Roll 00189 Frame 8.jpeg"},{stimulus:"assets/rating_stimuli/IMG_9194.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-20 0407.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-20 0373.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-24 0521.jpeg"},{stimulus:"assets/rating_stimuli/301 12 09 20 07.jpeg"},{stimulus:"assets/rating_stimuli/PG 2005 05 00216.jpeg"},{stimulus:"assets/rating_stimuli/PG 2009-05-04 00778.jpeg"},{stimulus:"assets/rating_stimuli/PC081394.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 01138.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 00419.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090516 Roll 00079 Frame 8.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090219 Roll 0027 Frame 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 091010 Roll 00161 Frame 2.jpeg"},{stimulus:"assets/rating_stimuli/140929 332 07.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100529 Roll 00193 Frame 8.jpeg"},{stimulus:"assets/rating_stimuli/Rocky Creek 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090518 Roll 0098 Frame 3.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-20 0366.jpeg"},{stimulus:"assets/rating_stimuli/190418 417 05.jpeg"},{stimulus:"assets/rating_stimuli/IMG_3833.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 110612 Roll 00247 Frame 4.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 03 01534.jpeg"},{stimulus:"assets/rating_stimuli/181214 412 04.jpeg"},{stimulus:"assets/rating_stimuli/IMG_1849.jpeg"},{stimulus:"assets/rating_stimuli/PC130349.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090512 Roll 00067 Frame 5.jpeg"},{stimulus:"assets/rating_stimuli/449 221204 04.jpeg"},{stimulus:"assets/rating_stimuli/P9290012.jpeg"},{stimulus:"assets/rating_stimuli/181214 411 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 06 02373.jpeg"},{stimulus:"assets/rating_stimuli/BQECR 2.jpeg"},{stimulus:"assets/rating_stimuli/150514 338 10.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 07 02805.jpeg"},{stimulus:"assets/rating_stimuli/180810 403 08.jpeg"},{stimulus:"assets/rating_stimuli/190609 421 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 06 02181.jpeg"},{stimulus:"assets/rating_stimuli/Hobrigg Switzerland 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007 07 00655.jpeg"},{stimulus:"assets/rating_stimuli/PG 2004 04 00429.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-08-26 1490.jpeg"},{stimulus:"assets/rating_stimuli/IMG_1017.jpeg"},{stimulus:"assets/rating_stimuli/PC081393.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090317 Roll 0050 Frame 2.jpeg"},{stimulus:"assets/rating_stimuli/PG 2005 10 00729.jpeg"},{stimulus:"assets/rating_stimuli/160509 369 01.jpeg"},{stimulus:"assets/rating_stimuli/190415 413 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 091010 Roll 00159 Frame 6.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 00936.jpeg"},{stimulus:"assets/rating_stimuli/438 220917 07.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100529 Roll 00192 Frame 1.jpeg"},{stimulus:"assets/rating_stimuli/140923 325 06.jpeg"}],It=[{stimulus:"assets/rating_stimuli/PG 2007 07 00941.jpeg"},{stimulus:"assets/rating_stimuli/PB272272.jpeg"},{stimulus:"assets/rating_stimuli/PC130359.jpeg"},{stimulus:"assets/rating_stimuli/306 12 09 20 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090625 Roll 00135 Frame 7.jpeg"},{stimulus:"assets/rating_stimuli/IMG_8851.jpeg"},{stimulus:"assets/rating_stimuli/181214 410 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100529 Roll 00189 Frame 8.jpeg"},{stimulus:"assets/rating_stimuli/IMG_9194.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-20 0407.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-20 0373.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-24 0521.jpeg"},{stimulus:"assets/rating_stimuli/301 12 09 20 07.jpeg"},{stimulus:"assets/rating_stimuli/PG 2005 05 00216.jpeg"},{stimulus:"assets/rating_stimuli/PG 2009-05-04 00778.jpeg"},{stimulus:"assets/rating_stimuli/PC081394.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 01138.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 00419.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090516 Roll 00079 Frame 8.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090219 Roll 0027 Frame 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 091010 Roll 00161 Frame 2.jpeg"},{stimulus:"assets/rating_stimuli/140929 332 07.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100529 Roll 00193 Frame 8.jpeg"},{stimulus:"assets/rating_stimuli/Rocky Creek 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090518 Roll 0098 Frame 3.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-20 0366.jpeg"},{stimulus:"assets/rating_stimuli/190418 417 05.jpeg"},{stimulus:"assets/rating_stimuli/IMG_3833.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 110612 Roll 00247 Frame 4.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 03 01534.jpeg"},{stimulus:"assets/rating_stimuli/181214 412 04.jpeg"},{stimulus:"assets/rating_stimuli/IMG_1849.jpeg"},{stimulus:"assets/rating_stimuli/PC130349.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090512 Roll 00067 Frame 5.jpeg"},{stimulus:"assets/rating_stimuli/449 221204 04.jpeg"},{stimulus:"assets/rating_stimuli/P9290012.jpeg"},{stimulus:"assets/rating_stimuli/181214 411 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 06 02373.jpeg"},{stimulus:"assets/rating_stimuli/BQECR 2.jpeg"},{stimulus:"assets/rating_stimuli/150514 338 10.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 07 02805.jpeg"},{stimulus:"assets/rating_stimuli/180810 403 08.jpeg"},{stimulus:"assets/rating_stimuli/190609 421 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 06 02181.jpeg"},{stimulus:"assets/rating_stimuli/Hobrigg Switzerland 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007 07 00655.jpeg"},{stimulus:"assets/rating_stimuli/PG 2004 04 00429.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-08-26 1490.jpeg"},{stimulus:"assets/rating_stimuli/IMG_1017.jpeg"},{stimulus:"assets/rating_stimuli/PC081393.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090317 Roll 0050 Frame 2.jpeg"},{stimulus:"assets/rating_stimuli/PG 2005 10 00729.jpeg"},{stimulus:"assets/rating_stimuli/160509 369 01.jpeg"},{stimulus:"assets/rating_stimuli/190415 413 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 091010 Roll 00159 Frame 6.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 00936.jpeg"},{stimulus:"assets/rating_stimuli/438 220917 07.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100529 Roll 00192 Frame 1.jpeg"},{stimulus:"assets/rating_stimuli/140923 325 06.jpeg"}],Pt=[{stimulus:"assets/rating_stimuli/PG 2007 07 00941.jpeg"},{stimulus:"assets/rating_stimuli/PB272272.jpeg"},{stimulus:"assets/rating_stimuli/PC130359.jpeg"},{stimulus:"assets/rating_stimuli/306 12 09 20 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090625 Roll 00135 Frame 7.jpeg"},{stimulus:"assets/rating_stimuli/IMG_8851.jpeg"},{stimulus:"assets/rating_stimuli/181214 410 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100529 Roll 00189 Frame 8.jpeg"},{stimulus:"assets/rating_stimuli/IMG_9194.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-20 0407.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-20 0373.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-24 0521.jpeg"},{stimulus:"assets/rating_stimuli/301 12 09 20 07.jpeg"},{stimulus:"assets/rating_stimuli/PG 2005 05 00216.jpeg"},{stimulus:"assets/rating_stimuli/PG 2009-05-04 00778.jpeg"},{stimulus:"assets/rating_stimuli/PC081394.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 01138.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 00419.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090516 Roll 00079 Frame 8.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090219 Roll 0027 Frame 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 091010 Roll 00161 Frame 2.jpeg"},{stimulus:"assets/rating_stimuli/140929 332 07.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100529 Roll 00193 Frame 8.jpeg"},{stimulus:"assets/rating_stimuli/Rocky Creek 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090518 Roll 0098 Frame 3.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-20 0366.jpeg"},{stimulus:"assets/rating_stimuli/190418 417 05.jpeg"},{stimulus:"assets/rating_stimuli/IMG_3833.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 110612 Roll 00247 Frame 4.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 03 01534.jpeg"},{stimulus:"assets/rating_stimuli/181214 412 04.jpeg"},{stimulus:"assets/rating_stimuli/IMG_1849.jpeg"},{stimulus:"assets/rating_stimuli/PC130349.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090512 Roll 00067 Frame 5.jpeg"},{stimulus:"assets/rating_stimuli/449 221204 04.jpeg"},{stimulus:"assets/rating_stimuli/P9290012.jpeg"},{stimulus:"assets/rating_stimuli/181214 411 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 06 02373.jpeg"},{stimulus:"assets/rating_stimuli/BQECR 2.jpeg"},{stimulus:"assets/rating_stimuli/150514 338 10.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 07 02805.jpeg"},{stimulus:"assets/rating_stimuli/180810 403 08.jpeg"},{stimulus:"assets/rating_stimuli/190609 421 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 06 02181.jpeg"},{stimulus:"assets/rating_stimuli/Hobrigg Switzerland 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007 07 00655.jpeg"},{stimulus:"assets/rating_stimuli/PG 2004 04 00429.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-08-26 1490.jpeg"},{stimulus:"assets/rating_stimuli/IMG_1017.jpeg"},{stimulus:"assets/rating_stimuli/PC081393.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090317 Roll 0050 Frame 2.jpeg"},{stimulus:"assets/rating_stimuli/PG 2005 10 00729.jpeg"},{stimulus:"assets/rating_stimuli/160509 369 01.jpeg"},{stimulus:"assets/rating_stimuli/190415 413 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 091010 Roll 00159 Frame 6.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 00936.jpeg"},{stimulus:"assets/rating_stimuli/438 220917 07.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100529 Roll 00192 Frame 1.jpeg"},{stimulus:"assets/rating_stimuli/140923 325 06.jpeg"}],Tt=[{stimulus:"assets/rating_stimuli/PG 2007 07 00941.jpeg"},{stimulus:"assets/rating_stimuli/PB272272.jpeg"},{stimulus:"assets/rating_stimuli/PC130359.jpeg"},{stimulus:"assets/rating_stimuli/306 12 09 20 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090625 Roll 00135 Frame 7.jpeg"},{stimulus:"assets/rating_stimuli/IMG_8851.jpeg"},{stimulus:"assets/rating_stimuli/181214 410 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100529 Roll 00189 Frame 8.jpeg"},{stimulus:"assets/rating_stimuli/IMG_9194.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-20 0407.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-20 0373.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-24 0521.jpeg"},{stimulus:"assets/rating_stimuli/301 12 09 20 07.jpeg"},{stimulus:"assets/rating_stimuli/PG 2005 05 00216.jpeg"},{stimulus:"assets/rating_stimuli/PG 2009-05-04 00778.jpeg"},{stimulus:"assets/rating_stimuli/PC081394.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 01138.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 00419.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090516 Roll 00079 Frame 8.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090219 Roll 0027 Frame 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 091010 Roll 00161 Frame 2.jpeg"},{stimulus:"assets/rating_stimuli/140929 332 07.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100529 Roll 00193 Frame 8.jpeg"},{stimulus:"assets/rating_stimuli/Rocky Creek 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090518 Roll 0098 Frame 3.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-07-20 0366.jpeg"},{stimulus:"assets/rating_stimuli/190418 417 05.jpeg"},{stimulus:"assets/rating_stimuli/IMG_3833.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 110612 Roll 00247 Frame 4.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 03 01534.jpeg"},{stimulus:"assets/rating_stimuli/181214 412 04.jpeg"},{stimulus:"assets/rating_stimuli/IMG_1849.jpeg"},{stimulus:"assets/rating_stimuli/PC130349.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090512 Roll 00067 Frame 5.jpeg"},{stimulus:"assets/rating_stimuli/449 221204 04.jpeg"},{stimulus:"assets/rating_stimuli/P9290012.jpeg"},{stimulus:"assets/rating_stimuli/181214 411 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 06 02373.jpeg"},{stimulus:"assets/rating_stimuli/BQECR 2.jpeg"},{stimulus:"assets/rating_stimuli/150514 338 10.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 07 02805.jpeg"},{stimulus:"assets/rating_stimuli/180810 403 08.jpeg"},{stimulus:"assets/rating_stimuli/190609 421 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 06 02181.jpeg"},{stimulus:"assets/rating_stimuli/Hobrigg Switzerland 1.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007 07 00655.jpeg"},{stimulus:"assets/rating_stimuli/PG 2004 04 00429.jpeg"},{stimulus:"assets/rating_stimuli/PG 2007-08-26 1490.jpeg"},{stimulus:"assets/rating_stimuli/IMG_1017.jpeg"},{stimulus:"assets/rating_stimuli/PC081393.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 090317 Roll 0050 Frame 2.jpeg"},{stimulus:"assets/rating_stimuli/PG 2005 10 00729.jpeg"},{stimulus:"assets/rating_stimuli/160509 369 01.jpeg"},{stimulus:"assets/rating_stimuli/190415 413 01.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 091010 Roll 00159 Frame 6.jpeg"},{stimulus:"assets/rating_stimuli/PG 2008 02 00936.jpeg"},{stimulus:"assets/rating_stimuli/438 220917 07.jpeg"},{stimulus:"assets/rating_stimuli/PG 120 100529 Roll 00192 Frame 1.jpeg"},{stimulus:"assets/rating_stimuli/140923 325 06.jpeg"}];const Et=function(t,e){if(!t)throw jt(e)},jt=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},kt=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},St={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let e=0;e<t.length;e+=3){const i=t[e],s=e+1<t.length,o=s?t[e+1]:0,a=e+2<t.length,u=a?t[e+2]:0,l=i>>2,c=(3&i)<<4|o>>4;let h=(15&o)<<2|u>>6,d=63&u;a||(d=64,s||(h=64)),r.push(n[l],n[c],n[h],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kt(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let e=0;e<t.length;){const i=n[t.charAt(e++)],s=e<t.length?n[t.charAt(e)]:0;++e;const o=e<t.length?n[t.charAt(e)]:64;++e;const a=e<t.length?n[t.charAt(e)]:64;if(++e,null==i||null==s||null==o||null==a)throw new xt;const u=i<<2|s>>4;if(r.push(u),64!==o){const t=s<<4&240|o>>2;if(r.push(t),64!==a){const t=o<<6&192|a;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ct=function(t){const e=kt(t);return St.encodeByteArray(e,!0)},Rt=function(t){return Ct(t).replace(/\./g,"")},Ot=function(t){try{return St.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function At(t){return Nt(void 0,t)}function Nt(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=Nt(t[n],e[n]));return t}const Lt=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=t&&Ot(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},Mt=t=>{var e,n;return null===(n=null===(e=Lt())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},Dt=t=>{const e=Mt(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ft=()=>{var t;return null===(t=Lt())||void 0===t?void 0:t.config},Gt=t=>{var e;return null===(e=Lt())||void 0===e?void 0:e[`_${t}`]};class Ut{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"==typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}function qt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Bt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function zt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}class Ht extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wt.prototype.create)}}class Wt{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},r=`${this.service}/${t}`,i=this.errors[t],s=i?function(t,e){return t.replace(Vt,((t,n)=>{const r=e[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new Ht(r,o,n)}}const Vt=/\{\$([^}]+)}/g;function Kt(t){return JSON.parse(t)}function $t(t){return JSON.stringify(t)}const Yt=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Kt(Ot(s[0])||""),n=Kt(Ot(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}};function Jt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Qt(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function Xt(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zt(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function te(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],s=e[i];if(ee(n)&&ee(s)){if(!te(n,s))return!1}else if(n!==s)return!1}for(const t of r)if(!n.includes(t))return!1;return!0}function ee(t){return null!==t&&"object"==typeof t}function ne(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach((t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function re(t){const e={};return t.replace(/^\?/,"").split("&").forEach((t=>{if(t){const[n,r]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(r)}})),e}function ie(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class se{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,e){e||(e=0);const n=this.W_;if("string"==typeof t)for(let r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(let r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(let t=16;t<80;t++){const e=n[t-3]^n[t-8]^n[t-14]^n[t-16];n[t]=4294967295&(e<<1|e>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],u=this.chain_[3],l=this.chain_[4];for(let t=0;t<80;t++){t<40?t<20?(r=u^o&(a^u),i=1518500249):(r=o^a^u,i=1859775393):t<60?(r=o&a|u&(o|a),i=2400959708):(r=o^a^u,i=3395469782);const e=(s<<5|s>>>27)+r+l+i+n[t]&4294967295;l=u,u=a,a=4294967295&(o<<30|o>>>2),o=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,e){if(null==t)return;void 0===e&&(e=t.length);const n=e-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<e;){if(0===s)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[s]=t.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<e;)if(i[s]=t[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=e}digest(){const t=[];let e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let t=this.blockSize-1;t>=56;t--)this.buf_[t]=255&e,e/=256;this.compress_(this.buf_);let n=0;for(let e=0;e<5;e++)for(let r=24;r>=0;r-=8)t[n]=this.chain_[e]>>r&255,++n;return t}}class oe{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,n){let r;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=function(t,e){if("object"!=typeof t||null===t)return!1;for(const e of["next","error","complete"])if(e in t&&"function"==typeof t[e])return!0;return!1}(t)?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=ae),void 0===r.error&&(r.error=ae),void 0===r.complete&&(r.complete=ae);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(t){}})),this.observers.push(r),i}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ae(){}function ue(t,e){return`${t} failed: ${e} argument `}const le=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function ce(t){return t&&t._delegate?t._delegate:t}class he{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const de="[DEFAULT]";class fe{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new Ut;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(t){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(t){if(r)return null;throw t}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:de})}catch(t){}for(const[t,e]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});e.resolve(t)}catch(t){}}}}clearInstance(t=de){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t=de){return this.instances.has(t)}getOptions(t=de){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[t,e]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(t)&&e.resolve(r);return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const r of n)try{r(t,e)}catch(t){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===de?void 0:r),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(t){}var r;return n||null}normalizeInstanceIdentifier(t=de){return this.component?this.component.multipleInstances?t:de:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new fe(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const me=[];var ge;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(ge||(ge={}));const ve={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},ye=ge.INFO,_e={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},be=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=_e[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class we{constructor(t){this.name=t,this._logLevel=ye,this._logHandler=be,this._userLogHandler=null,me.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ge))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?ve[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...t),this._logHandler(this,ge.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...t),this._logHandler(this,ge.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...t),this._logHandler(this,ge.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...t),this._logHandler(this,ge.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...t),this._logHandler(this,ge.ERROR,...t)}}const Ie=(t,e)=>e.some((e=>t instanceof e));let Pe,Te;const Ee=new WeakMap,je=new WeakMap,ke=new WeakMap,Se=new WeakMap,xe=new WeakMap;let Ce={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return je.get(t);if("objectStoreNames"===e)return t.objectStoreNames||ke.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oe(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t}};function Re(t){return"function"==typeof t?(e=t)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Te||(Te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(Ae(this),t),Oe(Ee.get(this))}:function(...t){return Oe(e.apply(Ae(this),t))}:function(t,...n){const r=e.call(Ae(this),t,...n);return ke.set(r,t.sort?t.sort():[t]),Oe(r)}:(t instanceof IDBTransaction&&function(t){if(je.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{e(),r()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)}));je.set(t,e)}(t),Ie(t,Pe||(Pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,Ce):t);var e}function Oe(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{e(Oe(t.result)),r()},s=()=>{n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",s)}));return e.then((e=>{e instanceof IDBCursor&&Ee.set(e,t)})).catch((()=>{})),xe.set(e,t),e}(t);if(Se.has(t))return Se.get(t);const e=Re(t);return e!==t&&(Se.set(t,e),xe.set(e,t)),e}const Ae=t=>xe.get(t),Ne=["get","getKey","getAll","getAllKeys","count"],Le=["put","add","delete","clear"],Me=new Map;function De(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Me.get(e))return Me.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Le.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ne.includes(n))return;const s=async function(t,...e){const s=this.transaction(t,i?"readwrite":"readonly");let o=s.store;return r&&(o=o.index(e.shift())),(await Promise.all([o[n](...e),i&&s.done]))[0]};return Me.set(e,s),s}var Fe;Fe=Ce,Ce={...Fe,get:(t,e,n)=>De(t,e)||Fe.get(t,e,n),has:(t,e)=>!!De(t,e)||Fe.has(t,e)};class Ge{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const Ue="@firebase/app",qe="0.9.10",Be=new we("@firebase/app"),ze="[DEFAULT]",He={[Ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},We=new Map,Ve=new Map;function Ke(t,e){try{t.container.addComponent(e)}catch(n){Be.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $e(t){const e=t.name;if(Ve.has(e))return Be.debug(`There were multiple attempts to register component ${e}.`),!1;Ve.set(e,t);for(const e of We.values())Ke(e,t);return!0}function Ye(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Je=new Wt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Qe{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new he("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Je.create("app-deleted",{appName:this._name})}}const Xe="9.22.0";function Ze(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:ze,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Je.create("bad-app-name",{appName:String(i)});if(n||(n=Ft()),!n)throw Je.create("no-options");const s=We.get(i);if(s){if(te(n,s.options)&&te(r,s.config))return s;throw Je.create("duplicate-app",{appName:i})}const o=new pe(i);for(const t of Ve.values())o.addComponent(t);const a=new Qe(n,r,o);return We.set(i,a),a}function tn(t=ze){const e=We.get(t);if(!e&&t===ze&&Ft())return Ze();if(!e)throw Je.create("no-app",{appName:t});return e}function en(t,e,n){var r;let i=null!==(r=He[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const t=[`Unable to register library "${i}" with version "${e}":`];return s&&t.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&t.push("and"),o&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Be.warn(t.join(" "))}$e(new he(`${i}-version`,(()=>({library:i,version:e})),"VERSION"))}const nn="firebase-heartbeat-database",rn=1,sn="firebase-heartbeat-store";let on=null;function an(){return on||(on=function(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Oe(o);return r&&o.addEventListener("upgradeneeded",(t=>{r(Oe(o.result),t.oldVersion,t.newVersion,Oe(o.transaction),t)})),n&&o.addEventListener("blocked",(t=>n(t.oldVersion,t.newVersion,t))),a.then((t=>{s&&t.addEventListener("close",(()=>s())),i&&t.addEventListener("versionchange",(t=>i(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),a}(nn,rn,{upgrade:(t,e)=>{0===e&&t.createObjectStore(sn)}}).catch((t=>{throw Je.create("idb-open",{originalErrorMessage:t.message})}))),on}async function un(t,e){try{const n=(await an()).transaction(sn,"readwrite"),r=n.objectStore(sn);await r.put(e,ln(t)),await n.done}catch(t){if(t instanceof Ht)Be.warn(t.message);else{const e=Je.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});Be.warn(e.message)}}}function ln(t){return`${t.name}!${t.options.appId}`}class cn{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new dn(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),e=hn();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==e&&!this._heartbeatsCache.heartbeats.some((t=>t.date===e)))return this._heartbeatsCache.heartbeats.push({date:e,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const t=hn(),{heartbeatsToSend:e,unsentEntries:n}=function(t,e=1024){const n=[];let r=t.slice();for(const i of t){const t=n.find((t=>t.agent===i.agent));if(t){if(t.dates.push(i.date),fn(n)>e){t.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fn(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Rt(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function hn(){return(new Date).toISOString().substring(0,10)}class dn{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(t){return!1}}()&&new Promise(((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}})).then((()=>!0)).catch((()=>!1))}async read(){return await this._canUseIndexedDBPromise&&await async function(t){try{const e=await an();return await e.transaction(sn).objectStore(sn).get(ln(t))}catch(t){if(t instanceof Ht)Be.warn(t.message);else{const e=Je.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});Be.warn(e.message)}}}(this.app)||{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return un(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return un(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function fn(t){return Rt(JSON.stringify({version:2,heartbeats:t})).length}$e(new he("platform-logger",(t=>new Ge(t)),"PRIVATE")),$e(new he("heartbeat",(t=>new cn(t)),"PRIVATE")),en(Ue,qe,""),en(Ue,qe,"esm2017"),en("fire-js",""),en("firebase","9.22.0","app");const pn="@firebase/database",mn="0.14.4";let gn="";class vn{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),$t(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Kt(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class yn{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return Jt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const _n=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new vn(e)}}catch(t){}return new yn},bn=_n("localStorage"),wn=_n("sessionStorage"),In=new we("@firebase/database"),Pn=function(){let t=1;return function(){return t++}}(),Tn=function(t){const e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const e=i-55296;r++,Et(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(e<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new se;n.update(e);const r=n.digest();return St.encodeByteArray(r)},En=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=En.apply(null,r):e+="object"==typeof r?$t(r):r,e+=" "}return e};let jn=null,kn=!0;const Sn=function(...t){if(!0===kn&&(kn=!1,null===jn&&!0===wn.get("logging_enabled")&&(e=!0,Et(!n||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(In.logLevel=ge.VERBOSE,jn=In.log.bind(In),n&&wn.set("logging_enabled",!0)):"function"==typeof e?jn=e:(jn=null,wn.remove("logging_enabled")))),jn){const e=En.apply(null,t);jn(e)}var e,n},xn=function(t){return function(...e){Sn(t,...e)}},Cn=function(...t){const e="FIREBASE INTERNAL ERROR: "+En(...t);In.error(e)},Rn=function(...t){const e=`FIREBASE FATAL ERROR: ${En(...t)}`;throw In.error(e),new Error(e)},On=function(...t){const e="FIREBASE WARNING: "+En(...t);In.warn(e)},An=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Nn="[MIN_NAME]",Ln="[MAX_NAME]",Mn=function(t,e){if(t===e)return 0;if(t===Nn||e===Ln)return-1;if(e===Nn||t===Ln)return 1;{const n=Hn(t),r=Hn(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},Dn=function(t,e){return t===e?0:t<e?-1:1},Fn=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+$t(e))},Gn=function(t){if("object"!=typeof t||null===t)return $t(t);const e=[];for(const n in t)e.push(n);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=$t(e[r]),n+=":",n+=Gn(t[e[r]]);return n+="}",n},Un=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function qn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Bn=function(t){Et(!An(t),"Invalid JSON number");let e,n,r,i,s;0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023),n=i+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));const o=[];for(s=52;s;s-=1)o.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(e?1:0),o.reverse();const a=o.join("");let u="";for(s=0;s<64;s+=8){let t=parseInt(a.substr(s,8),2).toString(16);1===t.length&&(t="0"+t),u+=t}return u.toLowerCase()},zn=new RegExp("^-?(0*)\\d{1,10}$"),Hn=function(t){if(zn.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Wn=function(t){try{t()}catch(t){setTimeout((()=>{const e=t.stack||"";throw On("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Vn=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class Kn{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then((t=>this.appCheck=t))}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise(((e,n)=>{setTimeout((()=>{this.appCheck?this.getToken(t).then(e,n):e(null)}),0)}))}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then((e=>e.addTokenListener(t)))}notifyForInvalidToken(){On(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class $n{constructor(t,e,n){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((t=>this.auth_=t))}getToken(t){return this.auth_?this.auth_.getToken(t).catch((t=>t&&"auth/token-not-initialized"===t.code?(Sn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t))):new Promise(((e,n)=>{setTimeout((()=>{this.auth_?this.getToken(t).then(e,n):e(null)}),0)}))}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then((e=>e.addAuthTokenListener(t)))}removeTokenChangeListener(t){this.authProvider_.get().then((e=>e.removeAuthTokenListener(t)))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',On(t)}}class Yn{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Yn.OWNER="owner";const Jn="5",Qn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Xn="ac",Zn="websocket",tr="long_polling";class er{constructor(t,e,n,r,i=!1,s="",o=!1,a=!1){this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=bn.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&bn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${e}`}}function nr(t,e,n){let r;if(Et("string"==typeof e,"typeof type must == string"),Et("object"==typeof n,"typeof params must == object"),e===Zn)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==tr)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return qn(n,((t,e)=>{i.push(t+"="+e)})),r+i.join("&")}class rr{constructor(){this.counters_={}}incrementCounter(t,e=1){Jt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return At(this.counters_)}}const ir={},sr={};function or(t){const e=t.toString();return ir[e]||(ir[e]=new rr),ir[e]}class ar{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const t=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let e=0;e<t.length;++e)t[e]&&Wn((()=>{this.onMessage_(t[e])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const ur="start";class lr{constructor(t,e,n,r,i,s,o){this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xn(t),this.stats_=or(e),this.urlFn=t=>(this.appCheckToken&&(t[Xn]=this.appCheckToken),nr(e,tr,t))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new ar(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new cr(((...t)=>{const[e,n,r,i,s]=t;if(this.incrementIncomingBytes_(t),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,e===ur)this.id=n,this.password=r;else{if("close"!==e)throw new Error("Unrecognized command received: "+e);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...t)=>{const[e,n]=t;this.incrementIncomingBytes_(t),this.myPacketOrderer.handleResponse(e,n)}),(()=>{this.onClosed_()}),this.urlFn);const t={};t[ur]="t",t.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=this.scriptTagHolder.uniqueCallbackIdentifier),t.v=Jn,this.transportSessionId&&(t.s=this.transportSessionId),this.lastSessionId&&(t.ls=this.lastSessionId),this.applicationId&&(t.p=this.applicationId),this.appCheckToken&&(t[Xn]=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Qn.test(location.hostname)&&(t.r="f");const e=this.urlFn(t);this.log_("Connecting via long-poll to "+e),this.scriptTagHolder.addTag(e,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){lr.forceAllow_=!0}static forceDisallow(){lr.forceDisallow_=!0}static isAvailable(){return!(!lr.forceAllow_&&(lr.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=$t(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const n=Ct(e),r=Un(n,1840);for(let t=0;t<r.length;t++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[t]),this.curSegmentNum++}addDisconnectPingFrame(t,e){this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=$t(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class cr{constructor(t,e,n,r){this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Pn(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=cr.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(n='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(t){Sn("frame writing exception"),t.stack&&Sn(t.stack),Sn(t)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Sn("No IE domain setting required")}catch(e){const n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const t=this.pendingSegs.shift();n=n+"&seg"+r+"="+t.seg+"&ts"+r+"="+t.ts+"&d"+r+"="+t.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const n=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(t,(()=>{clearTimeout(r),n()}))}addTag(t,e){setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=t,n.onload=n.onreadystatechange=function(){const t=n.readyState;t&&"loaded"!==t&&"complete"!==t||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),e())},n.onerror=()=>{Sn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(t){}}),Math.floor(1))}}let hr=null;"undefined"!=typeof MozWebSocket?hr=MozWebSocket:"undefined"!=typeof WebSocket&&(hr=WebSocket);class dr{constructor(t,e,n,r,i,s,o){this.connId=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xn(this.connId),this.stats_=or(e),this.connURL=dr.connectionURL_(e,s,o,r,n),this.nodeAdmin=e.nodeAdmin}static connectionURL_(t,e,n,r,i){const s={};return s.v=Jn,"undefined"!=typeof location&&location.hostname&&Qn.test(location.hostname)&&(s.r="f"),e&&(s.s=e),n&&(s.ls=n),r&&(s[Xn]=r),i&&(s.p=i),nr(t,Zn,s)}open(t,e){this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,bn.set("previous_websocket_failure",!0);try{let t;0,this.mySock=new hr(this.connURL,[],t)}catch(t){this.log_("Error instantiating WebSocket.");const e=t.message||t.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=t=>{this.handleIncomingFrame(t)},this.mySock.onerror=t=>{this.log_("WebSocket error.  Closing connection.");const e=t.message||t.data;e&&this.log_(e),this.onClosed_()}}start(){}static forceDisallow(){dr.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const e=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(e);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==hr&&!dr.forceDisallow_}static previouslyFailed(){return bn.isInMemoryStorage||!0===bn.get("previous_websocket_failure")}markConnectionHealthy(){bn.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const e=Kt(t);this.onMessage(e)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(Et(null===this.frames,"We already have a frame buffer"),t.length<=6){const e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{const t=this.extractFrameCount_(e);null!==t&&this.appendFrame_(t)}}send(t){this.resetKeepAlive();const e=$t(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const n=Un(e,16384);n.length>1&&this.sendString_(String(n.length));for(let t=0;t<n.length;t++)this.sendString_(n[t])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}dr.responsesRequiredToBeHealthy=2,dr.healthyTimeout=3e4;class fr{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[lr,dr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const e=dr&&dr.isAvailable();let n=e&&!dr.previouslyFailed();if(t.webSocketOnly&&(e||On("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[dr];else{const t=this.transports_=[];for(const e of fr.ALL_TRANSPORTS)e&&e.isAvailable()&&t.push(e);fr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}fr.globalTransportInitialized_=!1;class pr{constructor(t,e,n,r,i,s,o,a,u,l){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xn("c:"+this.id+":"),this.transportManager_=new fr(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(e,n)}),Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Vn((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){const e={t:"d",d:t};this.sendData_(e)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Fn("t",t),n=Fn("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Fn("t",t),n=Fn("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Fn("t",t);if("d"in t){const n=t.d;if("h"===e){const t=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(t.h=this.repoInfo_.host),this.onHandshake_(t)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let t=0;t<this.pendingDataMessages.length;++t)this.onDataMessage_(this.pendingDataMessages[t]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?Cn("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Cn("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),Jn!==n&&On("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,n),Vn((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Vn((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(bn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class mr{put(t,e,n,r){}merge(t,e,n,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,n){}onDisconnectMerge(t,e,n){}onDisconnectCancel(t,e){}reportStats(t){}}class gr{constructor(t){this.allowedEvents_=t,this.listeners_={},Et(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const n=[...this.listeners_[t]];for(let t=0;t<n.length;t++)n[t].callback.apply(n[t].context,e)}}on(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});const r=this.getInitialEvent(t);r&&e.apply(n,r)}off(t,e,n){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let t=0;t<r.length;t++)if(r[t].callback===e&&(!n||n===r[t].context))return void r.splice(t,1)}validateEventType_(t){Et(this.allowedEvents_.find((e=>e===t)),"Unknown event: "+t)}}class vr extends gr{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Bt()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new vr}getInitialEvent(t){return Et("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class yr{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let e=0;for(let t=0;t<this.pieces_.length;t++)this.pieces_[t].length>0&&(this.pieces_[e]=this.pieces_[t],e++);this.pieces_.length=e,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function _r(){return new yr("")}function br(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function wr(t){return t.pieces_.length-t.pieceNum_}function Ir(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new yr(t.pieces_,e)}function Pr(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Tr(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Er(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new yr(e,0)}function jr(t,e){const n=[];for(let e=t.pieceNum_;e<t.pieces_.length;e++)n.push(t.pieces_[e]);if(e instanceof yr)for(let t=e.pieceNum_;t<e.pieces_.length;t++)n.push(e.pieces_[t]);else{const t=e.split("/");for(let e=0;e<t.length;e++)t[e].length>0&&n.push(t[e])}return new yr(n,0)}function kr(t){return t.pieceNum_>=t.pieces_.length}function Sr(t,e){const n=br(t),r=br(e);if(null===n)return e;if(n===r)return Sr(Ir(t),Ir(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function xr(t,e){if(wr(t)!==wr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Cr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(wr(t)>wr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Rr{constructor(t,e){this.errorPrefix_=e,this.parts_=Tr(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let t=0;t<this.parts_.length;t++)this.byteLength_+=le(this.parts_[t]);Or(this)}}function Or(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ar(t))}function Ar(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class Nr extends gr{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,(()=>{const e=!document[t];e!==this.visible_&&(this.visible_=e,this.trigger("visible",e))}),!1)}static getInstance(){return new Nr}getInitialEvent(t){return Et("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Lr=1e3;class Mr extends mr{constructor(t,e,n,r,i,s,o,a){if(super(),this.repoInfo_=t,this.applicationId_=e,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.authOverride_=a,this.id=Mr.nextPersistentConnectionId_++,this.log_=xn("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Lr,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Nr.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&vr.getInstance().on("online",this.onOnline_,this)}sendRequest(t,e,n){const r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_($t(i)),Et(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(t){this.initConnection_();const e=new Ut,n={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:t=>{const n=t.d;"ok"===t.s?e.resolve(n):e.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),e.promise}listen(t,e,n,r){this.initConnection_();const i=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),Et(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Et(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(s).set(i,o),this.connected_&&this.sendListen_(o)}sendGet_(t){const e=this.outstandingGets_[t];this.sendRequest("g",e.request,(n=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),e.onComplete&&e.onComplete(n)}))}sendListen_(t){const e=t.query,n=e._path.toString(),r=e._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};t.tag&&(i.q=e._queryObject,i.t=t.tag),i.h=t.hashFn(),this.sendRequest("q",i,(i=>{const s=i.d,o=i.s;Mr.warnOnListenWarnings_(s,e),(this.listens.get(n)&&this.listens.get(n).get(r))===t&&(this.log_("listen response",i),"ok"!==o&&this.removeListen_(n,r),t.onComplete&&t.onComplete(o,s))}))}static warnOnListenWarnings_(t,e){if(t&&"object"==typeof t&&Jt(t,"w")){const n=Qt(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const t='".indexOn": "'+e._queryParams.getIndex().toString()+'"',n=e._path.toString();On(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${t} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(t){const e=Yt(t).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,e=function(t){const e=Yt(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")}(t)?"auth":"gauth",n={cred:t};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(e,n,(e=>{const n=e.s,r=e.d||"error";this.authToken_===t&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(t=>{const e=t.s,n=t.d||"error";"ok"===e?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(e,n)}))}unlisten(t,e){const n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Et(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)}sendUnlisten_(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);const i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})}onDisconnectMerge(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})}onDisconnectCancel(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})}sendOnDisconnect_(t,e,n,r){const i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(t=>{r&&setTimeout((()=>{r(t.s,t.d)}),Math.floor(0))}))}put(t,e,n,r){this.putInternal("p",t,e,n,r)}merge(t,e,n,r){this.putInternal("m",t,e,n,r)}putInternal(t,e,n,r,i){this.initConnection_();const s={p:e,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:t,request:s,onComplete:r}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+e)}sendPut_(t){const e=this.outstandingPuts_[t].action,n=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(e,n,(n=>{this.log_(e+" response",n),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(t){if(this.connected_){const e={c:t};this.log_("reportStats",e),this.sendRequest("s",e,(t=>{if("ok"!==t.s){const e=t.d;this.log_("reportStats","Error sending stats: "+e)}}))}}onDataMessage_(t){if("r"in t){this.log_("from server: "+$t(t));const e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):Cn("Unrecognized action received from server: "+$t(t)+"\nAre you using the latest client?")}onReady_(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){Et(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Lr,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Lr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Lr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),e=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Mr.nextConnectionId_++,i=this.lastSessionId;let s=!1,o=null;const a=function(){o?o.close():(s=!0,n())},u=function(t){Et(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(t)};this.realtime_={close:a,sendRequest:u};const l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,u]=await Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)]);s?Sn("getToken() completed but was canceled"):(Sn("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=u&&u.token,o=new pr(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,e,n,(t=>{On(t+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(t){this.log_("Failed to get token: "+t),s||(this.repoInfo_.nodeAdmin&&On(t),a())}}}interrupt(t){Sn("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Sn("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Xt(this.interruptReasons_)&&(this.reconnectDelay_=Lr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,e){let n;n=e?e.map((t=>Gn(t))).join("$"):"default";const r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(t,e){const n=new yr(t).toString();let r;if(this.listens.has(n)){const t=this.listens.get(n);r=t.get(e),t.delete(e),0===t.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(t,e){Sn("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,e){Sn("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const e of t.values())this.sendListen_(e);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let e="js";t["sdk."+e+"."+gn.replace(/\./g,"-")]=1,Bt()?t["framework.cordova"]=1:zt()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=vr.getInstance().currentlyOnline();return Xt(this.interruptReasons_)&&t}}Mr.nextPersistentConnectionId_=0,Mr.nextConnectionId_=0;class Dr{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Dr(t,e)}}class Fr{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const n=new Dr(Nn,t),r=new Dr(Nn,e);return 0!==this.compare(n,r)}minPost(){return Dr.MIN}}let Gr;class Ur extends Fr{static get __EMPTY_NODE(){return Gr}static set __EMPTY_NODE(t){Gr=t}compare(t,e){return Mn(t.name,e.name)}isDefinedOn(t){throw jt("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Dr.MIN}maxPost(){return new Dr(Ln,Gr)}makePost(t,e){return Et("string"==typeof t,"KeyIndex indexValue must always be a string."),new Dr(t,Gr)}toString(){return".key"}}const qr=new Ur;class Br{constructor(t,e,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(s=e?n(t.key,e):1,r&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class zr{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:zr.RED,this.left=null!=r?r:Hr.EMPTY_NODE,this.right=null!=i?i:Hr.EMPTY_NODE}copy(t,e,n,r,i){return new zr(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Hr.EMPTY_NODE;let t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,e){let n,r;if(n=this,e(t,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Hr.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}zr.RED=!0,zr.BLACK=!1;class Hr{constructor(t,e=Hr.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Hr(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,zr.BLACK,null,null))}remove(t){return new Hr(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,zr.BLACK,null,null))}get(t){let e,n=this.root_;for(;!n.isEmpty();){if(e=this.comparator_(t,n.key),0===e)return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null}getPredecessorKey(t){let e,n=this.root_,r=null;for(;!n.isEmpty();){if(e=this.comparator_(t,n.key),0===e){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Br(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Br(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Br(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Br(this.root_,null,this.comparator_,!0,t)}}function Wr(t,e){return Mn(t.name,e.name)}function Vr(t,e){return Mn(t,e)}let Kr;Hr.EMPTY_NODE=new class{copy(t,e,n,r,i){return this}insert(t,e,n){return new zr(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const $r=function(t){return"number"==typeof t?"number:"+Bn(t):"string:"+t},Yr=function(t){if(t.isLeafNode()){const e=t.val();Et("string"==typeof e||"number"==typeof e||"object"==typeof e&&Jt(e,".sv"),"Priority must be a string or number.")}else Et(t===Kr||t.isEmpty(),"priority of unexpected type.");Et(t===Kr||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Jr,Qr,Xr;class Zr{constructor(t,e=Zr.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=e,this.lazyHash_=null,Et(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Yr(this.priorityNode_)}static set __childrenNodeConstructor(t){Jr=t}static get __childrenNodeConstructor(){return Jr}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Zr(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:Zr.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return kr(t)?this:".priority"===br(t)?this.priorityNode_:Zr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,e){return null}updateImmediateChild(t,e){return".priority"===t?this.updatePriority(e):e.isEmpty()&&".priority"!==t?this:Zr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,e).updatePriority(this.priorityNode_)}updateChild(t,e){const n=br(t);return null===n?e:e.isEmpty()&&".priority"!==n?this:(Et(".priority"!==n||1===wr(t),".priority must be the last token in a path"),this.updateImmediateChild(n,Zr.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ir(t),e)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,e){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+$r(this.priorityNode_.val())+":");const e=typeof this.value_;t+=e+":",t+="number"===e?Bn(this.value_):this.value_,this.lazyHash_=Tn(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Zr.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Zr.__childrenNodeConstructor?-1:(Et(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const e=typeof t.value_,n=typeof this.value_,r=Zr.VALUE_TYPE_ORDER.indexOf(e),i=Zr.VALUE_TYPE_ORDER.indexOf(n);return Et(r>=0,"Unknown leaf type: "+e),Et(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1}}Zr.VALUE_TYPE_ORDER=["object","boolean","number","string"];const ti=new class extends Fr{compare(t,e){const n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?Mn(t.name,e.name):i}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Dr.MIN}maxPost(){return new Dr(Ln,new Zr("[PRIORITY-POST]",Xr))}makePost(t,e){const n=Qr(t);return new Dr(e,new Zr("[PRIORITY-POST]",n))}toString(){return".priority"}},ei=Math.log(2);class ni{constructor(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/ei,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=t+1&n}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const ri=function(t,e,n,r){t.sort(e);const i=function(e,r){const s=r-e;let o,a;if(0===s)return null;if(1===s)return o=t[e],a=n?n(o):o,new zr(a,o.node,zr.BLACK,null,null);{const u=parseInt(s/2,10)+e,l=i(e,u),c=i(u+1,r);return o=t[u],a=n?n(o):o,new zr(a,o.node,zr.BLACK,l,c)}},s=function(e){let r=null,s=null,o=t.length;const a=function(e,r){const s=o-e,a=o;o-=e;const l=i(s+1,a),c=t[s],h=n?n(c):c;u(new zr(h,c.node,r,null,l))},u=function(t){r?(r.left=t,r=t):(s=t,r=t)};for(let t=0;t<e.count;++t){const n=e.nextBitIsOne(),r=Math.pow(2,e.count-(t+1));n?a(r,zr.BLACK):(a(r,zr.BLACK),a(r,zr.RED))}return s}(new ni(t.length));return new Hr(r||e,s)};let ii;const si={};class oi{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return Et(si&&ti,"ChildrenNode.ts has not been loaded"),ii=ii||new oi({".priority":si},{".priority":ti}),ii}get(t){const e=Qt(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Hr?e:null}hasIndex(t){return Jt(this.indexSet_,t.toString())}addIndex(t,e){Et(t!==qr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=e.getIterator(Dr.Wrap);let s,o=i.getNext();for(;o;)r=r||t.isDefinedOn(o.node),n.push(o),o=i.getNext();s=r?ri(n,t.getCompare()):si;const a=t.toString(),u=Object.assign({},this.indexSet_);u[a]=t;const l=Object.assign({},this.indexes_);return l[a]=s,new oi(l,u)}addToIndexes(t,e){const n=Zt(this.indexes_,((n,r)=>{const i=Qt(this.indexSet_,r);if(Et(i,"Missing index implementation for "+r),n===si){if(i.isDefinedOn(t.node)){const n=[],r=e.getIterator(Dr.Wrap);let s=r.getNext();for(;s;)s.name!==t.name&&n.push(s),s=r.getNext();return n.push(t),ri(n,i.getCompare())}return si}{const r=e.get(t.name);let i=n;return r&&(i=i.remove(new Dr(t.name,r))),i.insert(t,t.node)}}));return new oi(n,this.indexSet_)}removeFromIndexes(t,e){const n=Zt(this.indexes_,(n=>{if(n===si)return n;{const r=e.get(t.name);return r?n.remove(new Dr(t.name,r)):n}}));return new oi(n,this.indexSet_)}}let ai;class ui{constructor(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Yr(this.priorityNode_),this.children_.isEmpty()&&Et(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ai||(ai=new ui(new Hr(Vr),null,oi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ai}updatePriority(t){return this.children_.isEmpty()?this:new ui(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const e=this.children_.get(t);return null===e?ai:e}}getChild(t){const e=br(t);return null===e?this:this.getImmediateChild(e).getChild(Ir(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,e){if(Et(e,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(e);{const n=new Dr(t,e);let r,i;e.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(t,e),i=this.indexMap_.addToIndexes(n,this.children_));const s=r.isEmpty()?ai:this.priorityNode_;return new ui(r,s,i)}}updateChild(t,e){const n=br(t);if(null===n)return e;{Et(".priority"!==br(t)||1===wr(t),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Ir(t),e);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const e={};let n=0,r=0,i=!0;if(this.forEachChild(ti,((s,o)=>{e[s]=o.val(t),n++,i&&ui.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):i=!1})),!t&&i&&r<2*n){const t=[];for(const n in e)t[n]=e[n];return t}return t&&!this.getPriority().isEmpty()&&(e[".priority"]=this.getPriority().val()),e}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+$r(this.getPriority().val())+":"),this.forEachChild(ti,((e,n)=>{const r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":Tn(t)}return this.lazyHash_}getPredecessorChildName(t,e,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Dr(t,e));return n?n.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const e=this.resolveIndex_(t);if(e){const t=e.minKey();return t&&t.name}return this.children_.minKey()}getFirstChild(t){const e=this.getFirstChildName(t);return e?new Dr(e,this.children_.get(e)):null}getLastChildName(t){const e=this.resolveIndex_(t);if(e){const t=e.maxKey();return t&&t.name}return this.children_.maxKey()}getLastChild(t){const e=this.getLastChildName(t);return e?new Dr(e,this.children_.get(e)):null}forEachChild(t,e){const n=this.resolveIndex_(t);return n?n.inorderTraversal((t=>e(t.name,t.node))):this.children_.inorderTraversal(e)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,e){const n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(t=>t));{const n=this.children_.getIteratorFrom(t.name,Dr.Wrap);let r=n.peek();for(;null!=r&&e.compare(r,t)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,e){const n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(t=>t));{const n=this.children_.getReverseIteratorFrom(t.name,Dr.Wrap);let r=n.peek();for(;null!=r&&e.compare(r,t)>0;)n.getNext(),r=n.peek();return n}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===li?-1:0}withIndex(t){if(t===qr||this.indexMap_.hasIndex(t))return this;{const e=this.indexMap_.addIndex(t,this.children_);return new ui(this.children_,this.priorityNode_,e)}}isIndexed(t){return t===qr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){const t=this.getIterator(ti),n=e.getIterator(ti);let r=t.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=t.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(t){return t===qr?null:this.indexMap_.get(t.toString())}}ui.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const li=new class extends ui{constructor(){super(new Hr(Vr),ui.EMPTY_NODE,oi.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ui.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Dr,{MIN:{value:new Dr(Nn,ui.EMPTY_NODE)},MAX:{value:new Dr(Ln,li)}}),Ur.__EMPTY_NODE=ui.EMPTY_NODE,Zr.__childrenNodeConstructor=ui,Kr=li,Xr=li;const ci=!0;function hi(t,e=null){if(null===t)return ui.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Et(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Zr(t,hi(e));if(t instanceof Array||!ci){let n=ui.EMPTY_NODE;return qn(t,((e,r)=>{if(Jt(t,e)&&"."!==e.substring(0,1)){const t=hi(r);!t.isLeafNode()&&t.isEmpty()||(n=n.updateImmediateChild(e,t))}})),n.updatePriority(hi(e))}{const n=[];let r=!1;if(qn(t,((t,e)=>{if("."!==t.substring(0,1)){const i=hi(e);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new Dr(t,i)))}})),0===n.length)return ui.EMPTY_NODE;const i=ri(n,Wr,(t=>t.name),Vr);if(r){const t=ri(n,ti.getCompare());return new ui(i,hi(e),new oi({".priority":t},{".priority":ti}))}return new ui(i,hi(e),oi.Default)}}!function(t){Qr=t}(hi);class di extends Fr{constructor(t){super(),this.indexPath_=t,Et(!kr(t)&&".priority"!==br(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?Mn(t.name,e.name):i}makePost(t,e){const n=hi(t),r=ui.EMPTY_NODE.updateChild(this.indexPath_,n);return new Dr(e,r)}maxPost(){const t=ui.EMPTY_NODE.updateChild(this.indexPath_,li);return new Dr(Ln,t)}toString(){return Tr(this.indexPath_,0).join("/")}}const fi=new class extends Fr{compare(t,e){const n=t.node.compareTo(e.node);return 0===n?Mn(t.name,e.name):n}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Dr.MIN}maxPost(){return Dr.MAX}makePost(t,e){const n=hi(t);return new Dr(e,n)}toString(){return".value"}};function pi(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class mi{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ti}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Et(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Et(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Nn}hasEnd(){return this.endSet_}getIndexEndValue(){return Et(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Et(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ln}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Et(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ti}copy(){const t=new mi;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function gi(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ti?n="$priority":t.index_===fi?n="$value":t.index_===qr?n="$key":(Et(t.index_ instanceof di,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=$t(n),t.startSet_){const n=t.startAfterSet_?"startAfter":"startAt";e[n]=$t(t.indexStartValue_),t.startNameSet_&&(e[n]+=","+$t(t.indexStartName_))}if(t.endSet_){const n=t.endBeforeSet_?"endBefore":"endAt";e[n]=$t(t.indexEndValue_),t.endNameSet_&&(e[n]+=","+$t(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function vi(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==ti&&(e.i=t.index_.toString()),e}class yi extends mr{constructor(t,e,n,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=xn("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:(Et(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,n,r){const i=t._path.toString();this.log_("Listen called for "+i+" "+t._queryIdentifier);const s=yi.getListenId_(t,n),o={};this.listens_[s]=o;const a=gi(t._queryParams);this.restRequest_(i+".json",a,((t,e)=>{let a=e;if(404===t&&(a=null,t=null),null===t&&this.onDataUpdate_(i,a,!1,n),Qt(this.listens_,s)===o){let e;e=t?401===t?"permission_denied":"rest_error:"+t:"ok",r(e,null)}}))}unlisten(t,e){const n=yi.getListenId_(t,e);delete this.listens_[n]}get(t){const e=gi(t._queryParams),n=t._path.toString(),r=new Ut;return this.restRequest_(n+".json",e,((t,e)=>{let i=e;404===t&&(i=null,t=null),null===t?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(t){}restRequest_(t,e={},n){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([r,i])=>{r&&r.accessToken&&(e.auth=r.accessToken),i&&i.token&&(e.ac=i.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+ne(e);this.log_("Sending REST request for "+s);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&4===o.readyState){this.log_("REST Response for "+s+" received. status:",o.status,"response:",o.responseText);let t=null;if(o.status>=200&&o.status<300){try{t=Kt(o.responseText)}catch(t){On("Failed to parse JSON response for "+s+": "+o.responseText)}n(null,t)}else 401!==o.status&&404!==o.status&&On("Got unsuccessful REST response for "+s+" Status: "+o.status),n(o.status);n=null}},o.open("GET",s,!0),o.send()}))}}class _i{constructor(){this.rootNode_=ui.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function bi(){return{value:null,children:new Map}}function wi(t,e,n){if(kr(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=br(e);t.children.has(r)||t.children.set(r,bi()),wi(t.children.get(r),e=Ir(e),n)}}function Ii(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach(((t,n)=>{e(n,t)}))}(t,((t,r)=>{Ii(r,new yr(e.toString()+"/"+t),n)}))}class Pi{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&qn(this.last_,((t,n)=>{e[t]=e[t]-n})),this.last_=t,e}}class Ti{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Pi(t);const n=1e4+2e4*Math.random();Vn(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const t=this.statsListener_.get(),e={};let n=!1;qn(t,((t,r)=>{r>0&&Jt(this.statsToReport_,t)&&(e[t]=r,n=!0)})),n&&this.server_.reportStats(e),Vn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ei;function ji(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ei||(Ei={}));class ki{constructor(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Ei.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(kr(this.path)){if(null!=this.affectedTree.value)return Et(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new yr(t));return new ki(_r(),e,this.revert)}}return Et(br(this.path)===t,"operationForChild called for unrelated child."),new ki(Ir(this.path),this.affectedTree,this.revert)}}class Si{constructor(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Ei.OVERWRITE}operationForChild(t){return kr(this.path)?new Si(this.source,_r(),this.snap.getImmediateChild(t)):new Si(this.source,Ir(this.path),this.snap)}}class xi{constructor(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Ei.MERGE}operationForChild(t){if(kr(this.path)){const e=this.children.subtree(new yr(t));return e.isEmpty()?null:e.value?new Si(this.source,_r(),e.value):new xi(this.source,_r(),e)}return Et(br(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new xi(this.source,Ir(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ci{constructor(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(kr(t))return this.isFullyInitialized()&&!this.filtered_;const e=br(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function Ri(t,e,n,r,i,s){const o=r.filter((t=>t.type===n));o.sort(((e,n)=>function(t,e,n){if(null==e.childName||null==n.childName)throw jt("Should only compare child_ events.");const r=new Dr(e.childName,e.snapshotNode),i=new Dr(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,e,n))),o.forEach((n=>{const r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,s);i.forEach((i=>{i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))}))}))}function Oi(t,e){return{eventCache:t,serverCache:e}}function Ai(t,e,n,r){return Oi(new Ci(e,n,r),t.serverCache)}function Ni(t,e,n,r){return Oi(t.eventCache,new Ci(e,n,r))}function Li(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Mi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let Di;class Fi{constructor(t,e=(()=>(Di||(Di=new Hr(Dn)),Di))()){this.value=t,this.children=e}static fromObject(t){let e=new Fi(null);return qn(t,((t,n)=>{e=e.set(new yr(t),n)})),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:_r(),value:this.value};if(kr(t))return null;{const n=br(t),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(Ir(t),e);return null!=i?{path:jr(new yr(n),i.path),value:i.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,(()=>!0))}subtree(t){if(kr(t))return this;{const e=br(t),n=this.children.get(e);return null!==n?n.subtree(Ir(t)):new Fi(null)}}set(t,e){if(kr(t))return new Fi(e,this.children);{const n=br(t),r=(this.children.get(n)||new Fi(null)).set(Ir(t),e),i=this.children.insert(n,r);return new Fi(this.value,i)}}remove(t){if(kr(t))return this.children.isEmpty()?new Fi(null):new Fi(null,this.children);{const e=br(t),n=this.children.get(e);if(n){const r=n.remove(Ir(t));let i;return i=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&i.isEmpty()?new Fi(null):new Fi(this.value,i)}return this}}get(t){if(kr(t))return this.value;{const e=br(t),n=this.children.get(e);return n?n.get(Ir(t)):null}}setTree(t,e){if(kr(t))return e;{const n=br(t),r=(this.children.get(n)||new Fi(null)).setTree(Ir(t),e);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Fi(this.value,i)}}fold(t){return this.fold_(_r(),t)}fold_(t,e){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(jr(t,r),e)})),e(t,this.value,n)}findOnPath(t,e){return this.findOnPath_(t,_r(),e)}findOnPath_(t,e,n){const r=!!this.value&&n(e,this.value);if(r)return r;if(kr(t))return null;{const r=br(t),i=this.children.get(r);return i?i.findOnPath_(Ir(t),jr(e,r),n):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,_r(),e)}foreachOnPath_(t,e,n){if(kr(t))return this;{this.value&&n(e,this.value);const r=br(t),i=this.children.get(r);return i?i.foreachOnPath_(Ir(t),jr(e,r),n):new Fi(null)}}foreach(t){this.foreach_(_r(),t)}foreach_(t,e){this.children.inorderTraversal(((n,r)=>{r.foreach_(jr(t,n),e)})),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal(((e,n)=>{n.value&&t(e,n.value)}))}}class Gi{constructor(t){this.writeTree_=t}static empty(){return new Gi(new Fi(null))}}function Ui(t,e,n){if(kr(e))return new Gi(new Fi(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=Sr(i,e);return s=s.updateChild(o,n),new Gi(t.writeTree_.set(i,s))}{const r=new Fi(n),i=t.writeTree_.setTree(e,r);return new Gi(i)}}}function qi(t,e,n){let r=t;return qn(n,((t,n)=>{r=Ui(r,jr(e,t),n)})),r}function Bi(t,e){if(kr(e))return Gi.empty();{const n=t.writeTree_.setTree(e,new Fi(null));return new Gi(n)}}function zi(t,e){return null!=Hi(t,e)}function Hi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Sr(n.path,e)):null}function Wi(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ti,((t,n)=>{e.push(new Dr(t,n))})):t.writeTree_.children.inorderTraversal(((t,n)=>{null!=n.value&&e.push(new Dr(t,n.value))})),e}function Vi(t,e){if(kr(e))return t;{const n=Hi(t,e);return new Gi(null!=n?new Fi(n):t.writeTree_.subtree(e))}}function Ki(t){return t.writeTree_.isEmpty()}function $i(t,e){return Yi(_r(),t.writeTree_,e)}function Yi(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal(((e,i)=>{".priority"===e?(Et(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Yi(jr(t,e),i,n)})),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(jr(t,".priority"),r)),n}}function Ji(t,e){return as(e,t)}function Qi(t,e){if(t.snap)return Cr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Cr(jr(t.path,n),e))return!0;return!1}function Xi(t){return t.visible}function Zi(t,e,n){let r=Gi.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const t=s.path;let e;if(s.snap)Cr(n,t)?(e=Sr(n,t),r=Ui(r,e,s.snap)):Cr(t,n)&&(e=Sr(t,n),r=Ui(r,_r(),s.snap.getChild(e)));else{if(!s.children)throw jt("WriteRecord should have .snap or .children");if(Cr(n,t))e=Sr(n,t),r=qi(r,e,s.children);else if(Cr(t,n))if(e=Sr(t,n),kr(e))r=qi(r,_r(),s.children);else{const t=Qt(s.children,br(e));if(t){const n=t.getChild(Ir(e));r=Ui(r,_r(),n)}}}}}return r}function ts(t,e,n,r,i){if(r||i){const s=Vi(t.visibleWrites,e);if(!i&&Ki(s))return n;if(i||null!=n||zi(s,_r())){const s=function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(Cr(t.path,e)||Cr(e,t.path))};return $i(Zi(t.allWrites,s,e),n||ui.EMPTY_NODE)}return null}{const r=Hi(t.visibleWrites,e);if(null!=r)return r;{const r=Vi(t.visibleWrites,e);return Ki(r)?n:null!=n||zi(r,_r())?$i(r,n||ui.EMPTY_NODE):null}}}function es(t,e,n,r){return ts(t.writeTree,t.treePath,e,n,r)}function ns(t,e){return function(t,e,n){let r=ui.EMPTY_NODE;const i=Hi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ti,((t,e)=>{r=r.updateImmediateChild(t,e)})),r;if(n){const i=Vi(t.visibleWrites,e);return n.forEachChild(ti,((t,e)=>{const n=$i(Vi(i,new yr(t)),e);r=r.updateImmediateChild(t,n)})),Wi(i).forEach((t=>{r=r.updateImmediateChild(t.name,t.node)})),r}return Wi(Vi(t.visibleWrites,e)).forEach((t=>{r=r.updateImmediateChild(t.name,t.node)})),r}(t.writeTree,t.treePath,e)}function rs(t,e,n,r){return function(t,e,n,r,i){Et(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=jr(e,n);if(zi(t.visibleWrites,s))return null;{const e=Vi(t.visibleWrites,s);return Ki(e)?i.getChild(n):$i(e,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function is(t,e){return function(t,e){return Hi(t.visibleWrites,e)}(t.writeTree,jr(t.treePath,e))}function ss(t,e,n){return function(t,e,n,r){const i=jr(e,n),s=Hi(t.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?$i(Vi(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function os(t,e){return as(jr(t.treePath,e),t.writeTree)}function as(t,e){return{treePath:t,writeTree:e}}class us{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,n=t.childName;Et("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Et(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(n,pi(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(n,(i=n,{type:"child_removed",snapshotNode:r.oldSnap,childName:i}));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(n,function(t,e){return{type:"child_added",snapshotNode:e,childName:t}}(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw jt("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,pi(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t);var i}getChanges(){return Array.from(this.changeMap.values())}}const ls=new class{getCompleteChild(t){return null}getChildAfterChild(t,e,n){return null}};class cs{constructor(t,e,n=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const e=null!=this.optCompleteServerCache_?new Ci(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ss(this.writes_,t,e)}}getChildAfterChild(t,e,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Mi(this.viewCache_),i=function(t,e,n,r,i,s){return function(t,e,n,r,i,s,o){let a;const u=Vi(t.visibleWrites,e),l=Hi(u,_r());if(null!=l)a=l;else{if(null==n)return[];a=$i(u,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const t=[],e=o.getCompare(),n=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let u=n.getNext();for(;u&&t.length<i;)0!==e(u,r)&&t.push(u),u=n.getNext();return t}}(t.writeTree,t.treePath,e,n,r,i,s)}(this.writes_,r,e,1,n,t);return 0===i.length?null:i[0]}}function hs(t,e,n,r,i,s){const o=e.eventCache;if(null!=is(r,n))return e;{let a,u;if(kr(n))if(Et(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const n=Mi(e),i=ns(r,n instanceof ui?n:ui.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),i,s)}else{const n=es(r,Mi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),n,s)}else{const l=br(n);if(".priority"===l){Et(1===wr(n),"Can't have a priority with additional path components");const i=o.getNode();u=e.serverCache.getNode();const s=rs(r,n,i,u);a=null!=s?t.filter.updatePriority(i,s):o.getNode()}else{const c=Ir(n);let h;if(o.isCompleteForChild(l)){u=e.serverCache.getNode();const t=rs(r,n,o.getNode(),u);h=null!=t?o.getNode().getImmediateChild(l).updateChild(c,t):o.getNode().getImmediateChild(l)}else h=ss(r,l,e.serverCache);a=null!=h?t.filter.updateChild(o.getNode(),l,h,c,i,s):o.getNode()}}return Ai(e,a,o.isFullyInitialized()||kr(n),t.filter.filtersNodes())}}function ds(t,e,n,r,i,s,o,a){const u=e.serverCache;let l;const c=o?t.filter:t.filter.getIndexedFilter();if(kr(n))l=c.updateFullNode(u.getNode(),r,null);else if(c.filtersNodes()&&!u.isFiltered()){const t=u.getNode().updateChild(n,r);l=c.updateFullNode(u.getNode(),t,null)}else{const t=br(n);if(!u.isCompleteForPath(n)&&wr(n)>1)return e;const i=Ir(n),s=u.getNode().getImmediateChild(t).updateChild(i,r);l=".priority"===t?c.updatePriority(u.getNode(),s):c.updateChild(u.getNode(),t,s,i,ls,null)}const h=Ni(e,l,u.isFullyInitialized()||kr(n),c.filtersNodes());return hs(t,h,n,i,new cs(i,h,s),a)}function fs(t,e,n,r,i,s,o){const a=e.eventCache;let u,l;const c=new cs(i,e,s);if(kr(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=Ai(e,l,!0,t.filter.filtersNodes());else{const i=br(n);if(".priority"===i)l=t.filter.updatePriority(e.eventCache.getNode(),r),u=Ai(e,l,a.isFullyInitialized(),a.isFiltered());else{const s=Ir(n),l=a.getNode().getImmediateChild(i);let h;if(kr(s))h=r;else{const t=c.getCompleteChild(i);h=null!=t?".priority"===Pr(s)&&t.getChild(Er(s)).isEmpty()?t:t.updateChild(s,r):ui.EMPTY_NODE}u=l.equals(h)?e:Ai(e,t.filter.updateChild(a.getNode(),i,h,s,c,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return u}function ps(t,e){return t.eventCache.isCompleteForChild(e)}function ms(t,e,n){return n.foreach(((t,n)=>{e=e.updateChild(t,n)})),e}function gs(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u,l=e;u=kr(n)?r:new Fi(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal(((n,r)=>{if(c.hasChild(n)){const u=ms(0,e.serverCache.getNode().getImmediateChild(n),r);l=ds(t,l,new yr(n),u,i,s,o,a)}})),u.children.inorderTraversal(((n,r)=>{const u=!e.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!u){const u=ms(0,e.serverCache.getNode().getImmediateChild(n),r);l=ds(t,l,new yr(n),u,i,s,o,a)}})),l}function vs(t,e){const n=Mi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!kr(e)&&!n.getImmediateChild(br(e)).isEmpty())?n.getChild(e):null}function ys(t,e,n,r){e.type===Ei.MERGE&&null!==e.source.queryId&&(Et(Mi(t.viewCache_),"We should always have a full cache before handling merges"),Et(Li(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=function(t,e,n,r,i){const s=new us;let o,a;if(n.type===Ei.OVERWRITE){const u=n;u.source.fromUser?o=fs(t,e,u.path,u.snap,r,i,s):(Et(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!kr(u.path),o=ds(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Ei.MERGE){const u=n;u.source.fromUser?o=function(t,e,n,r,i,s,o){let a=e;return r.foreach(((r,u)=>{const l=jr(n,r);ps(e,br(l))&&(a=fs(t,a,l,u,i,s,o))})),r.foreach(((r,u)=>{const l=jr(n,r);ps(e,br(l))||(a=fs(t,a,l,u,i,s,o))})),a}(t,e,u.path,u.children,r,i,s):(Et(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=gs(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Ei.ACK_USER_WRITE){const a=n;o=a.revert?function(t,e,n,r,i,s){let o;if(null!=is(r,n))return e;{const a=new cs(r,e,i),u=e.eventCache.getNode();let l;if(kr(n)||".priority"===br(n)){let n;if(e.serverCache.isFullyInitialized())n=es(r,Mi(e));else{const t=e.serverCache.getNode();Et(t instanceof ui,"serverChildren would be complete if leaf node"),n=ns(r,t)}l=t.filter.updateFullNode(u,n,s)}else{const i=br(n);let c=ss(r,i,e.serverCache);null==c&&e.serverCache.isCompleteForChild(i)&&(c=u.getImmediateChild(i)),l=null!=c?t.filter.updateChild(u,i,c,Ir(n),a,s):e.eventCache.getNode().hasChild(i)?t.filter.updateChild(u,i,ui.EMPTY_NODE,Ir(n),a,s):u,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=es(r,Mi(e)),o.isLeafNode()&&(l=t.filter.updateFullNode(l,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=is(r,_r()),Ai(e,l,o,t.filter.filtersNodes())}}(t,e,a.path,r,i,s):function(t,e,n,r,i,s,o){if(null!=is(i,n))return e;const a=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(kr(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return ds(t,e,n,u.getNode().getChild(n),i,s,a,o);if(kr(n)){let r=new Fi(null);return u.getNode().forEachChild(qr,((t,e)=>{r=r.set(new yr(t),e)})),gs(t,e,n,r,i,s,a,o)}return e}{let l=new Fi(null);return r.foreach(((t,e)=>{const r=jr(n,t);u.isCompleteForPath(r)&&(l=l.set(t,u.getNode().getChild(r)))})),gs(t,e,n,l,i,s,a,o)}}(t,e,a.path,a.affectedTree,r,i,s)}else{if(n.type!==Ei.LISTEN_COMPLETE)throw jt("Unknown operation type: "+n.type);o=function(t,e,n,r,i){const s=e.serverCache;return hs(t,Ni(e,s.getNode(),s.isFullyInitialized()||kr(n),s.isFiltered()),n,r,ls,i)}(t,e,n.path,r,s)}const u=s.getChanges();return function(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Li(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push({type:"value",snapshotNode:Li(e)})}}(e,o,u),{viewCache:o,changes:u}}(t.processor_,i,e,n,r);var o,a;return o=t.processor_,a=s.viewCache,Et(a.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),Et(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),Et(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,function(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return function(t,e,n,r){const i=[],s=[];return e.forEach((e=>{var n;"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&s.push((n=e.childName,{type:"child_moved",snapshotNode:e.snapshotNode,childName:n}))})),Ri(t,i,"child_removed",e,r,n),Ri(t,i,"child_added",e,r,n),Ri(t,i,"child_moved",s,r,n),Ri(t,i,"child_changed",e,r,n),Ri(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,i)}(t,s.changes,s.viewCache.eventCache.getNode(),null)}let _s,bs;function ws(t,e,n,r){const i=e.source.queryId;if(null!==i){const s=t.views.get(i);return Et(null!=s,"SyncTree gave us an op for an invalid query."),ys(s,e,n,r)}{let i=[];for(const s of t.views.values())i=i.concat(ys(s,e,n,r));return i}}function Is(t,e){let n=null;for(const r of t.views.values())n=n||vs(r,e);return n}class Ps{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Fi(null),this.pendingWriteTree_={visibleWrites:Gi.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ts(t,e,n,r,i){return function(t,e,n,r,i){Et(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ui(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Ss(t,new Si({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Es(t,e,n=!1){const r=function(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function(t,e){const n=t.allWrites.findIndex((t=>t.writeId===e));Et(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const e=t.allWrites[o];e.visible&&(o>=n&&Qi(e,r.path)?i=!1:Cr(r.path,e.path)&&(s=!0)),o--}return!!i&&(s?(function(t){t.visibleWrites=Zi(t.allWrites,Xi,_r()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}(t),!0):(r.snap?t.visibleWrites=Bi(t.visibleWrites,r.path):qn(r.children,(e=>{t.visibleWrites=Bi(t.visibleWrites,jr(r.path,e))})),!0))}(t.pendingWriteTree_,e)){let e=new Fi(null);return null!=r.snap?e=e.set(_r(),!0):qn(r.children,(t=>{e=e.set(new yr(t),!0)})),Ss(t,new ki(r.path,e,n))}return[]}function js(t,e,n){return Ss(t,new Si({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function ks(t,e,n){const r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,((t,n)=>{const r=Is(n,Sr(t,e));if(r)return r}));return ts(r,e,i,n,!0)}function Ss(t,e){return xs(e,t.syncPointTree_,null,Ji(t.pendingWriteTree_,_r()))}function xs(t,e,n,r){if(kr(t.path))return Cs(t,e,n,r);{const i=e.get(_r());null==n&&null!=i&&(n=Is(i,_r()));let s=[];const o=br(t.path),a=t.operationForChild(o),u=e.children.get(o);if(u&&a){const t=n?n.getImmediateChild(o):null,e=os(r,o);s=s.concat(xs(a,u,t,e))}return i&&(s=s.concat(ws(i,t,r,n))),s}}function Cs(t,e,n,r){const i=e.get(_r());null==n&&null!=i&&(n=Is(i,_r()));let s=[];return e.children.inorderTraversal(((e,i)=>{const o=n?n.getImmediateChild(e):null,a=os(r,e),u=t.operationForChild(e);u&&(s=s.concat(Cs(u,i,o,a)))})),i&&(s=s.concat(ws(i,t,r,n))),s}function Rs(t,e){return t.tagToQueryMap.get(e)}function Os(t){const e=t.indexOf("$");return Et(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new yr(t.substr(0,e))}}function As(t,e,n){const r=t.syncPointTree_.get(e);return Et(r,"Missing sync point for query tag that we're tracking"),ws(r,n,Ji(t.pendingWriteTree_,e),null)}class Ns{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Ns(e)}node(){return this.node_}}class Ls{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=jr(this.path_,t);return new Ls(this.syncTree_,e)}node(){return ks(this.syncTree_,this.path_)}}const Ms=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},Ds=function(t,e,n){return t&&"object"==typeof t?(Et(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Fs(t[".sv"],e,n):"object"==typeof t[".sv"]?Gs(t[".sv"],e):void Et(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Fs=function(t,e,n){if("timestamp"===t)return n.timestamp;Et(!1,"Unexpected server value: "+t)},Gs=function(t,e,n){t.hasOwnProperty("increment")||Et(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&Et(!1,"Unexpected increment value: "+r);const i=e.node();if(Et(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},Us=function(t,e,n,r){return Bs(e,new Ls(n,t),r)},qs=function(t,e,n){return Bs(t,new Ns(e),n)};function Bs(t,e,n){const r=t.getPriority().val(),i=Ds(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const r=t,s=Ds(r.getValue(),e,n);return s!==r.getValue()||i!==r.getPriority().val()?new Zr(s,hi(i)):t}{const r=t;return s=r,i!==r.getPriority().val()&&(s=s.updatePriority(new Zr(i))),r.forEachChild(ti,((t,r)=>{const i=Bs(r,e.getImmediateChild(t),n);i!==r&&(s=s.updateImmediateChild(t,i))})),s}}class zs{constructor(t="",e=null,n={children:{},childCount:0}){this.name=t,this.parent=e,this.node=n}}function Hs(t,e){let n=e instanceof yr?e:new yr(e),r=t,i=br(n);for(;null!==i;){const t=Qt(r.node.children,i)||{children:{},childCount:0};r=new zs(i,r,t),n=Ir(n),i=br(n)}return r}function Ws(t){return t.node.value}function Vs(t,e){t.node.value=e,Qs(t)}function Ks(t){return t.node.childCount>0}function $s(t,e){qn(t.node.children,((n,r)=>{e(new zs(n,t,r))}))}function Ys(t,e,n,r){n&&!r&&e(t),$s(t,(t=>{Ys(t,e,!0,r)})),n&&r&&e(t)}function Js(t){return new yr(null===t.parent?t.name:Js(t.parent)+"/"+t.name)}function Qs(t){null!==t.parent&&function(t,e,n){const r=function(t){return void 0===Ws(t)&&!Ks(t)}(n),i=Jt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Qs(t)):r||i||(t.node.children[e]=n.node,t.node.childCount++,Qs(t))}(t.parent,t.name,t)}const Xs=/[\[\].#$\/\u0000-\u001F\u007F]/,Zs=/[\[\].#$\u0000-\u001F\u007F]/,to=10485760,eo=function(t){return"string"==typeof t&&0!==t.length&&!Xs.test(t)},no=function(t){return"string"==typeof t&&0!==t.length&&!Zs.test(t)},ro=function(t,e,n,r){r&&void 0===e||io(ue(t,"value"),e,n)},io=function(t,e,n){const r=n instanceof yr?new Rr(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Ar(r));if("function"==typeof e)throw new Error(t+"contains a function "+Ar(r)+" with contents = "+e.toString());if(An(e))throw new Error(t+"contains "+e.toString()+" "+Ar(r));if("string"==typeof e&&e.length>to/3&&le(e)>to)throw new Error(t+"contains a string greater than "+to+" utf8 bytes "+Ar(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let n=!1,i=!1;if(qn(e,((e,s)=>{if(".value"===e)n=!0;else if(".priority"!==e&&".sv"!==e&&(i=!0,!eo(e)))throw new Error(t+" contains an invalid key ("+e+") "+Ar(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=le(e),Or(t)}(r,e),io(t,s,r),function(t){const e=t.parts_.pop();t.byteLength_-=le(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)})),n&&i)throw new Error(t+' contains ".value" child '+Ar(r)+" in addition to actual children.")}},so=function(t,e,n,r){if(!(r&&void 0===n||no(n)))throw new Error(ue(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},oo=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),so(t,e,n,r)},ao=function(t,e){if(".info"===br(e))throw new Error(t+" failed = Can't modify data under /.info/")};class uo{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function lo(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null===n||xr(s,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function co(t,e,n){lo(t,n),function(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(ho(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}(t,(t=>Cr(t,e)||Cr(e,t)))}function ho(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();jn&&Sn("event: "+n.toString()),Wn(r)}}}const fo=25;class po{constructor(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new uo,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bi(),this.transactionQueueTree_=new zs,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function mo(t,e,n){if(t.stats_=or(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new yi(t.repoInfo_,((e,n,r,i)=>{yo(t,e,n,r,i)}),t.authTokenProvider_,t.appCheckProvider_),setTimeout((()=>_o(t,!0)),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$t(n)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}t.persistentConnection_=new Mr(t.repoInfo_,e,((e,n,r,i)=>{yo(t,e,n,r,i)}),(e=>{_o(t,e)}),(e=>{!function(t,e){qn(e,((e,n)=>{bo(t,e,n)}))}(t,e)}),t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener((e=>{t.server_.refreshAuthToken(e)})),t.appCheckProvider_.addTokenChangeListener((e=>{t.server_.refreshAppCheckToken(e.token)})),t.statsReporter_=function(e,n){const r=e.toString();return sr[r]||(sr[r]=new Ti(t.stats_,t.server_)),sr[r]}(t.repoInfo_),t.infoData_=new _i,t.infoSyncTree_=new Ps({startListening:(e,n,r,i)=>{let s=[];const o=t.infoData_.getNode(e._path);return o.isEmpty()||(s=js(t.infoSyncTree_,e._path,o),setTimeout((()=>{i("ok")}),0)),s},stopListening:()=>{}}),bo(t,"connected",!1),t.serverSyncTree_=new Ps({startListening:(e,n,r,i)=>(t.server_.listen(e,r,n,((n,r)=>{const s=i(n,r);co(t.eventQueue_,e._path,s)})),[]),stopListening:(e,n)=>{t.server_.unlisten(e,n)}})}function go(t){const e=t.infoData_.getNode(new yr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function vo(t){return Ms({timestamp:go(t)})}function yo(t,e,n,r,i){t.dataUpdateCount++;const s=new yr(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const e=Zt(n,(t=>hi(t)));o=function(t,e,n,r){const i=Rs(t,r);if(i){const r=Os(i),s=r.path,o=r.queryId,a=Sr(s,e),u=Fi.fromObject(n);return As(t,s,new xi(ji(o),a,u))}return[]}(t.serverSyncTree_,s,e,i)}else{const e=hi(n);o=function(t,e,n,r){const i=Rs(t,r);if(null!=i){const r=Os(i),s=r.path,o=r.queryId,a=Sr(s,e);return As(t,s,new Si(ji(o),a,n))}return[]}(t.serverSyncTree_,s,e,i)}else if(r){const e=Zt(n,(t=>hi(t)));o=function(t,e,n){const r=Fi.fromObject(n);return Ss(t,new xi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,e)}else{const e=hi(n);o=js(t.serverSyncTree_,s,e)}let a=s;o.length>0&&(a=jo(t,s)),co(t.eventQueue_,a,o)}function _o(t,e){bo(t,"connected",e),!1===e&&function(t){Po(t,"onDisconnectEvents");const e=vo(t),n=bi();Ii(t.onDisconnect_,_r(),((r,i)=>{const s=Us(r,i,t.serverSyncTree_,e);wi(n,r,s)}));let r=[];Ii(n,_r(),((e,n)=>{r=r.concat(js(t.serverSyncTree_,e,n));const i=Ro(t,e);jo(t,i)})),t.onDisconnect_=bi(),co(t.eventQueue_,_r(),r)}(t)}function bo(t,e,n){const r=new yr("/.info/"+e),i=hi(n);t.infoData_.updateSnapshot(r,i);const s=js(t.infoSyncTree_,r,i);co(t.eventQueue_,r,s)}function wo(t){return t.nextWriteId_++}function Io(t,e,n,r,i){Po(t,"set",{path:e.toString(),value:n,priority:r});const s=vo(t),o=hi(n,r),a=ks(t.serverSyncTree_,e),u=qs(o,a,s),l=wo(t),c=Ts(t.serverSyncTree_,e,u,l,!0);lo(t.eventQueue_,c),t.server_.put(e.toString(),o.val(!0),((n,r)=>{const s="ok"===n;s||On("set at "+e+" failed: "+n);const o=Es(t.serverSyncTree_,l,!s);co(t.eventQueue_,e,o),function(t,e,n,r){e&&Wn((()=>{if("ok"===n)e(null);else{const t=(n||"error").toUpperCase();let i=t;r&&(i+=": "+r);const s=new Error(i);s.code=t,e(s)}}))}(0,i,n,r)}));const h=Ro(t,e);jo(t,h),co(t.eventQueue_,h,[])}function Po(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Sn(n,...e)}function To(t,e,n){return ks(t.serverSyncTree_,e,n)||ui.EMPTY_NODE}function Eo(t,e=t.transactionQueueTree_){if(e||Co(t,e),Ws(e)){const n=So(t,e);Et(n.length>0,"Sending zero length transaction queue"),n.every((t=>0===t.status))&&function(t,e,n){const r=n.map((t=>t.currentWriteId)),i=To(t,e,r);let s=i;const o=i.hash();for(let t=0;t<n.length;t++){const r=n[t];Et(0===r.status,"tryToSendTransactionQueue_: items in queue should all be run."),r.status=1,r.retryCount++;const i=Sr(e,r.path);s=s.updateChild(i,r.currentOutputSnapshotRaw)}const a=s.val(!0),u=e;t.server_.put(u.toString(),a,(r=>{Po(t,"transaction put response",{path:u.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let e=0;e<n.length;e++)n[e].status=2,i=i.concat(Es(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&r.push((()=>n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved))),n[e].unwatcher();Co(t,Hs(t.transactionQueueTree_,e)),Eo(t,t.transactionQueueTree_),co(t.eventQueue_,e,i);for(let t=0;t<r.length;t++)Wn(r[t])}else{if("datastale"===r)for(let t=0;t<n.length;t++)3===n[t].status?n[t].status=4:n[t].status=0;else{On("transaction at "+u.toString()+" failed: "+r);for(let t=0;t<n.length;t++)n[t].status=4,n[t].abortReason=r}jo(t,e)}}),o)}(t,Js(e),n)}else Ks(e)&&$s(e,(e=>{Eo(t,e)}))}function jo(t,e){const n=ko(t,e),r=Js(n);return function(t,e,n){if(0===e.length)return;const r=[];let i=[];const s=e.filter((t=>0===t.status)).map((t=>t.currentWriteId));for(let a=0;a<e.length;a++){const u=e[a],l=Sr(n,u.path);let c,h=!1;if(Et(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)h=!0,c=u.abortReason,i=i.concat(Es(t.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=fo)h=!0,c="maxretry",i=i.concat(Es(t.serverSyncTree_,u.currentWriteId,!0));else{const n=To(t,u.path,s);u.currentInputSnapshot=n;const r=e[a].update(n.val());if(void 0!==r){io("transaction failed: Data returned ",r,u.path);let e=hi(r);"object"==typeof r&&null!=r&&Jt(r,".priority")||(e=e.updatePriority(n.getPriority()));const o=u.currentWriteId,a=vo(t),l=qs(e,n,a);u.currentOutputSnapshotRaw=e,u.currentOutputSnapshotResolved=l,u.currentWriteId=wo(t),s.splice(s.indexOf(o),1),i=i.concat(Ts(t.serverSyncTree_,u.path,l,u.currentWriteId,u.applyLocally)),i=i.concat(Es(t.serverSyncTree_,o,!0))}else h=!0,c="nodata",i=i.concat(Es(t.serverSyncTree_,u.currentWriteId,!0))}co(t.eventQueue_,n,i),i=[],h&&(e[a].status=2,o=e[a].unwatcher,setTimeout(o,Math.floor(0)),e[a].onComplete&&("nodata"===c?r.push((()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot))):r.push((()=>e[a].onComplete(new Error(c),!1,null)))))}var o;Co(t,t.transactionQueueTree_);for(let t=0;t<r.length;t++)Wn(r[t]);Eo(t,t.transactionQueueTree_)}(t,So(t,n),r),r}function ko(t,e){let n,r=t.transactionQueueTree_;for(n=br(e);null!==n&&void 0===Ws(r);)r=Hs(r,n),n=br(e=Ir(e));return r}function So(t,e){const n=[];return xo(t,e,n),n.sort(((t,e)=>t.order-e.order)),n}function xo(t,e,n){const r=Ws(e);if(r)for(let t=0;t<r.length;t++)n.push(r[t]);$s(e,(e=>{xo(t,e,n)}))}function Co(t,e){const n=Ws(e);if(n){let t=0;for(let e=0;e<n.length;e++)2!==n[e].status&&(n[t]=n[e],t++);n.length=t,Vs(e,n.length>0?n:void 0)}$s(e,(e=>{Co(t,e)}))}function Ro(t,e){const n=Js(ko(t,e)),r=Hs(t.transactionQueueTree_,e);return function(t,e,n){let r=t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,(e=>{Oo(t,e)})),Oo(t,r),Ys(r,(e=>{Oo(t,e)})),n}function Oo(t,e){const n=Ws(e);if(n){const r=[];let i=[],s=-1;for(let e=0;e<n.length;e++)3===n[e].status||(1===n[e].status?(Et(s===e-1,"All SENT items should be at beginning of queue."),s=e,n[e].status=3,n[e].abortReason="set"):(Et(0===n[e].status,"Unexpected transaction status in abort"),n[e].unwatcher(),i=i.concat(Es(t.serverSyncTree_,n[e].currentWriteId,!0)),n[e].onComplete&&r.push(n[e].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Vs(e,void 0):n.length=s+1,co(t.eventQueue_,Js(e),i);for(let t=0;t<r.length;t++)Wn(r[t])}}const Ao=function(t,e){const n=No(t),r=n.namespace;"firebase.com"===n.domain&&Rn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Rn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&On("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new er(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new yr(n.pathString)}},No=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",u=443;if("string"==typeof t){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let c=t.indexOf("/");-1===c&&(c=t.length);let h=t.indexOf("?");-1===h&&(h=t.length),e=t.substring(0,Math.min(c,h)),c<h&&(i=function(t){let e="";const n=t.split("/");for(let t=0;t<n.length;t++)if(n[t].length>0){let r=n[t];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(t){}e+="/"+r}return e}(t.substring(c,h)));const d=function(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):On(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,h)));l=e.indexOf(":"),l>=0?(o="https"===a||"wss"===a,u=parseInt(e.substring(l+1),10)):l=e.length;const f=e.slice(0,l);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const t=e.indexOf(".");r=e.substring(0,t).toLowerCase(),n=e.substring(t+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class Lo{constructor(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}get key(){return kr(this._path)?null:Pr(this._path)}get ref(){return new Mo(this._repo,this._path)}get _queryIdentifier(){const t=vi(this._queryParams),e=Gn(t);return"{}"===e?"default":e}get _queryObject(){return vi(this._queryParams)}isEqual(t){if(!((t=ce(t))instanceof Lo))return!1;const e=this._repo===t._repo,n=xr(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return e&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class Mo extends Lo{constructor(t,e){super(t,e,new mi,!1)}get parent(){const t=Er(this._path);return null===t?null:new Mo(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}function Do(t,e){return(t=ce(t))._checkNotDeleted("ref"),void 0!==e?function(t,e){return null===br((t=ce(t))._path)?oo("child","path",e,!1):so("child","path",e,!1),new Mo(t._repo,jr(t._path,e))}(t._root,e):t._root}function Fo(t,e){t=ce(t),ao("set",t._path),ro("set",e,t._path,!1);const n=new Ut;return Io(t._repo,t._path,e,null,n.wrapCallback((()=>{}))),n.promise}!function(t){Et(!_s,"__referenceConstructor has already been defined"),_s=t}(Mo),function(t){Et(!bs,"__referenceConstructor has already been defined"),bs=t}(Mo);const Go={};function Uo(t,e,n,r,i){let s=r||t.options.databaseURL;void 0===s&&(t.options.projectId||Rn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Sn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o,a,u=Ao(s,i),l=u.repoInfo;"undefined"!=typeof process&&process.env&&(a=process.env.FIREBASE_DATABASE_EMULATOR_HOST),a?(o=!0,s=`http://${a}?ns=${l.namespace}`,u=Ao(s,i),l=u.repoInfo):o=!u.repoInfo.secure;const c=i&&o?new Yn(Yn.OWNER):new $n(t.name,t.options,e);(function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!eo(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),no(t)}(n))throw new Error(ue(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",u),kr(u.path)||Rn("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(t,e,n,r){let i=Go[e.name];i||(i={},Go[e.name]=i);let s=i[t.toURLString()];return s&&Rn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new po(t,false,n,r),i[t.toURLString()]=s,s}(l,t,c,new Kn(t.name,n));return new qo(h,t)}class qo{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(mo(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Mo(this._repo,_r())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(t,e){const n=Go[e];n&&n[t.key]===t||Rn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Rn("Cannot call "+t+" on a deleted database.")}}function Bo(t=tn(),e){const n=Ye(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const t=Dt("database");t&&function(t,e,n,r={}){(t=ce(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Rn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Rn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Yn(Yn.OWNER);else if(r.mockUserToken){const e="string"==typeof r.mockUserToken?r.mockUserToken:function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rt(JSON.stringify({alg:"none",type:"JWT"})),Rt(JSON.stringify(s)),""].join(".")}(r.mockUserToken,t.app.options.projectId);s=new Yn(e)}!function(t,e,n,r){t.repoInfo_=new er(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,s)}(n,...t)}return n}function zo(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}Mr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Mr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},gn=Xe,$e(new he("database",((t,{instanceIdentifier:e})=>Uo(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e)),"PUBLIC").setMultipleInstances(!0)),en(pn,mn,void 0),en(pn,mn,"esm2017"),Object.create,Object.create;const Ho=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Wo=new Wt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Vo=new we("@firebase/auth");function Ko(t,...e){Vo.logLevel<=ge.ERROR&&Vo.error(`Auth (${Xe}): ${t}`,...e)}function $o(t,...e){throw Jo(t,...e)}function Yo(t,...e){return Jo(t,...e)}function Jo(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Wo.create(t,...e)}function Qo(t,e,...n){if(!t)throw Jo(e,...n)}function Xo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ko(e),new Error(e)}function Zo(t,e){t||Xo(e)}function ta(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function ea(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function na(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===ea()||"https:"===ea()||function(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class ra{constructor(t,e){this.shortDelay=t,this.longDelay=e,Zo(e>t,"Short delay should be less than long delay!"),this.isMobile=Bt()||zt()}get(){return na()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ia(t,e){Zo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class sa{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Xo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Xo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Xo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oa={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},aa=new ra(3e4,6e4);function ua(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function la(t,e,n,r,i={}){return ca(t,i,(async()=>{let i={},s={};r&&("GET"===e?s=r:i={body:JSON.stringify(r)});const o=ne(Object.assign({key:t.config.apiKey},s)).slice(1),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode),sa.fetch()(da(t,t.config.apiHost,n,o),Object.assign({method:e,headers:a,referrerPolicy:"no-referrer"},i))}))}async function ca(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},oa),e);try{const e=new fa(t),i=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw pa(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const e=i.ok?s.errorMessage:s.error.message,[n,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw pa(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw pa(t,"email-already-in-use",s);if("USER_DISABLED"===n)throw pa(t,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw function(t,e,n){const r=Object.assign(Object.assign({},Ho()),{[e]:n});return new Wt("auth","Firebase",r).create(e,{appName:t.name})}(t,a,o);$o(t,a)}}catch(e){if(e instanceof Ht)throw e;$o(t,"network-request-failed",{message:String(e)})}}async function ha(t,e,n,r,i={}){const s=await la(t,e,n,r,i);return"mfaPendingCredential"in s&&$o(t,"multi-factor-auth-required",{_serverResponse:s}),s}function da(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ia(t.config,i):`${t.config.apiScheme}://${i}`}class fa{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise(((t,e)=>{this.timer=setTimeout((()=>e(Yo(this.auth,"network-request-failed"))),aa.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function pa(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Yo(t,e,r);return i.customData._tokenResponse=n,i}function ma(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(t){}}function ga(t){return 1e3*Number(t)}function va(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Ko("JWT malformed, contained fewer than 3 sections"),null;try{const t=Ot(n);return t?JSON.parse(t):(Ko("Failed to decode base64 JWT payload"),null)}catch(t){return Ko("Caught error parsing JWT payload as JSON",null==t?void 0:t.toString()),null}}async function ya(t,e,n=!1){if(n)return e;try{return await e}catch(e){throw e instanceof Ht&&function({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(e)&&t.auth.currentUser===t&&await t.auth.signOut(),e}}class _a{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout((async()=>{await this.iteration()}),e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null==t?void 0:t.code)&&this.schedule(!0))}this.schedule()}}class ba{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=ma(this.lastLoginAt),this.creationTime=ma(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function wa(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ya(t,async function(t,e){return la(t,"POST","/v1/accounts:lookup",e)}(n,{idToken:r}));Qo(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?s.providerUserInfo.map((t=>{var{providerId:e}=t,n=zo(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],a=(u=t.providerData,l=o,[...u.filter((t=>!l.some((e=>e.providerId===t.providerId)))),...l]);var u,l;const c=t.isAnonymous,h=!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d=!!c&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ba(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}class Ia{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Qo(t.idToken,"internal-error"),Qo(void 0!==t.idToken,"internal-error"),Qo(void 0!==t.refreshToken,"internal-error");const e="expiresIn"in t&&void 0!==t.expiresIn?Number(t.expiresIn):function(t){const e=va(t);return Qo(e,"internal-error"),Qo(void 0!==e.exp,"internal-error"),Qo(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}async getToken(t,e=!1){return Qo(!this.accessToken||this.refreshToken,t,"user-token-expired"),e||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(t,e){const n=await ca(t,{},(async()=>{const n=ne({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,s=da(t,r,"/v1/token",`key=${i}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",sa.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(t,e);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:r,expirationTime:i}=e,s=new Ia;return n&&(Qo("string"==typeof n,"internal-error",{appName:t}),s.refreshToken=n),r&&(Qo("string"==typeof r,"internal-error",{appName:t}),s.accessToken=r),i&&(Qo("number"==typeof i,"internal-error",{appName:t}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ia,this.toJSON())}_performRefresh(){return Xo("not implemented")}}function Pa(t,e){Qo("string"==typeof t||void 0===t,"internal-error",{appName:e})}class Ta{constructor(t){var{uid:e,auth:n,stsTokenManager:r}=t,i=zo(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _a(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ba(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const e=await ya(this,this.stsTokenManager.getToken(this.auth,t));return Qo(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return async function(t,e=!1){const n=ce(t),r=await n.getIdToken(e),i=va(r);Qo(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ma(ga(i.auth_time)),issuedAtTime:ma(ga(i.iat)),expirationTime:ma(ga(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,t)}reload(){return async function(t){const e=ce(t);await wa(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}(this)}_assign(t){this!==t&&(Qo(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map((t=>Object.assign({},t))),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Ta(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Qo(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await wa(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await ya(this,async function(t,e){return la(t,"POST","/v1/accounts:delete",e)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((t=>Object.assign({},t))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,r,i,s,o,a,u,l;const c=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,d=null!==(i=e.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=e.photoURL)&&void 0!==s?s:void 0,p=null!==(o=e.tenantId)&&void 0!==o?o:void 0,m=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,g=null!==(u=e.createdAt)&&void 0!==u?u:void 0,v=null!==(l=e.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:_,isAnonymous:b,providerData:w,stsTokenManager:I}=e;Qo(y&&I,t,"internal-error");const P=Ia.fromJSON(this.name,I);Qo("string"==typeof y,t,"internal-error"),Pa(c,t.name),Pa(h,t.name),Qo("boolean"==typeof _,t,"internal-error"),Qo("boolean"==typeof b,t,"internal-error"),Pa(d,t.name),Pa(f,t.name),Pa(p,t.name),Pa(m,t.name),Pa(g,t.name),Pa(v,t.name);const T=new Ta({uid:y,auth:t,email:h,emailVerified:_,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:P,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(T.providerData=w.map((t=>Object.assign({},t)))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(t,e,n=!1){const r=new Ia;r.updateFromServerResponse(e);const i=new Ta({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:n});return await wa(i),i}}const Ea=new Map;function ja(t){Zo(t instanceof Function,"Expected a class definition");let e=Ea.get(t);return e?(Zo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ea.set(t,e),e)}class ka{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}ka.type="NONE";const Sa=ka;function xa(t,e,n){return`firebase:${t}:${e}:${n}`}class Ca{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=xa(this.userKey,r.apiKey,i),this.fullPersistenceKey=xa("persistence",r.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Ta._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new Ca(ja(Sa),t,n);const r=(await Promise.all(e.map((async t=>{if(await t._isAvailable())return t})))).filter((t=>t));let i=r[0]||ja(Sa);const s=xa(n,t.config.apiKey,t.name);let o=null;for(const n of e)try{const e=await n._get(s);if(e){const r=Ta._fromJSON(t,e);n!==i&&(o=r),i=n;break}}catch(t){}const a=r.filter((t=>t._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(e.map((async t=>{if(t!==i)try{await t._remove(s)}catch(t){}}))),new Ca(i,t,n)):new Ca(i,t,n)}}function Ra(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(La(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Oa(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Da(e))return"Blackberry";if(Fa(e))return"Webos";if(Aa(e))return"Safari";if((e.includes("chrome/")||Na(e))&&!e.includes("edge/"))return"Chrome";if(Ma(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function Oa(t=qt()){return/firefox\//i.test(t)}function Aa(t=qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Na(t=qt()){return/crios\//i.test(t)}function La(t=qt()){return/iemobile/i.test(t)}function Ma(t=qt()){return/android/i.test(t)}function Da(t=qt()){return/blackberry/i.test(t)}function Fa(t=qt()){return/webos/i.test(t)}function Ga(t=qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ua(t=qt()){return Ga(t)||Ma(t)||Fa(t)||Da(t)||/windows phone/i.test(t)||La(t)}function qa(t,e=[]){let n;switch(t){case"Browser":n=Ra(qt());break;case"Worker":n=`${Ra(qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xe}/${r}`}async function Ba(t,e){return la(t,"GET","/v2/recaptchaConfig",ua(t,e))}function za(t){return void 0!==t&&void 0!==t.enterprise}class Ha{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState))}}function Wa(t){return new Promise(((e,n)=>{const r=document.createElement("script");var i,s;r.setAttribute("src",t),r.onload=e,r.onerror=t=>{const e=Yo("internal-error");e.customData=t,n(e)},r.type="text/javascript",r.charset="UTF-8",(null!==(s=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==s?s:document).appendChild(r)}))}function Va(t){return`__${t}${Math.floor(1e6*Math.random())}`}class Ka{constructor(t){this.type="recaptcha-enterprise",this.auth=Qa(t)}async verify(t="verify",e=!1){function n(e,n,r){const i=window.grecaptcha;za(i)?i.enterprise.ready((()=>{i.enterprise.execute(e,{action:t}).then((t=>{n(t)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((t,r)=>{(async function(t){if(!e){if(null==t.tenantId&&null!=t._agentRecaptchaConfig)return t._agentRecaptchaConfig.siteKey;if(null!=t.tenantId&&void 0!==t._tenantRecaptchaConfigs[t.tenantId])return t._tenantRecaptchaConfigs[t.tenantId].siteKey}return new Promise((async(e,n)=>{Ba(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Ha(r);return null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,e(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((t=>{n(t)}))}))})(this.auth).then((i=>{if(!e&&za(window.grecaptcha))n(i,t,r);else{if("undefined"==typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Wa("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,t,r)})).catch((t=>{r(t)}))}})).catch((t=>{r(t)}))}))}}async function $a(t,e,n,r=!1){const i=new Ka(t);let s;try{s=await i.verify(n)}catch(t){s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}class Ya{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=e=>new Promise(((n,r)=>{try{n(t(e))}catch(t){r(t)}}));n.onAbort=e,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(t){e.reverse();for(const t of e)try{t()}catch(t){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==t?void 0:t.message})}}}class Ja{constructor(t,e,n,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xa(this),this.idTokenSubscription=new Xa(this),this.beforeStateQueue=new Ya(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wo,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ja(e)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Ca.create(this,t),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(t){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(t,!0):void 0}async initializeCurrentUser(t){var e;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,s=null==r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(t);n&&n!==s||!(null==o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(t){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(t)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Qo(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(t){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await wa(t)}catch(t){if("auth/network-request-failed"!==(null==t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const e=t?ce(t):null;return e&&Qo(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Qo(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue((async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue((async()=>{await this.assertedPersistence.setPersistence(ja(t))}))}async initializeRecaptchaConfig(){const t=await Ba(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),e=new Ha(t);null==this.tenantId?this._agentRecaptchaConfig=e:this._tenantRecaptchaConfigs[this.tenantId]=e,e.emailPasswordEnabled&&new Ka(this).verify()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Wt("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ja(t)||this._popupRedirectResolver;Qo(e,this,"argument-error"),this.redirectPersistenceManager=await Ca.create(this,[ja(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(t)))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,r){if(this._deleted)return()=>{};const i="function"==typeof e?e:e.next.bind(e),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Qo(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"==typeof e?t.addObserver(e,n,r):t.addObserver(e)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Qo(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=qa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;const e=await(null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken());return(null==e?void 0:e.error)&&function(t,...e){Vo.logLevel<=ge.WARN&&Vo.warn(`Auth (${Xe}): ${t}`,...e)}(`Error while retrieving App Check token: ${e.error}`),null==e?void 0:e.token}}function Qa(t){return ce(t)}class Xa{constructor(t){this.auth=t,this.observer=null,this.addObserver=function(t,e){const n=new oe(t,void 0);return n.subscribe.bind(n)}((t=>this.observer=t))}get next(){return Qo(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Za(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tu(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class eu{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Xo("not implemented")}_getIdTokenResponse(t){return Xo("not implemented")}_linkToIdToken(t,e){return Xo("not implemented")}_getReauthenticationResolver(t){return Xo("not implemented")}}async function nu(t,e){return ha(t,"POST","/v1/accounts:signInWithPassword",ua(t,e))}class ru extends eu{constructor(t,e,n,r=null){super("password",n),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new ru(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new ru(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if((null==e?void 0:e.email)&&(null==e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){var e;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(e=t._getRecaptchaConfig())||void 0===e?void 0:e.emailPasswordEnabled){const e=await $a(t,n,"signInWithPassword");return nu(t,e)}return nu(t,n).catch((async e=>{if("auth/missing-recaptcha-token"===e.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const e=await $a(t,n,"signInWithPassword");return nu(t,e)}return Promise.reject(e)}));case"emailLink":return async function(t,e){return ha(t,"POST","/v1/accounts:signInWithEmailLink",ua(t,e))}(t,{email:this._email,oobCode:this._password});default:$o(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return async function(t,e){return la(t,"POST","/v1/accounts:update",e)}(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(t,e){return ha(t,"POST","/v1/accounts:signInWithEmailLink",ua(t,e))}(t,{idToken:e,email:this._email,oobCode:this._password});default:$o(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function iu(t,e){return ha(t,"POST","/v1/accounts:signInWithIdp",ua(t,e))}class su extends eu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new su(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):$o("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:n,signInMethod:r}=e,i=zo(e,["providerId","signInMethod"]);if(!n||!r)return null;const s=new su(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(t){return iu(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,iu(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,iu(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=ne(e)}return t}}const ou={USER_NOT_FOUND:"user-not-found"};class au extends eu{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new au({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new au({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return async function(t,e){return ha(t,"POST","/v1/accounts:signInWithPhoneNumber",ua(t,e))}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return async function(t,e){const n=await ha(t,"POST","/v1/accounts:signInWithPhoneNumber",ua(t,e));if(n.temporaryProof)throw pa(t,"account-exists-with-different-credential",n);return n}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return async function(t,e){return ha(t,"POST","/v1/accounts:signInWithPhoneNumber",ua(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),ou)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:r}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:r}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"==typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}=t;return n||e||r||i?new au({verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class uu{constructor(t){var e,n,r,i,s,o;const a=re(ie(t)),u=null!==(e=a.apiKey)&&void 0!==e?e:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Qo(u&&l&&c,"argument-error"),this.apiKey=u,this.operation=c,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(t){const e=function(t){const e=re(ie(t)).link,n=e?re(ie(e)).deep_link_id:null,r=re(ie(t)).deep_link_id;return(r?re(ie(r)).link:null)||r||n||e||t}(t);try{return new uu(e)}catch(t){return null}}}class lu{constructor(){this.providerId=lu.PROVIDER_ID}static credential(t,e){return ru._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=uu.parseLink(e);return Qo(n,"argument-error"),ru._fromEmailAndCode(t,n.code,n.tenantId)}}lu.PROVIDER_ID="password",lu.EMAIL_PASSWORD_SIGN_IN_METHOD="password",lu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class cu{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class hu extends cu{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class du extends hu{constructor(){super("facebook.com")}static credential(t){return su._fromParams({providerId:du.PROVIDER_ID,signInMethod:du.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return du.credentialFromTaggedObject(t)}static credentialFromError(t){return du.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return du.credential(t.oauthAccessToken)}catch(t){return null}}}du.FACEBOOK_SIGN_IN_METHOD="facebook.com",du.PROVIDER_ID="facebook.com";class fu extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return su._fromParams({providerId:fu.PROVIDER_ID,signInMethod:fu.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return fu.credentialFromTaggedObject(t)}static credentialFromError(t){return fu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return fu.credential(e,n)}catch(t){return null}}}fu.GOOGLE_SIGN_IN_METHOD="google.com",fu.PROVIDER_ID="google.com";class pu extends hu{constructor(){super("github.com")}static credential(t){return su._fromParams({providerId:pu.PROVIDER_ID,signInMethod:pu.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return pu.credentialFromTaggedObject(t)}static credentialFromError(t){return pu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return pu.credential(t.oauthAccessToken)}catch(t){return null}}}pu.GITHUB_SIGN_IN_METHOD="github.com",pu.PROVIDER_ID="github.com";class mu extends hu{constructor(){super("twitter.com")}static credential(t,e){return su._fromParams({providerId:mu.PROVIDER_ID,signInMethod:mu.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return mu.credentialFromTaggedObject(t)}static credentialFromError(t){return mu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return mu.credential(e,n)}catch(t){return null}}}mu.TWITTER_SIGN_IN_METHOD="twitter.com",mu.PROVIDER_ID="twitter.com";class gu{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,r=!1){const i=await Ta._fromIdTokenResponse(t,n,r),s=vu(n);return new gu({user:i,providerId:s,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const r=vu(n);return new gu({user:t,providerId:r,_tokenResponse:n,operationType:e})}}function vu(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}async function yu(t){var e;const n=Qa(t);if(await n._initializationPromise,null===(e=n.currentUser)||void 0===e?void 0:e.isAnonymous)return new gu({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await async function(t,e){return ha(t,"POST","/v1/accounts:signUp",ua(t,e))}(n,{returnSecureToken:!0}),i=await gu._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}class _u extends Ht{constructor(t,e,n,r){var i;super(e.code,e.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,_u.prototype),this.customData={appName:t.name,tenantId:null!==(i=t.tenantId)&&void 0!==i?i:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,r){return new _u(t,e,n,r)}}function bu(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw _u._fromErrorAndOperation(t,n,e,r);throw n}))}new WeakMap;const wu="__sak";class Iu{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(wu,"1"),this.storage.removeItem(wu),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}class Pu extends Iu{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=qt();return Aa(t)||Ga(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=Ua(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),r=this.localCache[e];n!==r&&t(e,r,n)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys(((t,e,n)=>{this.notifyListeners(t,n)}));const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(t.newValue!==r)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const r=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},i=this.storage.getItem(n);!function(){const t=qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||10!==document.documentMode||i===t.newValue||t.newValue===t.oldValue?r():setTimeout(r,10)}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const t of Array.from(n))t(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Pu.type="LOCAL";const Tu=Pu;class Eu extends Iu{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Eu.type="SESSION";const ju=Eu;class ku{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find((e=>e.isListeningto(t)));if(e)return e;const n=new ku(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:r,data:i}=e.data,s=this.handlersMap[r];if(!(null==s?void 0:s.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async t=>t(e.origin,i))),a=await function(t){return Promise.all(t.map((async t=>{try{return{fulfilled:!0,value:await t}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);e.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Su(t="",e=10){let n="";for(let t=0;t<e;t++)n+=Math.floor(10*Math.random());return t+n}ku.receivers=[];class xu{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const u=Su("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(t){const e=t;if(e.data.eventId===u)switch(e.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(e.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:e},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Cu(){return window}function Ru(){return void 0!==Cu().WorkerGlobalScope&&"function"==typeof Cu().importScripts}const Ou="firebaseLocalStorageDb",Au="firebaseLocalStorage",Nu="fbase_key";class Lu{constructor(t){this.request=t}toPromise(){return new Promise(((t,e)=>{this.request.addEventListener("success",(()=>{t(this.request.result)})),this.request.addEventListener("error",(()=>{e(this.request.error)}))}))}}function Mu(t,e){return t.transaction([Au],e?"readwrite":"readonly").objectStore(Au)}function Du(){const t=indexedDB.open(Ou,1);return new Promise(((e,n)=>{t.addEventListener("error",(()=>{n(t.error)})),t.addEventListener("upgradeneeded",(()=>{const e=t.result;try{e.createObjectStore(Au,{keyPath:Nu})}catch(t){n(t)}})),t.addEventListener("success",(async()=>{const n=t.result;n.objectStoreNames.contains(Au)?e(n):(n.close(),await function(){const t=indexedDB.deleteDatabase(Ou);return new Lu(t).toPromise()}(),e(await Du()))}))}))}async function Fu(t,e,n){const r=Mu(t,!0).put({[Nu]:e,value:n});return new Lu(r).toPromise()}function Gu(t,e){const n=Mu(t,!0).delete(e);return new Lu(n).toPromise()}class Uu{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Du()),this.db}async _withRetries(t){let e=0;for(;;)try{const e=await this._openDb();return await t(e)}catch(t){if(e++>3)throw t;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ru()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ku._getInstance(Ru()?self:null),this.receiver._subscribe("keyChanged",(async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)}))),this.receiver._subscribe("ping",(async(t,e)=>["keyChanged"]))}async initializeSender(){var t,e;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new xu(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=n[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){var e;if(this.sender&&this.activeServiceWorker&&((null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Du();return await Fu(t,wu,"1"),await Gu(t,wu),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite((async()=>(await this._withRetries((n=>Fu(n,t,e))),this.localCache[t]=e,this.notifyServiceWorker(t))))}async _get(t){const e=await this._withRetries((e=>async function(t,e){const n=Mu(t,!1).get(e),r=await new Lu(n).toPromise();return void 0===r?null:r.value}(e,t)));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite((async()=>(await this._withRetries((e=>Gu(e,t))),delete this.localCache[t],this.notifyServiceWorker(t))))}async _poll(){const t=await this._withRetries((t=>{const e=Mu(t,!1).getAll();return new Lu(e).toPromise()}));if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;for(const{fbase_key:r,value:i}of t)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),e.push(r));for(const t of Object.keys(this.localCache))this.localCache[t]&&!n.has(t)&&(this.notifyListeners(t,null),e.push(t));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const t of Array.from(n))t(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Uu.type="LOCAL";const qu=Uu;Va("rcb"),new ra(3e4,6e4);class Bu{constructor(t){this.providerId=Bu.PROVIDER_ID,this.auth=Qa(t)}verifyPhoneNumber(t,e){return async function(t,e,n){var r;const i=await n.verify();try{let s;if(Qo("string"==typeof i,t,"argument-error"),Qo("recaptcha"===n.type,t,"argument-error"),s="string"==typeof e?{phoneNumber:e}:e,"session"in s){const e=s.session;if("phoneNumber"in s){Qo("enroll"===e.type,t,"internal-error");const n=await function(t,e){return la(t,"POST","/v2/accounts/mfaEnrollment:start",ua(t,e))}(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Qo("signin"===e.type,t,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Qo(n,t,"missing-multi-factor-info");const o=await function(t,e){return la(t,"POST","/v2/accounts/mfaSignIn:start",ua(t,e))}(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=await async function(t,e){return la(t,"POST","/v1/accounts:sendVerificationCode",ua(t,e))}(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return e}}finally{n._reset()}}(this.auth,t,ce(e))}static credential(t,e){return au._fromVerification(t,e)}static credentialFromResult(t){const e=t;return Bu.credentialFromTaggedObject(e)}static credentialFromError(t){return Bu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:e,temporaryProof:n}=t;return e&&n?au._fromTokenResponse(e,n):null}}Bu.PROVIDER_ID="phone",Bu.PHONE_SIGN_IN_METHOD="phone";class zu extends eu{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return iu(t,this._buildIdpRequest())}_linkToIdToken(t,e){return iu(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return iu(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Hu(t){return async function(t,e,n=!1){const r="signIn",i=await bu(t,r,e),s=await gu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}(t.auth,new zu(t),t.bypassAuthState)}function Wu(t){const{auth:e,user:n}=t;return Qo(n,e,"internal-error"),async function(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await ya(t,bu(r,i,e,t),n);Qo(s.idToken,r,"internal-error");const o=va(s.idToken);Qo(o,r,"internal-error");const{sub:a}=o;return Qo(t.uid===a,r,"user-mismatch"),gu._forOperation(t,i,s)}catch(t){throw"auth/user-not-found"===(null==t?void 0:t.code)&&$o(r,"user-mismatch"),t}}(n,new zu(t),t.bypassAuthState)}async function Vu(t){const{auth:e,user:n}=t;return Qo(n,e,"internal-error"),async function(t,e,n=!1){const r=await ya(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gu._forOperation(t,"link",r)}(n,new zu(t),t.bypassAuthState)}class Ku{constructor(t,e,n,r,i=!1){this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(t){this.reject(t)}}))}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=t;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:e,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(t){this.reject(t)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Hu;case"linkViaPopup":case"linkViaRedirect":return Vu;case"reauthViaPopup":case"reauthViaRedirect":return Wu;default:$o(this.auth,"internal-error")}}resolve(t){Zo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Zo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $u=new ra(2e3,1e4);class Yu extends Ku{constructor(t,e,n,r,i){super(t,e,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Yu.currentPopupAction&&Yu.currentPopupAction.cancel(),Yu.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Qo(t,this.auth,"internal-error"),t}async onExecution(){Zo(1===this.filter.length,"Popup operations only handle one event");const t=Su();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((t=>{this.reject(t)})),this.resolver._isIframeWebStorageSupported(this.auth,(t=>{t||this.reject(Yo(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(Yo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yu.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Yo(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(t,$u.get())};t()}}Yu.currentPopupAction=null;const Ju="pendingRedirect",Qu=new Map;class Xu extends Ku{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=Qu.get(this.auth._key());if(!t){try{const e=await async function(t,e){const n=function(t){return xa(Ju,t.config.apiKey,t.name)}(e),r=function(t){return ja(t._redirectPersistence)}(t);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(e)}catch(e){t=()=>Promise.reject(e)}Qu.set(this.auth._key(),t)}return this.bypassAuthState||Qu.set(this.auth._key(),(()=>Promise.resolve(null))),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Zu(t,e){Qu.set(t._key(),e)}async function tl(t,e,n=!1){const r=Qa(t),i=function(t,e){return e?ja(e):(Qo(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),s=new Xu(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}class el{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))})),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rl(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!rl(t)){const r=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(Yo(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nl(t))}saveEventToCache(t){this.cachedEventUids.add(nl(t)),this.lastProcessedEventTime=Date.now()}}function nl(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter((t=>t)).join("-")}function rl({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}const il=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sl=/^https?/;function ol(t){const e=ta(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return""===i.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!sl.test(n))return!1;if(il.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const al=new ra(3e4,6e4);function ul(){const t=Cu().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let e=0;e<t.CP.length;e++)t.CP[e]=null}let ll=null;function cl(t){return ll=ll||function(t){return new Promise(((e,n)=>{var r,i,s;function o(){ul(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ul(),n(Yo(t,"network-request-failed"))},timeout:al.get()})}if(null===(i=null===(r=Cu().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=Cu().gapi)||void 0===s?void 0:s.load)){const e=Va("iframefcb");return Cu()[e]=()=>{gapi.load?o():n(Yo(t,"network-request-failed"))},Wa(`https://apis.google.com/js/api.js?onload=${e}`).catch((t=>n(t)))}o()}})).catch((t=>{throw ll=null,t}))}(t),ll}const hl=new ra(5e3,15e3),dl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pl(t){const e=t.config;Qo(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ia(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:Xe},i=fl.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ne(r).slice(1)}`}const ml={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gl{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}const vl=encodeURIComponent("fac");async function yl(t,e,n,r,i,s){Qo(t.config.authDomain,t,"auth-domain-config-required"),Qo(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xe,eventId:i};if(e instanceof cu){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Xt(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(s||{}))o[t]=e}if(e instanceof hu){const t=e.getScopes().filter((t=>""!==t));t.length>0&&(o.scopes=t.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const t of Object.keys(a))void 0===a[t]&&delete a[t];const u=await t._getAppCheckToken(),l=u?`#${vl}=${encodeURIComponent(u)}`:"";return`${function({config:t}){return t.emulator?ia(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${ne(a).slice(1)}${l}`}const _l="webStorageSupport",bl=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ju,this._completeRedirectFn=tl,this._overrideRedirectResult=Zu}async _openPopup(t,e,n,r){var i;return Zo(null===(i=this.eventManagers[t._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},ml),{width:r.toString(),height:i.toString(),top:s,left:o}),l=qt().toLowerCase();n&&(a=Na(l)?"_blank":n),Oa(l)&&(e=e||"http://localhost",u.scrollbars="yes");const c=Object.entries(u).reduce(((t,[e,n])=>`${t}${e}=${n},`),"");if(function(t=qt()){var e;return Ga(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new gl(null);const h=window.open(e||"",a,c);Qo(h,t,"popup-blocked");try{h.focus()}catch(t){}return new gl(h)}(t,await yl(t,e,n,ta(),r),Su())}async _openRedirect(t,e,n,r){return await this._originValidation(t),i=await yl(t,e,n,ta(),r),Cu().location.href=i,new Promise((()=>{}));var i}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(Zo(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch((()=>{delete this.eventManagers[e]})),n}async initAndGetManager(t){const e=await async function(t){const e=await cl(t),n=Cu().gapi;return Qo(n,t,"internal-error"),e.open({where:document.body,url:pl(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dl,dontclear:!0},(e=>new Promise((async(n,r)=>{await e.restyle({setHideOnLeave:!1});const i=Yo(t,"network-request-failed"),s=Cu().setTimeout((()=>{r(i)}),hl.get());function o(){Cu().clearTimeout(s),n(e)}e.ping(o).then(o,(()=>{r(i)}))}))))}(t),n=new el(t);return e.register("authEvent",(e=>(Qo(null==e?void 0:e.authEvent,t,"invalid-auth-event"),{status:n.onEvent(e.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(_l,{type:_l},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[_l];void 0!==i&&e(!!i),$o(t,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=async function(t){if(t.config.emulator)return;const{authorizedDomains:e}=await async function(t,e={}){return la(t,"GET","/v1/projects",e)}(t);for(const t of e)try{if(ol(t))return}catch(t){}$o(t,"unauthorized-domain")}(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Ua()||Aa()||Ga()}};var wl="@firebase/auth",Il="0.23.2";class Pl{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged((e=>{t((null==e?void 0:e.stsTokenManager.accessToken)||null)}));this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Qo(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Tl=Gt("authIdTokenMaxAge")||300;let El=null;const jl=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Tl)return;const i=null==n?void 0:n.token;El!==i&&(El=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function kl(t=tn()){const e=Ye(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function(t,e){const n=Ye(t,"auth");if(n.isInitialized()){const t=n.getImmediate();if(te(n.getOptions(),null!=e?e:{}))return t;$o(t,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:bl,persistence:[qu,Tu,ju]}),r=Gt("authTokenSyncURL");if(r){const t=jl(r);!function(t,e,n){ce(t).beforeAuthStateChanged(e,n)}(n,t,(()=>t(n.currentUser))),function(e,n,r,i){ce(e).onIdTokenChanged((e=>t(e)),void 0,void 0)}(n)}const i=Mt("auth");return i&&function(t,e,n){const r=Qa(t);Qo(r._canInitEmulator,r,"emulator-config-failed"),Qo(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=Za(e),{host:o,port:a}=function(t){const e=Za(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const t=i[1];return{host:t,port:tu(r.substr(t.length+1))}}{const[t,e]=r.split(":");return{host:t,port:tu(e)}}}(e),u=null===a?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}var Sl;function xl(t){return xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(t)}function Cl(){Cl=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var s=e&&e.prototype instanceof d?e:d,o=Object.create(s.prototype),a=new E(i||[]);return r(o,"_invoke",{value:w(t,n,a)}),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function d(){}function f(){}function p(){}var m={};u(m,s,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(j([])));v&&v!==e&&n.call(v,s)&&(m=v);var y=p.prototype=d.prototype=Object.create(m);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function i(r,s,o,a){var u=c(t[r],t,s);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==xl(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,o,a)}),(function(t){i("throw",t,o,a)})):e.resolve(h).then((function(t){l.value=t,o(l)}),(function(t){return i("throw",t,o,a)}))}a(u.arg)}var s;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return s=s?s.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(i,s){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw s;return{value:void 0,done:!0}}for(n.method=i,n.arg=s;;){var o=n.delegate;if(o){var a=I(o,n);if(a){if(a===h)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function I(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,I(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=c(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var s=i.arg;return s?s.done?(e[t.resultName]=s.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):s:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function j(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},_(b.prototype),u(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,s){void 0===s&&(s=Promise);var o=new b(l(e,n,r,i),s);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(y),u(y,a,"Generator"),u(y,s,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=j,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return o.type="throw",o.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var a=n.call(s,"catchLoc"),u=n.call(s,"finallyLoc");if(a&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function Rl(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,i)}function Ol(t){return Al.apply(this,arguments)}function Al(){var t;return t=Cl().mark((function t(e){var n,r,i,s,o,a,u,l,c,h,d,f,p,m,g,v,y,_,b,w,I,P,T,E,j,k;return Cl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p=function(t){var e=Object.keys(t);return e[Math.floor(Math.random()*e.length)]},e.assetPaths,e.input,e.environment,e.title,e.version,n=X({minimum_valid_rt:100,show_progress_bar:!0,auto_update_progress_bar:!1,on_finish:function(){window.location="https://app.prolific.co/submissions/complete?cc=C4UR5YXC"}}),r=n.data.getURLVariable("PROLIFIC_PID"),i=n.data.getURLVariable("STUDY_ID"),s=n.data.getURLVariable("SESSION_ID"),n.data.addProperties({subject_id:r,study_id:i,session_id:s}),o=[],a=Ze({apiKey:"AIzaSyDRiXU9n0kSDKaRoMcp02_W4sfd-xrjADQ",authDomain:"bwlabsummer2022bridgerating.firebaseapp.com",databaseURL:"https://bwlabsummer2022bridgerating-default-rtdb.firebaseio.com",projectId:"bwlabsummer2022bridgerating",storageBucket:"bwlabsummer2022bridgerating.appspot.com",messagingSenderId:"357648218957",appId:"1:357648218957:web:1d91c083af04f494dc5504",measurementId:"G-79YVWTZZEZ"}),u=Bo(a),yu(l=kl()).catch((function(t){t.code,t.message})),o.push({type:nt,stimulus:"\n      <p>Welcome to the experiment!<p/>\n      <p>You can now press any key to proceed.</p>\n    "}),o.push({type:tt,fullscreen_mode:!0}),c={type:it,stimulus:'\n    <p>Before the experiment starts, we would like to have your consent. Clicking the button below will direct you to the consent form.<p/>\n    <p>Please read the consent form carefully and click <b>"I agree"</b> at the bottom of the form if you do decide to participate in this study.</p>\n  \n  ',choices:["Consent form"]},h={type:dt,url:"assets/informed_consent/consent_form.html",cont_btn:"start",check_fn:function(t){return!!document.getElementById("consent_checkbox").checked||(alert("If you wish to participate, you must check the box next to the statement 'I agree to participate in this study.'"),!1)},data:{disp_type:"online_consent_form"}},o.push(c,h),o.push({type:it,stimulus:"\n      <p>Next, we kindly ask you to provide some demographic information with us.<p/>\n    ",choices:["continue"]}),o.push({type:ct,questions:[{prompt:"What is your age?",name:"age",options:["18-24 years old","25-34 years old","35-44 years old","44 years or older","prefer not to disclose"],required:!0},{prompt:"What is your gender identity?",name:"gender",options:["male","female","non-binary","prefer not to disclose"],required:!0},{prompt:"Are you left-handed or right-handed?",name:"handedness",options:["right-handed","left-handed","both"],required:!0},{prompt:"Are you wearing glasses or contacts or none of them?",name:"vision",options:["glasses","contacts","none"],required:!0}],data:{task:"demographics_basic"}}),o.push({type:ct,questions:[{prompt:"Do you have a background in architecture? .",name:"art_exp1",options:["Yes","No"],required:!0},{prompt:"Do you have a formal education in architecture?",name:"art_exp2",options:["Yes","No"],required:!0},{prompt:"Do you have a background in engineering? ",name:"eng_exp1",options:["Yes","No"],required:!0},{prompt:"Do you have a formal education in engineering? ",name:"eng_exp2",options:["Yes","No"],required:!0}],data:{task:"demographics_prior_experience"}}),o.push({type:nt,stimulus:"\n      <p>In this experiment, you will see a series of bridge image. </p>\n      <p>Then, you will be ask to rate the image on <b>aesthetic pleasure</b>, <b>complexity</b>, <b>interest</b>, and <b>perceived safety</b>.</p>\n      <p>Please make sure you're responding to each question within three seconds and finish the entire experiment in one sitting. Failure of doing so might result in invalidation of your participation.</p>\n      <p>Please indicate your rating by clicking on the scale under each bridge image. The experiment should take about 30 minutes. </p>\n      <p>Press any key to begin.</p>\n    ",post_trial_gap:100,on_start:function(){n.setProgressBar(0)}}),d=["Strongly disagree","Disagree","Neutral","Agree","Strongly agree"],m=p(f={sample_a1:mt,sample_a2:gt,sample_b1:vt,sample_b2:yt,sample_c1:_t,sample_c2:bt,sample_d1:wt,sample_d2:It,sample_e1:Pt,sample_e2:Tt}),g=f[m],n.data.addProperties({stimuli_set:m}),v=0,y={type:ot,stimulus:n.timelineVariable("stimulus"),stimulus_width:800,prompt:"<p>I find the design of the bridge to be <strong>aesthetically appealing</strong>.</p>",choices:d,data:{task:"aesthetic_trial"},on_finish:function(){var t=n.getProgressBarCompleted();n.setProgressBar(t+1/115)}},_={type:ot,stimulus:n.timelineVariable("stimulus"),stimulus_width:800,prompt:"<p>I find the design of the bridge to be <strong>complex</strong>.</p>",choices:d,data:{task:"complexity_trial"}},b={type:ot,stimulus:n.timelineVariable("stimulus"),stimulus_width:800,prompt:"<p>I find the design of the bridge to be <strong>interesting</strong>.</p>",choices:d,data:{task:"interest_trial"}},w={type:ot,stimulus:n.timelineVariable("stimulus"),stimulus_width:800,prompt:"<p>I would feel <strong>safe</strong> crossing this bridge.</p>",choices:d,data:{task:"safety_trial"}},I={timeline:[{timeline:[{type:nt,stimulus:"You've reached a breakpoint. Please take a break. Once you're ready, press any key to resume.",data:{task:"break"}},{type:nt,stimulus:"Please press the number 3 on your keyboard.",data:{task:"attention_check",correct_response:"3"},on_finish:function(t){n.pluginAPI.compareKeys(t.response,t.correct_response)?t.correct=!0:t.correct=!1}}],conditional_function:function(){return++v%20==0}},{type:pt,trials:[y,_,b,w],show_progress_bar:!0,message:"Please wait while the image loads. This may take a few seconds..",max_load_time:6e4,error_message:"The experiment failed to load. Please contact the reseasrcher.",data:{task:"preloading"}},y,_,b,w],timeline_variables:g},o.push(I),P={type:nt,stimulus:"<p> Congratulations! You've completed the entire expeirment. Now, please press any key to the debriefing page.",post_trial_gap:500,choices:null},T={type:nt,stimulus:"\n    <p>Thank you for participating in our bridge image rating experiment.  The purpose of this study was to investigate the aesthetic aspects of various bridges and understand what makes them visually appealing to individuals like yourself. <p/>\n    <p>The findings from this research have the potential to contribute to the design of better bridges and assist in environmental impact studies within the engineering field.</p>\n    <p>We greatly appreciate your time and contribution to this study.</p>\n    <p>If you have any questions or concerns, please feel free to reach out to Dr. Dirk Bernhardt-Walther at bernhardt-walther@psych.utoronto.ca.<p>\n  \n  "},E={type:ut,questions:[{prompt:"<p>Please take a moment to reflect on your experience during the experiment and provide us with your feedback.</p> <p>Did all of the images load? Press Y for yes and N for no. </p>",name:"image_status",required:!0},{prompt:"Did you encounter any other technical issues or difficulties while completing the experiment? If yes, please provide details.",name:"technical_difficulty"},{prompt:"If you have any further suggestions or comments about the experiment or the topic of bridge aesthetics, please share them below.",name:"comment"}],data:{task:"post_questions"}},j={type:nt,stimulus:"<p> Saving data, please stay at this page and wait for further instructions.</p> ",post_trial_gap:2e3,choices:null,trial_duration:2e3,on_finish:function(){var t=new Uint32Array(1);t=window.crypto.getRandomValues(t);var e=l.currentUser.uid+"/"+t;Fo(Do(u,e),{data:n.data.get().values(),study:"2023Summer_Bridge_Rating_Main",date:Date()})}},k={type:nt,stimulus:"<p> Thanks for participating in the experiment. Goodbye! </p> ",post_trial_gap:500,choices:null,trial_duration:1e3},o.push(P,T,E,j,k),t.next=49,n.run(o);case 49:case"end":return t.stop()}}),t)})),Al=function(){var e=this,n=arguments;return new Promise((function(r,i){var s=t.apply(e,n);function o(t){Rl(s,r,i,o,a,"next",t)}function a(t){Rl(s,r,i,o,a,"throw",t)}o(void 0)}))},Al.apply(this,arguments)}function Nl(t){return Nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nl(t)}function Ll(){Ll=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var s=e&&e.prototype instanceof d?e:d,o=Object.create(s.prototype),a=new E(i||[]);return r(o,"_invoke",{value:w(t,n,a)}),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function d(){}function f(){}function p(){}var m={};u(m,s,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(j([])));v&&v!==e&&n.call(v,s)&&(m=v);var y=p.prototype=d.prototype=Object.create(m);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function i(r,s,o,a){var u=c(t[r],t,s);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==Nl(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,o,a)}),(function(t){i("throw",t,o,a)})):e.resolve(h).then((function(t){l.value=t,o(l)}),(function(t){return i("throw",t,o,a)}))}a(u.arg)}var s;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return s=s?s.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(i,s){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw s;return{value:void 0,done:!0}}for(n.method=i,n.arg=s;;){var o=n.delegate;if(o){var a=I(o,n);if(a){if(a===h)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function I(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,I(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=c(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var s=i.arg;return s?s.done?(e[t.resultName]=s.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):s:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function j(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},_(b.prototype),u(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,s){void 0===s&&(s=Promise);var o=new b(l(e,n,r,i),s);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(y),u(y,a,"Generator"),u(y,s,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=j,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return o.type="throw",o.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var a=n.call(s,"catchLoc"),u=n.call(s,"finallyLoc");if(a&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function Ml(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,i)}function Dl(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var s=t.apply(e,n);function o(t){Ml(s,r,i,o,a,"next",t)}function a(t){Ml(s,r,i,o,a,"throw",t)}o(void 0)}))}}function Fl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fl(Object(n),!0).forEach((function(e){Ul(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ul(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Nl(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Nl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Nl(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Sl="Browser",$e(new he("auth",((t,{options:e})=>{const n=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;Qo(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const a={apiKey:s,authDomain:o,clientPlatform:Sl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qa(Sl)},u=new Ja(n,r,i,a);return function(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ja);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(u,e),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((t,e,n)=>{t.getProvider("auth-internal").initialize()}))),$e(new he("auth-internal",(t=>{return e=Qa(t.getProvider("auth").getImmediate()),new Pl(e);var e}),"PRIVATE").setInstantiationMode("EXPLICIT")),en(wl,Il,function(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Sl)),en(wl,Il,"esm2017");var ql={assetPaths:{images:["assets/informed_consent/background1.jpg","assets/informed_consent/background2.jpg","assets/rating_stimuli/130918 311 05.jpeg","assets/rating_stimuli/130918 311 07.jpeg","assets/rating_stimuli/131117 315 10.jpeg","assets/rating_stimuli/131117 316 06.jpeg","assets/rating_stimuli/140923 325 06.jpeg","assets/rating_stimuli/140927 329 07.jpeg","assets/rating_stimuli/140929 332 07.jpeg","assets/rating_stimuli/140929 332 09.jpeg","assets/rating_stimuli/150514 338 10.jpeg","assets/rating_stimuli/150518 347 07.jpeg","assets/rating_stimuli/151201 362 10.jpeg","assets/rating_stimuli/160509 368 10.jpeg","assets/rating_stimuli/160509 369 01.jpeg","assets/rating_stimuli/180501 387 04.jpeg","assets/rating_stimuli/180610 392 06.jpeg","assets/rating_stimuli/180621 397 08.jpeg","assets/rating_stimuli/180810 403 08.jpeg","assets/rating_stimuli/180813 405 09.jpeg","assets/rating_stimuli/180814 407 10.jpeg","assets/rating_stimuli/180814 408 04.jpeg","assets/rating_stimuli/181214 410 01.jpeg","assets/rating_stimuli/181214 411 01.jpeg","assets/rating_stimuli/181214 412 04.jpeg","assets/rating_stimuli/190415 413 01.jpeg","assets/rating_stimuli/190418 417 05.jpeg","assets/rating_stimuli/190609 421 01.jpeg","assets/rating_stimuli/190609 422 10.jpeg","assets/rating_stimuli/280 12 05 01 0002.jpeg","assets/rating_stimuli/284 12 05 05 0001.jpeg","assets/rating_stimuli/291 12 06 14 0006.jpeg","assets/rating_stimuli/301 12 09 20 07.jpeg","assets/rating_stimuli/304 12 09 20 01.jpeg","assets/rating_stimuli/306 12 09 20 01.jpeg","assets/rating_stimuli/434 210912 03.jpeg","assets/rating_stimuli/438 220917 07.jpeg","assets/rating_stimuli/439 220920 04.jpeg","assets/rating_stimuli/440 220926 06.jpeg","assets/rating_stimuli/442 220928 01.jpeg","assets/rating_stimuli/446 221203 03.jpeg","assets/rating_stimuli/446 221203 09.jpeg","assets/rating_stimuli/449 221204 04.jpeg","assets/rating_stimuli/BQECR 2.jpeg","assets/rating_stimuli/Hobrigg Switzerland 1.jpeg","assets/rating_stimuli/IMG_1017.jpeg","assets/rating_stimuli/IMG_1561.jpeg","assets/rating_stimuli/IMG_1849.jpeg","assets/rating_stimuli/IMG_2833.jpeg","assets/rating_stimuli/IMG_3833.jpeg","assets/rating_stimuli/IMG_8761.jpeg","assets/rating_stimuli/IMG_8851.jpeg","assets/rating_stimuli/IMG_9188.jpeg","assets/rating_stimuli/IMG_9194.jpeg","assets/rating_stimuli/IMG_9238.jpeg","assets/rating_stimuli/P9121818.jpeg","assets/rating_stimuli/P9121832.jpeg","assets/rating_stimuli/P9281055.jpeg","assets/rating_stimuli/P9290012.jpeg","assets/rating_stimuli/PB272272.jpeg","assets/rating_stimuli/PC081393.jpeg","assets/rating_stimuli/PC081394.jpeg","assets/rating_stimuli/PC130318.jpeg","assets/rating_stimuli/PC130349.jpeg","assets/rating_stimuli/PC130359.jpeg","assets/rating_stimuli/PC150535.jpeg","assets/rating_stimuli/PC150540.jpeg","assets/rating_stimuli/PG 120 090205 Roll 0019 Frame 1.jpeg","assets/rating_stimuli/PG 120 090219 Roll 0027 Frame 1.jpeg","assets/rating_stimuli/PG 120 090219 Roll 0027 Frame 7.jpeg","assets/rating_stimuli/PG 120 090221 Roll 0032 Frame 1.jpeg","assets/rating_stimuli/PG 120 090317 Roll 0050 Frame 2.jpeg","assets/rating_stimuli/PG 120 090512 Roll 00067 Frame 5.jpeg","assets/rating_stimuli/PG 120 090516 Roll 00079 Frame 8.jpeg","assets/rating_stimuli/PG 120 090516 Roll 00080 Frame 3.jpeg","assets/rating_stimuli/PG 120 090518 Roll 0098 Frame 3.jpeg","assets/rating_stimuli/PG 120 090623 Roll 00123 Frame 1.jpeg","assets/rating_stimuli/PG 120 090624 Roll 00126 Frame 5.jpeg","assets/rating_stimuli/PG 120 090624 Roll 00133 Frame 7.jpeg","assets/rating_stimuli/PG 120 090624 Roll 00134 Frame 1.jpeg","assets/rating_stimuli/PG 120 090625 Roll 00135 Frame 7.jpeg","assets/rating_stimuli/PG 120 090802 Roll 00157 Frame 4.jpeg","assets/rating_stimuli/PG 120 090829 Roll 00158 Frame 1.jpeg","assets/rating_stimuli/PG 120 091010 Roll 00159 Frame 6.jpeg","assets/rating_stimuli/PG 120 091010 Roll 00161 Frame 2.jpeg","assets/rating_stimuli/PG 120 100515 Roll 00188 Frame 2.jpeg","assets/rating_stimuli/PG 120 100529 Roll 00189 Frame 8.jpeg","assets/rating_stimuli/PG 120 100529 Roll 00192 Frame 1.jpeg","assets/rating_stimuli/PG 120 100529 Roll 00193 Frame 8.jpeg","assets/rating_stimuli/PG 120 100802 Roll 00207 Frame 2.jpeg","assets/rating_stimuli/PG 120 110601 Roll 00242 Frame 2.jpeg","assets/rating_stimuli/PG 120 110612 Roll 00247 Frame 4.jpeg","assets/rating_stimuli/PG 120 110703 Roll 00259 Frame 3.jpeg","assets/rating_stimuli/PG 2003 09 00805.jpeg","assets/rating_stimuli/PG 2004 04 00429.jpeg","assets/rating_stimuli/PG 2004 09 01184.jpeg","assets/rating_stimuli/PG 2005 05 00216.jpeg","assets/rating_stimuli/PG 2005 10 00729.jpeg","assets/rating_stimuli/PG 2005 10 00747.jpeg","assets/rating_stimuli/PG 2007 07 00655.jpeg","assets/rating_stimuli/PG 2007 07 00941.jpeg","assets/rating_stimuli/PG 2007-07-20 0366.jpeg","assets/rating_stimuli/PG 2007-07-20 0373.jpeg","assets/rating_stimuli/PG 2007-07-20 0407.jpeg","assets/rating_stimuli/PG 2007-07-24 0521.jpeg","assets/rating_stimuli/PG 2007-08-26 1490.jpeg","assets/rating_stimuli/PG 2007-10-06 1671.jpeg","assets/rating_stimuli/PG 2008 02 00419.jpeg","assets/rating_stimuli/PG 2008 02 00483.jpeg","assets/rating_stimuli/PG 2008 02 00936.jpeg","assets/rating_stimuli/PG 2008 02 01138.jpeg","assets/rating_stimuli/PG 2008 02 01255.jpeg","assets/rating_stimuli/PG 2008 03 01534.jpeg","assets/rating_stimuli/PG 2008 06 02022.jpeg","assets/rating_stimuli/PG 2008 06 02099.jpeg","assets/rating_stimuli/PG 2008 06 02181.jpeg","assets/rating_stimuli/PG 2008 06 02373.jpeg","assets/rating_stimuli/PG 2008 07 02805.jpeg","assets/rating_stimuli/PG 2009-05-04 00778.jpeg","assets/rating_stimuli/Rocky Creek 1.jpeg"],audio:[],video:[],misc:["assets/informed_consent/consent_form.html","assets/informed_consent/consent_form.pdf"]},title:"bridge_rating_experiment",version:"1.0.0"};"undefined"==typeof jatos?Ol(Gl({environment:"production"},ql)).then((function(t){t&&t.data.displayData()})):jatos.onLoad(Dl(Ll().mark((function t(){var e;return Ll().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ol(Gl({environment:"jatos",input:jatos.studyJsonInput},ql));case 2:(e=t.sent)&&jatos.submitResultData(e.data.get().json(),jatos.startNextComponent);case 4:case"end":return t.stop()}}),t)}))))}()}();