/*! For license information please see app.js.LICENSE.txt */
!function(){var e={19662:function(e,t,n){var r=n(60614),i=n(66330),s=TypeError;e.exports=function(e){if(r(e))return e;throw s(i(e)+" is not a function")}},39483:function(e,t,n){var r=n(4411),i=n(66330),s=TypeError;e.exports=function(e){if(r(e))return e;throw s(i(e)+" is not a constructor")}},96077:function(e,t,n){var r=n(60614),i=String,s=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw s("Can't set "+i(e)+" as a prototype")}},51223:function(e,t,n){var r=n(5112),i=n(70030),s=n(3070).f,o=r("unscopables"),a=Array.prototype;null==a[o]&&s(a,o,{configurable:!0,value:i(null)}),e.exports=function(e){a[o][e]=!0}},31530:function(e,t,n){"use strict";var r=n(28710).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},25787:function(e,t,n){var r=n(47976),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw i("Incorrect invocation")}},19670:function(e,t,n){var r=n(70111),i=String,s=TypeError;e.exports=function(e){if(r(e))return e;throw s(i(e)+" is not an object")}},23013:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7556:function(e,t,n){var r=n(47293);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},90260:function(e,t,n){"use strict";var r,i,s,o=n(23013),a=n(19781),u=n(17854),c=n(60614),l=n(70111),h=n(92597),d=n(70648),f=n(66330),p=n(68880),g=n(98052),m=n(47045),v=n(47976),y=n(79518),_=n(27674),b=n(5112),w=n(69711),I=n(29909),E=I.enforce,T=I.get,k=u.Int8Array,P=k&&k.prototype,S=u.Uint8ClampedArray,x=S&&S.prototype,j=k&&y(k),C=P&&y(P),R=Object.prototype,O=u.TypeError,A=b("toStringTag"),N=w("TYPED_ARRAY_TAG"),L="TypedArrayConstructor",M=o&&!!_&&"Opera"!==d(u.opera),D=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},U={BigInt64Array:8,BigUint64Array:8},G=function(e){var t=y(e);if(l(t)){var n=T(t);return n&&h(n,L)?n[L]:G(t)}},q=function(e){if(!l(e))return!1;var t=d(e);return h(F,t)||h(U,t)};for(r in F)(s=(i=u[r])&&i.prototype)?E(s)[L]=i:M=!1;for(r in U)(s=(i=u[r])&&i.prototype)&&(E(s)[L]=i);if((!M||!c(j)||j===Function.prototype)&&(j=function(){throw O("Incorrect invocation")},M))for(r in F)u[r]&&_(u[r],j);if((!M||!C||C===R)&&(C=j.prototype,M))for(r in F)u[r]&&_(u[r].prototype,C);if(M&&y(x)!==C&&_(x,C),a&&!h(C,A))for(r in D=!0,m(C,A,{configurable:!0,get:function(){return l(this)?this[N]:void 0}}),F)u[r]&&p(u[r],N,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:D&&N,aTypedArray:function(e){if(q(e))return e;throw O("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!_||v(j,e)))return e;throw O(f(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(a){if(n)for(var i in F){var s=u[i];if(s&&h(s.prototype,e))try{delete s.prototype[e]}catch(n){try{s.prototype[e]=t}catch(e){}}}C[e]&&!n||g(C,e,n?t:M&&P[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(a){if(_){if(n)for(r in F)if((i=u[r])&&h(i,e))try{delete i[e]}catch(e){}if(j[e]&&!n)return;try{return g(j,e,n?t:M&&j[e]||t)}catch(e){}}for(r in F)!(i=u[r])||i[e]&&!n||g(i,e,t)}},getTypedArrayConstructor:G,isView:function(e){if(!l(e))return!1;var t=d(e);return"DataView"===t||h(F,t)||h(U,t)},isTypedArray:q,TypedArray:j,TypedArrayPrototype:C}},13331:function(e,t,n){"use strict";var r=n(17854),i=n(1702),s=n(19781),o=n(23013),a=n(76530),u=n(68880),c=n(47045),l=n(89190),h=n(47293),d=n(25787),f=n(19303),p=n(17466),g=n(57067),m=n(11179),v=n(79518),y=n(27674),_=n(8006).f,b=n(21285),w=n(41589),I=n(58003),E=n(29909),T=a.PROPER,k=a.CONFIGURABLE,P="ArrayBuffer",S="DataView",x="prototype",j="Wrong index",C=E.getterFor(P),R=E.getterFor(S),O=E.set,A=r[P],N=A,L=N&&N[x],M=r[S],D=M&&M[x],F=Object.prototype,U=r.Array,G=r.RangeError,q=i(b),z=i([].reverse),B=m.pack,W=m.unpack,V=function(e){return[255&e]},H=function(e){return[255&e,e>>8&255]},K=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},$=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Y=function(e){return B(e,23,4)},J=function(e){return B(e,52,8)},Q=function(e,t,n){c(e[x],t,{configurable:!0,get:function(){return n(this)[t]}})},X=function(e,t,n,r){var i=g(n),s=R(e);if(i+t>s.byteLength)throw G(j);var o=s.bytes,a=i+s.byteOffset,u=w(o,a,a+t);return r?u:z(u)},Z=function(e,t,n,r,i,s){var o=g(n),a=R(e);if(o+t>a.byteLength)throw G(j);for(var u=a.bytes,c=o+a.byteOffset,l=r(+i),h=0;h<t;h++)u[c+h]=l[s?h:t-h-1]};if(o){var ee=T&&A.name!==P;if(h((function(){A(1)}))&&h((function(){new A(-1)}))&&!h((function(){return new A,new A(1.5),new A(NaN),1!=A.length||ee&&!k})))ee&&k&&u(A,"name",P);else{(N=function(e){return d(this,L),new A(g(e))})[x]=L;for(var te,ne=_(A),re=0;ne.length>re;)(te=ne[re++])in N||u(N,te,A[te]);L.constructor=N}y&&v(D)!==F&&y(D,F);var ie=new M(new N(2)),se=i(D.setInt8);ie.setInt8(0,2147483648),ie.setInt8(1,2147483649),!ie.getInt8(0)&&ie.getInt8(1)||l(D,{setInt8:function(e,t){se(this,e,t<<24>>24)},setUint8:function(e,t){se(this,e,t<<24>>24)}},{unsafe:!0})}else L=(N=function(e){d(this,L);var t=g(e);O(this,{type:P,bytes:q(U(t),0),byteLength:t}),s||(this.byteLength=t,this.detached=!1)})[x],D=(M=function(e,t,n){d(this,D),d(e,L);var r=C(e),i=r.byteLength,o=f(t);if(o<0||o>i)throw G("Wrong offset");if(o+(n=void 0===n?i-o:p(n))>i)throw G("Wrong length");O(this,{type:S,buffer:e,byteLength:n,byteOffset:o,bytes:r.bytes}),s||(this.buffer=e,this.byteLength=n,this.byteOffset=o)})[x],s&&(Q(N,"byteLength",C),Q(M,"buffer",R),Q(M,"byteLength",R),Q(M,"byteOffset",R)),l(D,{getInt8:function(e){return X(this,1,e)[0]<<24>>24},getUint8:function(e){return X(this,1,e)[0]},getInt16:function(e){var t=X(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=X(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return $(X(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return $(X(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return W(X(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return W(X(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){Z(this,1,e,V,t)},setUint8:function(e,t){Z(this,1,e,V,t)},setInt16:function(e,t){Z(this,2,e,H,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){Z(this,2,e,H,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){Z(this,4,e,K,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){Z(this,4,e,K,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){Z(this,4,e,Y,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){Z(this,8,e,J,t,arguments.length>2?arguments[2]:void 0)}});I(N,P),I(M,S),e.exports={ArrayBuffer:N,DataView:M}},1048:function(e,t,n){"use strict";var r=n(47908),i=n(51400),s=n(26244),o=n(85117),a=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),u=s(n),c=i(e,u),l=i(t,u),h=arguments.length>2?arguments[2]:void 0,d=a((void 0===h?u:i(h,u))-l,u-c),f=1;for(l<c&&c<l+d&&(f=-1,l+=d-1,c+=d-1);d-- >0;)l in n?n[c]=n[l]:o(n,c),c+=f,l+=f;return n}},21285:function(e,t,n){"use strict";var r=n(47908),i=n(51400),s=n(26244);e.exports=function(e){for(var t=r(this),n=s(t),o=arguments.length,a=i(o>1?arguments[1]:void 0,n),u=o>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>a;)t[a++]=e;return t}},18533:function(e,t,n){"use strict";var r=n(42092).forEach,i=n(9341)("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},97745:function(e,t,n){var r=n(26244);e.exports=function(e,t){for(var n=0,i=r(t),s=new e(i);i>n;)s[n]=t[n++];return s}},48457:function(e,t,n){"use strict";var r=n(49974),i=n(46916),s=n(47908),o=n(53411),a=n(97659),u=n(4411),c=n(26244),l=n(86135),h=n(18554),d=n(71246),f=Array;e.exports=function(e){var t=s(e),n=u(this),p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g;m&&(g=r(g,p>2?arguments[2]:void 0));var v,y,_,b,w,I,E=d(t),T=0;if(!E||this===f&&a(E))for(v=c(t),y=n?new this(v):f(v);v>T;T++)I=m?g(t[T],T):t[T],l(y,T,I);else for(w=(b=h(t,E)).next,y=n?new this:[];!(_=i(w,b)).done;T++)I=m?o(b,g,[_.value,T],!0):_.value,l(y,T,I);return y.length=T,y}},41318:function(e,t,n){var r=n(45656),i=n(51400),s=n(26244),o=function(e){return function(t,n,o){var a,u=r(t),c=s(u),l=i(o,c);if(e&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},9671:function(e,t,n){var r=n(49974),i=n(68361),s=n(47908),o=n(26244),a=function(e){var t=1==e;return function(n,a,u){for(var c,l=s(n),h=i(l),d=r(a,u),f=o(h);f-- >0;)if(d(c=h[f],f,l))switch(e){case 0:return c;case 1:return f}return t?-1:void 0}};e.exports={findLast:a(0),findLastIndex:a(1)}},42092:function(e,t,n){var r=n(49974),i=n(1702),s=n(68361),o=n(47908),a=n(26244),u=n(65417),c=i([].push),l=function(e){var t=1==e,n=2==e,i=3==e,l=4==e,h=6==e,d=7==e,f=5==e||h;return function(p,g,m,v){for(var y,_,b=o(p),w=s(b),I=r(g,m),E=a(w),T=0,k=v||u,P=t?k(p,E):n||d?k(p,0):void 0;E>T;T++)if((f||T in w)&&(_=I(y=w[T],T,b),e))if(t)P[T]=_;else if(_)switch(e){case 3:return!0;case 5:return y;case 6:return T;case 2:c(P,y)}else switch(e){case 4:return!1;case 7:c(P,y)}return h?-1:i||l?l:P}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},86583:function(e,t,n){"use strict";var r=n(22104),i=n(45656),s=n(19303),o=n(26244),a=n(9341),u=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,h=a("lastIndexOf"),d=l||!h;e.exports=d?function(e){if(l)return r(c,this,arguments)||0;var t=i(this),n=o(t),a=n-1;for(arguments.length>1&&(a=u(a,s(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in t&&t[a]===e)return a||0;return-1}:c},81194:function(e,t,n){var r=n(47293),i=n(5112),s=n(7392),o=i("species");e.exports=function(e){return s>=51||!r((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},9341:function(e,t,n){"use strict";var r=n(47293);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},53671:function(e,t,n){var r=n(19662),i=n(47908),s=n(68361),o=n(26244),a=TypeError,u=function(e){return function(t,n,u,c){r(n);var l=i(t),h=s(l),d=o(l),f=e?d-1:0,p=e?-1:1;if(u<2)for(;;){if(f in h){c=h[f],f+=p;break}if(f+=p,e?f<0:d<=f)throw a("Reduce of empty array with no initial value")}for(;e?f>=0:d>f;f+=p)f in h&&(c=n(c,h[f],f,l));return c}};e.exports={left:u(!1),right:u(!0)}},83658:function(e,t,n){"use strict";var r=n(19781),i=n(43157),s=TypeError,o=Object.getOwnPropertyDescriptor,a=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=a?function(e,t){if(i(e)&&!o(e,"length").writable)throw s("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},41589:function(e,t,n){var r=n(51400),i=n(26244),s=n(86135),o=Array,a=Math.max;e.exports=function(e,t,n){for(var u=i(e),c=r(t,u),l=r(void 0===n?u:n,u),h=o(a(l-c,0)),d=0;c<l;c++,d++)s(h,d,e[c]);return h.length=d,h}},50206:function(e,t,n){var r=n(1702);e.exports=r([].slice)},94362:function(e,t,n){var r=n(41589),i=Math.floor,s=function(e,t){var n=e.length,u=i(n/2);return n<8?o(e,t):a(e,s(r(e,0,u),t),s(r(e,u),t),t)},o=function(e,t){for(var n,r,i=e.length,s=1;s<i;){for(r=s,n=e[s];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==s++&&(e[r]=n)}return e},a=function(e,t,n,r){for(var i=t.length,s=n.length,o=0,a=0;o<i||a<s;)e[o+a]=o<i&&a<s?r(t[o],n[a])<=0?t[o++]:n[a++]:o<i?t[o++]:n[a++];return e};e.exports=s},77475:function(e,t,n){var r=n(43157),i=n(4411),s=n(70111),o=n(5112)("species"),a=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(i(t)&&(t===a||r(t.prototype))||s(t)&&null===(t=t[o]))&&(t=void 0)),void 0===t?a:t}},65417:function(e,t,n){var r=n(77475);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},21843:function(e,t,n){var r=n(26244);e.exports=function(e,t){for(var n=r(e),i=new t(n),s=0;s<n;s++)i[s]=e[n-s-1];return i}},11572:function(e,t,n){var r=n(26244),i=n(19303),s=RangeError;e.exports=function(e,t,n,o){var a=r(e),u=i(n),c=u<0?a+u:u;if(c>=a||c<0)throw s("Incorrect index");for(var l=new t(a),h=0;h<a;h++)l[h]=h===c?o:e[h];return l}},14170:function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n={},r=0;r<66;r++)n[t.charAt(r)]=r;e.exports={itoc:t,ctoi:n}},53411:function(e,t,n){var r=n(19670),i=n(99212);e.exports=function(e,t,n,s){try{return s?t(r(n)[0],n[1]):t(n)}catch(t){i(e,"throw",t)}}},17072:function(e,t,n){var r=n(5112)("iterator"),i=!1;try{var s=0,o={next:function(){return{done:!!s++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var s={};s[r]=function(){return{next:function(){return{done:n=!0}}}},e(s)}catch(e){}return n}},84326:function(e,t,n){var r=n(1702),i=r({}.toString),s=r("".slice);e.exports=function(e){return s(i(e),8,-1)}},70648:function(e,t,n){var r=n(51694),i=n(60614),s=n(84326),o=n(5112)("toStringTag"),a=Object,u="Arguments"==s(function(){return arguments}());e.exports=r?s:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=a(e),o))?n:u?s(t):"Object"==(r=s(t))&&i(t.callee)?"Arguments":r}},95631:function(e,t,n){"use strict";var r=n(70030),i=n(47045),s=n(89190),o=n(49974),a=n(25787),u=n(68554),c=n(20408),l=n(51656),h=n(76178),d=n(96340),f=n(19781),p=n(62423).fastKey,g=n(29909),m=g.set,v=g.getterFor;e.exports={getConstructor:function(e,t,n,l){var h=e((function(e,i){a(e,d),m(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),f||(e.size=0),u(i)||c(i,e[l],{that:e,AS_ENTRIES:n})})),d=h.prototype,g=v(t),y=function(e,t,n){var r,i,s=g(e),o=_(e,t);return o?o.value=n:(s.last=o={index:i=p(t,!0),key:t,value:n,previous:r=s.last,next:void 0,removed:!1},s.first||(s.first=o),r&&(r.next=o),f?s.size++:e.size++,"F"!==i&&(s.index[i]=o)),e},_=function(e,t){var n,r=g(e),i=p(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return s(d,{clear:function(){for(var e=g(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,f?e.size=0:this.size=0},delete:function(e){var t=this,n=g(t),r=_(t,e);if(r){var i=r.next,s=r.previous;delete n.index[r.index],r.removed=!0,s&&(s.next=i),i&&(i.previous=s),n.first==r&&(n.first=i),n.last==r&&(n.last=s),f?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=g(this),r=o(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!_(this,e)}}),s(d,n?{get:function(e){var t=_(this,e);return t&&t.value},set:function(e,t){return y(this,0===e?0:e,t)}}:{add:function(e){return y(this,e=0===e?0:e,e)}}),f&&i(d,"size",{configurable:!0,get:function(){return g(this).size}}),h},setStrong:function(e,t,n){var r=t+" Iterator",i=v(t),s=v(r);l(e,t,(function(e,t){m(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=s(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?h("keys"==t?n.key:"values"==t?n.value:[n.key,n.value],!1):(e.target=void 0,h(void 0,!0))}),n?"entries":"values",!n,!0),d(t)}}},29320:function(e,t,n){"use strict";var r=n(1702),i=n(89190),s=n(62423).getWeakData,o=n(25787),a=n(19670),u=n(68554),c=n(70111),l=n(20408),h=n(42092),d=n(92597),f=n(29909),p=f.set,g=f.getterFor,m=h.find,v=h.findIndex,y=r([].splice),_=0,b=function(e){return e.frozen||(e.frozen=new w)},w=function(){this.entries=[]},I=function(e,t){return m(e.entries,(function(e){return e[0]===t}))};w.prototype={get:function(e){var t=I(this,e);if(t)return t[1]},has:function(e){return!!I(this,e)},set:function(e,t){var n=I(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=v(this.entries,(function(t){return t[0]===e}));return~t&&y(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,n,r){var h=e((function(e,i){o(e,f),p(e,{type:t,id:_++,frozen:void 0}),u(i)||l(i,e[r],{that:e,AS_ENTRIES:n})})),f=h.prototype,m=g(t),v=function(e,t,n){var r=m(e),i=s(a(t),!0);return!0===i?b(r).set(t,n):i[r.id]=n,e};return i(f,{delete:function(e){var t=m(this);if(!c(e))return!1;var n=s(e);return!0===n?b(t).delete(e):n&&d(n,t.id)&&delete n[t.id]},has:function(e){var t=m(this);if(!c(e))return!1;var n=s(e);return!0===n?b(t).has(e):n&&d(n,t.id)}}),i(f,n?{get:function(e){var t=m(this);if(c(e)){var n=s(e);return!0===n?b(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return v(this,e,t)}}:{add:function(e){return v(this,e,!0)}}),h}}},77710:function(e,t,n){"use strict";var r=n(82109),i=n(17854),s=n(1702),o=n(54705),a=n(98052),u=n(62423),c=n(20408),l=n(25787),h=n(60614),d=n(68554),f=n(70111),p=n(47293),g=n(17072),m=n(58003),v=n(79587);e.exports=function(e,t,n){var y=-1!==e.indexOf("Map"),_=-1!==e.indexOf("Weak"),b=y?"set":"add",w=i[e],I=w&&w.prototype,E=w,T={},k=function(e){var t=s(I[e]);a(I,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(_&&!f(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return _&&!f(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(_&&!f(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(o(e,!h(w)||!(_||I.forEach&&!p((function(){(new w).entries().next()})))))E=n.getConstructor(t,e,y,b),u.enable();else if(o(e,!0)){var P=new E,S=P[b](_?{}:-0,1)!=P,x=p((function(){P.has(1)})),j=g((function(e){new w(e)})),C=!_&&p((function(){for(var e=new w,t=5;t--;)e[b](t,t);return!e.has(-0)}));j||((E=t((function(e,t){l(e,I);var n=v(new w,e,E);return d(t)||c(t,n[b],{that:n,AS_ENTRIES:y}),n}))).prototype=I,I.constructor=E),(x||C)&&(k("delete"),k("has"),y&&k("get")),(C||S)&&k(b),_&&I.clear&&delete I.clear}return T[e]=E,r({global:!0,constructor:!0,forced:E!=w},T),m(E,e),_||n.setStrong(E,e,y),E}},99920:function(e,t,n){var r=n(92597),i=n(53887),s=n(31236),o=n(3070);e.exports=function(e,t,n){for(var a=i(t),u=o.f,c=s.f,l=0;l<a.length;l++){var h=a[l];r(e,h)||n&&r(n,h)||u(e,h,c(t,h))}}},84964:function(e,t,n){var r=n(5112)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},49920:function(e,t,n){var r=n(47293);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},14230:function(e,t,n){var r=n(1702),i=n(84488),s=n(41340),o=/"/g,a=r("".replace);e.exports=function(e,t,n,r){var u=s(i(e)),c="<"+t;return""!==n&&(c+=" "+n+'="'+a(s(r),o,"&quot;")+'"'),c+">"+u+"</"+t+">"}},76178:function(e){e.exports=function(e,t){return{value:e,done:t}}},68880:function(e,t,n){var r=n(19781),i=n(3070),s=n(79114);e.exports=r?function(e,t,n){return i.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},79114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},86135:function(e,t,n){"use strict";var r=n(34948),i=n(3070),s=n(79114);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,s(0,n)):e[o]=n}},85573:function(e,t,n){"use strict";var r=n(1702),i=n(47293),s=n(76650).start,o=RangeError,a=isFinite,u=Math.abs,c=Date.prototype,l=c.toISOString,h=r(c.getTime),d=r(c.getUTCDate),f=r(c.getUTCFullYear),p=r(c.getUTCHours),g=r(c.getUTCMilliseconds),m=r(c.getUTCMinutes),v=r(c.getUTCMonth),y=r(c.getUTCSeconds);e.exports=i((function(){return"0385-07-25T07:06:39.999Z"!=l.call(new Date(-50000000000001))}))||!i((function(){l.call(new Date(NaN))}))?function(){if(!a(h(this)))throw o("Invalid time value");var e=this,t=f(e),n=g(e),r=t<0?"-":t>9999?"+":"";return r+s(u(t),r?6:4,0)+"-"+s(v(e)+1,2,0)+"-"+s(d(e),2,0)+"T"+s(p(e),2,0)+":"+s(m(e),2,0)+":"+s(y(e),2,0)+"."+s(n,3,0)+"Z"}:l},38709:function(e,t,n){"use strict";var r=n(19670),i=n(92140),s=TypeError;e.exports=function(e){if(r(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw s("Incorrect hint");return i(this,e)}},47045:function(e,t,n){var r=n(56339),i=n(3070);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},98052:function(e,t,n){var r=n(60614),i=n(3070),s=n(56339),o=n(13072);e.exports=function(e,t,n,a){a||(a={});var u=a.enumerable,c=void 0!==a.name?a.name:t;if(r(n)&&s(n,c,a),a.global)u?e[t]=n:o(t,n);else{try{a.unsafe?e[t]&&(u=!0):delete e[t]}catch(e){}u?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},89190:function(e,t,n){var r=n(98052);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},13072:function(e,t,n){var r=n(17854),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},85117:function(e,t,n){"use strict";var r=n(66330),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw i("Cannot delete property "+r(t)+" of "+r(e))}},19781:function(e,t,n){var r=n(47293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:function(e){var t="object"==typeof document&&document.all,n=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},80317:function(e,t,n){var r=n(17854),i=n(70111),s=r.document,o=i(s)&&i(s.createElement);e.exports=function(e){return o?s.createElement(e):{}}},7207:function(e){var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},93678:function(e){e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},48324:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},98509:function(e,t,n){var r=n(80317)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},68886:function(e,t,n){var r=n(88113).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},7871:function(e,t,n){var r=n(83823),i=n(35268);e.exports=!r&&!i&&"object"==typeof window&&"object"==typeof document},89363:function(e){e.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},83823:function(e){e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},30256:function(e,t,n){var r=n(88113);e.exports=/MSIE|Trident/.test(r)},71528:function(e,t,n){var r=n(88113);e.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},6833:function(e,t,n){var r=n(88113);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},35268:function(e,t,n){var r=n(84326);e.exports="undefined"!=typeof process&&"process"==r(process)},71036:function(e,t,n){var r=n(88113);e.exports=/web0s(?!.*chrome)/i.test(r)},88113:function(e){e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:function(e,t,n){var r,i,s=n(17854),o=n(88113),a=s.process,u=s.Deno,c=a&&a.versions||u&&u.version,l=c&&c.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},98008:function(e,t,n){var r=n(88113).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},98770:function(e,t,n){var r=n(17854);e.exports=function(e){return r[e].prototype}},80748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},11060:function(e,t,n){var r=n(1702),i=Error,s=r("".replace),o=String(i("zxcasd").stack),a=/\n\s*at [^:]*:[^\n]*/,u=a.test(o);e.exports=function(e,t){if(u&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=s(e,a,"");return e}},5392:function(e,t,n){var r=n(68880),i=n(11060),s=n(22914),o=Error.captureStackTrace;e.exports=function(e,t,n,a){s&&(o?o(e,t):r(e,"stack",i(n,a)))}},22914:function(e,t,n){var r=n(47293),i=n(79114);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},7762:function(e,t,n){"use strict";var r=n(19781),i=n(47293),s=n(19670),o=n(70030),a=n(56277),u=Error.prototype.toString,c=i((function(){if(r){var e=o(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==u.call(e))return!0}return"2: 1"!==u.call({message:1,name:2})||"Error"!==u.call({})}));e.exports=c?function(){var e=s(this),t=a(e.name,"Error"),n=a(e.message);return t?n?t+": "+n:t:n}:u},82109:function(e,t,n){var r=n(17854),i=n(31236).f,s=n(68880),o=n(98052),a=n(13072),u=n(99920),c=n(54705);e.exports=function(e,t){var n,l,h,d,f,p=e.target,g=e.global,m=e.stat;if(n=g?r:m?r[p]||a(p,{}):(r[p]||{}).prototype)for(l in t){if(d=t[l],h=e.dontCallGetSet?(f=i(n,l))&&f.value:n[l],!c(g?l:p+(m?".":"#")+l,e.forced)&&void 0!==h){if(typeof d==typeof h)continue;u(d,h)}(e.sham||h&&h.sham)&&s(d,"sham",!0),o(n,l,d,e)}}},47293:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},27007:function(e,t,n){"use strict";n(74916);var r=n(21470),i=n(98052),s=n(22261),o=n(47293),a=n(5112),u=n(68880),c=a("species"),l=RegExp.prototype;e.exports=function(e,t,n,h){var d=a(e),f=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),p=f&&!o((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!f||!p||n){var g=r(/./[d]),m=t(d,""[e],(function(e,t,n,i,o){var a=r(e),u=t.exec;return u===s||u===l.exec?f&&!o?{done:!0,value:g(t,n,i)}:{done:!0,value:a(n,t,i)}:{done:!1}}));i(String.prototype,e,m[0]),i(l,d,m[1])}h&&u(l[d],"sham",!0)}},6790:function(e,t,n){"use strict";var r=n(43157),i=n(26244),s=n(7207),o=n(49974),a=function(e,t,n,u,c,l,h,d){for(var f,p,g=c,m=0,v=!!h&&o(h,d);m<u;)m in n&&(f=v?v(n[m],m,t):n[m],l>0&&r(f)?(p=i(f),g=a(e,t,f,p,g,l-1)-1):(s(g+1),e[g]=f),g++),m++;return g};e.exports=a},76677:function(e,t,n){var r=n(47293);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},22104:function(e,t,n){var r=n(34374),i=Function.prototype,s=i.apply,o=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(s):function(){return o.apply(s,arguments)})},49974:function(e,t,n){var r=n(21470),i=n(19662),s=n(34374),o=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:s?o(e,t):function(){return e.apply(t,arguments)}}},34374:function(e,t,n){var r=n(47293);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},27065:function(e,t,n){"use strict";var r=n(1702),i=n(19662),s=n(70111),o=n(92597),a=n(50206),u=n(34374),c=Function,l=r([].concat),h=r([].join),d={};e.exports=u?c.bind:function(e){var t=i(this),n=t.prototype,r=a(arguments,1),u=function(){var n=l(r,a(arguments));return this instanceof u?function(e,t,n){if(!o(d,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";d[t]=c("C,a","return new C("+h(r,",")+")")}return d[t](e,n)}(t,n.length,n):t.apply(e,n)};return s(n)&&(u.prototype=n),u}},46916:function(e,t,n){var r=n(34374),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},76530:function(e,t,n){var r=n(19781),i=n(92597),s=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,a=i(s,"name"),u=a&&"something"===function(){}.name,c=a&&(!r||r&&o(s,"name").configurable);e.exports={EXISTS:a,PROPER:u,CONFIGURABLE:c}},75668:function(e,t,n){var r=n(1702),i=n(19662);e.exports=function(e,t,n){try{return r(i(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}},21470:function(e,t,n){var r=n(84326),i=n(1702);e.exports=function(e){if("Function"===r(e))return i(e)}},1702:function(e,t,n){var r=n(34374),i=Function.prototype,s=i.call,o=r&&i.bind.bind(s,s);e.exports=r?o:function(e){return function(){return s.apply(e,arguments)}}},35005:function(e,t,n){var r=n(17854),i=n(60614);e.exports=function(e,t){return arguments.length<2?(n=r[e],i(n)?n:void 0):r[e]&&r[e][t];var n}},71246:function(e,t,n){var r=n(70648),i=n(58173),s=n(68554),o=n(97497),a=n(5112)("iterator");e.exports=function(e){if(!s(e))return i(e,a)||i(e,"@@iterator")||o[r(e)]}},18554:function(e,t,n){var r=n(46916),i=n(19662),s=n(19670),o=n(66330),a=n(71246),u=TypeError;e.exports=function(e,t){var n=arguments.length<2?a(e):t;if(i(n))return s(r(n,e));throw u(o(e)+" is not iterable")}},88044:function(e,t,n){var r=n(1702),i=n(43157),s=n(60614),o=n(84326),a=n(41340),u=r([].push);e.exports=function(e){if(s(e))return e;if(i(e)){for(var t=e.length,n=[],r=0;r<t;r++){var c=e[r];"string"==typeof c?u(n,c):"number"!=typeof c&&"Number"!=o(c)&&"String"!=o(c)||u(n,a(c))}var l=n.length,h=!0;return function(e,t){if(h)return h=!1,t;if(i(this))return t;for(var r=0;r<l;r++)if(n[r]===e)return t}}}},58173:function(e,t,n){var r=n(19662),i=n(68554);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},10647:function(e,t,n){var r=n(1702),i=n(47908),s=Math.floor,o=r("".charAt),a=r("".replace),u=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,h,d){var f=n+e.length,p=r.length,g=l;return void 0!==h&&(h=i(h),g=c),a(d,g,(function(i,a){var c;switch(o(a,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,n);case"'":return u(t,f);case"<":c=h[u(a,1,-1)];break;default:var l=+a;if(0===l)return i;if(l>p){var d=s(l/10);return 0===d?i:d<=p?void 0===r[d-1]?o(a,1):r[d-1]+o(a,1):i}c=r[l-1]}return void 0===c?"":c}))}},17854:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||this||Function("return this")()},92597:function(e,t,n){var r=n(1702),i=n(47908),s=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return s(i(e),t)}},3501:function(e){e.exports={}},842:function(e){e.exports=function(e,t){try{1==arguments.length?console.error(e):console.error(e,t)}catch(e){}}},60490:function(e,t,n){var r=n(35005);e.exports=r("document","documentElement")},64664:function(e,t,n){var r=n(19781),i=n(47293),s=n(80317);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},11179:function(e){var t=Array,n=Math.abs,r=Math.pow,i=Math.floor,s=Math.log,o=Math.LN2;e.exports={pack:function(e,a,u){var c,l,h,d=t(u),f=8*u-a-1,p=(1<<f)-1,g=p>>1,m=23===a?r(2,-24)-r(2,-77):0,v=e<0||0===e&&1/e<0?1:0,y=0;for((e=n(e))!=e||e===1/0?(l=e!=e?1:0,c=p):(c=i(s(e)/o),e*(h=r(2,-c))<1&&(c--,h*=2),(e+=c+g>=1?m/h:m*r(2,1-g))*h>=2&&(c++,h/=2),c+g>=p?(l=0,c=p):c+g>=1?(l=(e*h-1)*r(2,a),c+=g):(l=e*r(2,g-1)*r(2,a),c=0));a>=8;)d[y++]=255&l,l/=256,a-=8;for(c=c<<a|l,f+=a;f>0;)d[y++]=255&c,c/=256,f-=8;return d[--y]|=128*v,d},unpack:function(e,t){var n,i=e.length,s=8*i-t-1,o=(1<<s)-1,a=o>>1,u=s-7,c=i-1,l=e[c--],h=127&l;for(l>>=7;u>0;)h=256*h+e[c--],u-=8;for(n=h&(1<<-u)-1,h>>=-u,u+=t;u>0;)n=256*n+e[c--],u-=8;if(0===h)h=1-a;else{if(h===o)return n?NaN:l?-1/0:1/0;n+=r(2,t),h-=a}return(l?-1:1)*n*r(2,h-t)}}},68361:function(e,t,n){var r=n(1702),i=n(47293),s=n(84326),o=Object,a=r("".split);e.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==s(e)?a(e,""):o(e)}:o},79587:function(e,t,n){var r=n(60614),i=n(70111),s=n(27674);e.exports=function(e,t,n){var o,a;return s&&r(o=t.constructor)&&o!==n&&i(a=o.prototype)&&a!==n.prototype&&s(e,a),e}},42788:function(e,t,n){var r=n(1702),i=n(60614),s=n(5465),o=r(Function.toString);i(s.inspectSource)||(s.inspectSource=function(e){return o(e)}),e.exports=s.inspectSource},58340:function(e,t,n){var r=n(70111),i=n(68880);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},62423:function(e,t,n){var r=n(82109),i=n(1702),s=n(3501),o=n(70111),a=n(92597),u=n(3070).f,c=n(8006),l=n(1156),h=n(52050),d=n(69711),f=n(76677),p=!1,g=d("meta"),m=0,v=function(e){u(e,g,{value:{objectID:"O"+m++,weakData:{}}})},y=e.exports={enable:function(){y.enable=function(){},p=!0;var e=c.f,t=i([].splice),n={};n[g]=1,e(n).length&&(c.f=function(n){for(var r=e(n),i=0,s=r.length;i<s;i++)if(r[i]===g){t(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,g)){if(!h(e))return"F";if(!t)return"E";v(e)}return e[g].objectID},getWeakData:function(e,t){if(!a(e,g)){if(!h(e))return!0;if(!t)return!1;v(e)}return e[g].weakData},onFreeze:function(e){return f&&p&&h(e)&&!a(e,g)&&v(e),e}};s[g]=!0},29909:function(e,t,n){var r,i,s,o=n(94811),a=n(17854),u=n(70111),c=n(68880),l=n(92597),h=n(5465),d=n(6200),f=n(3501),p="Object already initialized",g=a.TypeError,m=a.WeakMap;if(o||h.state){var v=h.state||(h.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,r=function(e,t){if(v.has(e))throw g(p);return t.facade=e,v.set(e,t),t},i=function(e){return v.get(e)||{}},s=function(e){return v.has(e)}}else{var y=d("state");f[y]=!0,r=function(e,t){if(l(e,y))throw g(p);return t.facade=e,c(e,y,t),t},i=function(e){return l(e,y)?e[y]:{}},s=function(e){return l(e,y)}}e.exports={set:r,get:i,has:s,enforce:function(e){return s(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}}}},97659:function(e,t,n){var r=n(5112),i=n(97497),s=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[s]===e)}},43157:function(e,t,n){var r=n(84326);e.exports=Array.isArray||function(e){return"Array"==r(e)}},44067:function(e,t,n){var r=n(70648);e.exports=function(e){var t=r(e);return"BigInt64Array"==t||"BigUint64Array"==t}},60614:function(e,t,n){var r=n(4154),i=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},4411:function(e,t,n){var r=n(1702),i=n(47293),s=n(60614),o=n(70648),a=n(35005),u=n(42788),c=function(){},l=[],h=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=r(d.exec),p=!d.exec(c),g=function(e){if(!s(e))return!1;try{return h(c,l,e),!0}catch(e){return!1}},m=function(e){if(!s(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(d,u(e))}catch(e){return!0}};m.sham=!0,e.exports=!h||i((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?m:g},45032:function(e,t,n){var r=n(92597);e.exports=function(e){return void 0!==e&&(r(e,"value")||r(e,"writable"))}},54705:function(e,t,n){var r=n(47293),i=n(60614),s=/#|\.prototype\./,o=function(e,t){var n=u[a(e)];return n==l||n!=c&&(i(t)?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(s,".").toLowerCase()},u=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";e.exports=o},55988:function(e,t,n){var r=n(70111),i=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&i(e)===e}},68554:function(e){e.exports=function(e){return null==e}},70111:function(e,t,n){var r=n(60614),i=n(4154),s=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===s}:function(e){return"object"==typeof e?null!==e:r(e)}},31913:function(e){e.exports=!1},47850:function(e,t,n){var r=n(70111),i=n(84326),s=n(5112)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==i(e))}},52190:function(e,t,n){var r=n(35005),i=n(60614),s=n(47976),o=n(43307),a=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&s(t.prototype,a(e))}},20408:function(e,t,n){var r=n(49974),i=n(46916),s=n(19670),o=n(66330),a=n(97659),u=n(26244),c=n(47976),l=n(18554),h=n(71246),d=n(99212),f=TypeError,p=function(e,t){this.stopped=e,this.result=t},g=p.prototype;e.exports=function(e,t,n){var m,v,y,_,b,w,I,E=n&&n.that,T=!(!n||!n.AS_ENTRIES),k=!(!n||!n.IS_RECORD),P=!(!n||!n.IS_ITERATOR),S=!(!n||!n.INTERRUPTED),x=r(t,E),j=function(e){return m&&d(m,"normal",e),new p(!0,e)},C=function(e){return T?(s(e),S?x(e[0],e[1],j):x(e[0],e[1])):S?x(e,j):x(e)};if(k)m=e.iterator;else if(P)m=e;else{if(!(v=h(e)))throw f(o(e)+" is not iterable");if(a(v)){for(y=0,_=u(e);_>y;y++)if((b=C(e[y]))&&c(g,b))return b;return new p(!1)}m=l(e,v)}for(w=k?e.next:m.next;!(I=i(w,m)).done;){try{b=C(I.value)}catch(e){d(m,"throw",e)}if("object"==typeof b&&b&&c(g,b))return b}return new p(!1)}},99212:function(e,t,n){var r=n(46916),i=n(19670),s=n(58173);e.exports=function(e,t,n){var o,a;i(e);try{if(!(o=s(e,"return"))){if("throw"===t)throw n;return n}o=r(o,e)}catch(e){a=!0,o=e}if("throw"===t)throw n;if(a)throw o;return i(o),n}},63061:function(e,t,n){"use strict";var r=n(13383).IteratorPrototype,i=n(70030),s=n(79114),o=n(58003),a=n(97497),u=function(){return this};e.exports=function(e,t,n,c){var l=t+" Iterator";return e.prototype=i(r,{next:s(+!c,n)}),o(e,l,!1,!0),a[l]=u,e}},51656:function(e,t,n){"use strict";var r=n(82109),i=n(46916),s=n(31913),o=n(76530),a=n(60614),u=n(63061),c=n(79518),l=n(27674),h=n(58003),d=n(68880),f=n(98052),p=n(5112),g=n(97497),m=n(13383),v=o.PROPER,y=o.CONFIGURABLE,_=m.IteratorPrototype,b=m.BUGGY_SAFARI_ITERATORS,w=p("iterator"),I="keys",E="values",T="entries",k=function(){return this};e.exports=function(e,t,n,o,p,m,P){u(n,t,o);var S,x,j,C=function(e){if(e===p&&L)return L;if(!b&&e in A)return A[e];switch(e){case I:case E:case T:return function(){return new n(this,e)}}return function(){return new n(this)}},R=t+" Iterator",O=!1,A=e.prototype,N=A[w]||A["@@iterator"]||p&&A[p],L=!b&&N||C(p),M="Array"==t&&A.entries||N;if(M&&(S=c(M.call(new e)))!==Object.prototype&&S.next&&(s||c(S)===_||(l?l(S,_):a(S[w])||f(S,w,k)),h(S,R,!0,!0),s&&(g[R]=k)),v&&p==E&&N&&N.name!==E&&(!s&&y?d(A,"name",E):(O=!0,L=function(){return i(N,this)})),p)if(x={values:C(E),keys:m?L:C(I),entries:C(T)},P)for(j in x)(b||O||!(j in A))&&f(A,j,x[j]);else r({target:t,proto:!0,forced:b||O},x);return s&&!P||A[w]===L||f(A,w,L,{name:p}),g[t]=L,x}},13383:function(e,t,n){"use strict";var r,i,s,o=n(47293),a=n(60614),u=n(70111),c=n(70030),l=n(79518),h=n(98052),d=n(5112),f=n(31913),p=d("iterator"),g=!1;[].keys&&("next"in(s=[].keys())?(i=l(l(s)))!==Object.prototype&&(r=i):g=!0),!u(r)||o((function(){var e={};return r[p].call(e)!==e}))?r={}:f&&(r=c(r)),a(r[p])||h(r,p,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:g}},97497:function(e){e.exports={}},26244:function(e,t,n){var r=n(17466);e.exports=function(e){return r(e.length)}},56339:function(e,t,n){var r=n(1702),i=n(47293),s=n(60614),o=n(92597),a=n(19781),u=n(76530).CONFIGURABLE,c=n(42788),l=n(29909),h=l.enforce,d=l.get,f=String,p=Object.defineProperty,g=r("".slice),m=r("".replace),v=r([].join),y=a&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),_=String(String).split("String"),b=e.exports=function(e,t,n){"Symbol("===g(f(t),0,7)&&(t="["+m(f(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!o(e,"name")||u&&e.name!==t)&&(a?p(e,"name",{value:t,configurable:!0}):e.name=t),y&&n&&o(n,"arity")&&e.length!==n.arity&&p(e,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?a&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=h(e);return o(r,"source")||(r.source=v(_,"string"==typeof t?t:"")),e};Function.prototype.toString=b((function(){return s(this)&&d(this).source||c(this)}),"toString")},75706:function(e,t,n){var r=n(1702),i=Map.prototype;e.exports={Map:Map,set:r(i.set),get:r(i.get),has:r(i.has),remove:r(i.delete),proto:i}},66736:function(e){var t=Math.expm1,n=Math.exp;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!=t(-2e-17)?function(e){var t=+e;return 0==t?t:t>-1e-6&&t<1e-6?t+t*t/2:n(t)-1}:t},26130:function(e,t,n){var r=n(64310),i=Math.abs,s=Math.pow,o=s(2,-52),a=s(2,-23),u=s(2,127)*(2-a),c=s(2,-126);e.exports=Math.fround||function(e){var t,n,s=+e,l=i(s),h=r(s);return l<c?h*function(e){return e+1/o-1/o}(l/c/a)*c*a:(n=(t=(1+a/o)*l)-(t-l))>u||n!=n?h*(1/0):h*n}},20403:function(e){var t=Math.log,n=Math.LOG10E;e.exports=Math.log10||function(e){return t(e)*n}},26513:function(e){var t=Math.log;e.exports=Math.log1p||function(e){var n=+e;return n>-1e-8&&n<1e-8?n-n*n/2:t(1+n)}},64310:function(e){e.exports=Math.sign||function(e){var t=+e;return 0==t||t!=t?t:t<0?-1:1}},74758:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},95948:function(e,t,n){var r,i,s,o,a,u=n(17854),c=n(49974),l=n(31236).f,h=n(20261).set,d=n(18572),f=n(6833),p=n(71528),g=n(71036),m=n(35268),v=u.MutationObserver||u.WebKitMutationObserver,y=u.document,_=u.process,b=u.Promise,w=l(u,"queueMicrotask"),I=w&&w.value;if(!I){var E=new d,T=function(){var e,t;for(m&&(e=_.domain)&&e.exit();t=E.get();)try{t()}catch(e){throw E.head&&r(),e}e&&e.enter()};f||m||g||!v||!y?!p&&b&&b.resolve?((o=b.resolve(void 0)).constructor=b,a=c(o.then,o),r=function(){a(T)}):m?r=function(){_.nextTick(T)}:(h=c(h,u),r=function(){h(T)}):(i=!0,s=y.createTextNode(""),new v(T).observe(s,{characterData:!0}),r=function(){s.data=i=!i}),I=function(e){E.head||r(),E.add(e)}}e.exports=I},78523:function(e,t,n){"use strict";var r=n(19662),i=TypeError,s=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw i("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new s(e)}},56277:function(e,t,n){var r=n(41340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},3929:function(e,t,n){var r=n(47850),i=TypeError;e.exports=function(e){if(r(e))throw i("The method doesn't accept regular expressions");return e}},77023:function(e,t,n){var r=n(17854).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&r(e)}},2814:function(e,t,n){var r=n(17854),i=n(47293),s=n(1702),o=n(41340),a=n(53111).trim,u=n(81361),c=s("".charAt),l=r.parseFloat,h=r.Symbol,d=h&&h.iterator,f=1/l(u+"-0")!=-1/0||d&&!i((function(){l(Object(d))}));e.exports=f?function(e){var t=a(o(e)),n=l(t);return 0===n&&"-"==c(t,0)?-0:n}:l},83009:function(e,t,n){var r=n(17854),i=n(47293),s=n(1702),o=n(41340),a=n(53111).trim,u=n(81361),c=r.parseInt,l=r.Symbol,h=l&&l.iterator,d=/^[+-]?0x/i,f=s(d.exec),p=8!==c(u+"08")||22!==c(u+"0x16")||h&&!i((function(){c(Object(h))}));e.exports=p?function(e,t){var n=a(o(e));return c(n,t>>>0||(f(d,n)?16:10))}:c},21574:function(e,t,n){"use strict";var r=n(19781),i=n(1702),s=n(46916),o=n(47293),a=n(81956),u=n(25181),c=n(55296),l=n(47908),h=n(68361),d=Object.assign,f=Object.defineProperty,p=i([].concat);e.exports=!d||o((function(){if(r&&1!==d({b:1},d(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=d({},e)[n]||a(d({},t)).join("")!=i}))?function(e,t){for(var n=l(e),i=arguments.length,o=1,d=u.f,f=c.f;i>o;)for(var g,m=h(arguments[o++]),v=d?p(a(m),d(m)):a(m),y=v.length,_=0;y>_;)g=v[_++],r&&!s(f,m,g)||(n[g]=m[g]);return n}:d},70030:function(e,t,n){var r,i=n(19670),s=n(36048),o=n(80748),a=n(3501),u=n(60490),c=n(80317),l=n(6200),h="prototype",d="script",f=l("IE_PROTO"),p=function(){},g=function(e){return"<"+d+">"+e+"</"+d+">"},m=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;v="undefined"!=typeof document?document.domain&&r?m(r):(t=c("iframe"),n="java"+d+":",t.style.display="none",u.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(g("document.F=Object")),e.close(),e.F):m(r);for(var i=o.length;i--;)delete v[h][o[i]];return v()};a[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(p[h]=i(e),n=new p,p[h]=null,n[f]=e):n=v(),void 0===t?n:s.f(n,t)}},36048:function(e,t,n){var r=n(19781),i=n(3353),s=n(3070),o=n(19670),a=n(45656),u=n(81956);t.f=r&&!i?Object.defineProperties:function(e,t){o(e);for(var n,r=a(t),i=u(t),c=i.length,l=0;c>l;)s.f(e,n=i[l++],r[n]);return e}},3070:function(e,t,n){var r=n(19781),i=n(64664),s=n(3353),o=n(19670),a=n(34948),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",f="writable";t.f=r?s?function(e,t,n){if(o(e),t=a(t),o(n),"function"==typeof e&&"prototype"===t&&"value"in n&&f in n&&!n[f]){var r=l(e,t);r&&r[f]&&(e[t]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:h in n?n[h]:r[h],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(o(e),t=a(t),o(n),i)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},31236:function(e,t,n){var r=n(19781),i=n(46916),s=n(55296),o=n(79114),a=n(45656),u=n(34948),c=n(92597),l=n(64664),h=Object.getOwnPropertyDescriptor;t.f=r?h:function(e,t){if(e=a(e),t=u(t),l)try{return h(e,t)}catch(e){}if(c(e,t))return o(!i(s.f,e,t),e[t])}},1156:function(e,t,n){var r=n(84326),i=n(45656),s=n(8006).f,o=n(41589),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"Window"==r(e)?function(e){try{return s(e)}catch(e){return o(a)}}(e):s(i(e))}},8006:function(e,t,n){var r=n(16324),i=n(80748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},25181:function(e,t){t.f=Object.getOwnPropertySymbols},79518:function(e,t,n){var r=n(92597),i=n(60614),s=n(47908),o=n(6200),a=n(49920),u=o("IE_PROTO"),c=Object,l=c.prototype;e.exports=a?c.getPrototypeOf:function(e){var t=s(e);if(r(t,u))return t[u];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof c?l:null}},52050:function(e,t,n){var r=n(47293),i=n(70111),s=n(84326),o=n(7556),a=Object.isExtensible,u=r((function(){a(1)}));e.exports=u||o?function(e){return!!i(e)&&(!o||"ArrayBuffer"!=s(e))&&(!a||a(e))}:a},47976:function(e,t,n){var r=n(1702);e.exports=r({}.isPrototypeOf)},16324:function(e,t,n){var r=n(1702),i=n(92597),s=n(45656),o=n(41318).indexOf,a=n(3501),u=r([].push);e.exports=function(e,t){var n,r=s(e),c=0,l=[];for(n in r)!i(a,n)&&i(r,n)&&u(l,n);for(;t.length>c;)i(r,n=t[c++])&&(~o(l,n)||u(l,n));return l}},81956:function(e,t,n){var r=n(16324),i=n(80748);e.exports=Object.keys||function(e){return r(e,i)}},55296:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},69026:function(e,t,n){"use strict";var r=n(31913),i=n(17854),s=n(47293),o=n(98008);e.exports=r||!s((function(){if(!(o&&o<535)){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete i[e]}}))},27674:function(e,t,n){var r=n(75668),i=n(19670),s=n(96077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return i(n),s(r),t?e(n,r):n.__proto__=r,n}}():void 0)},44699:function(e,t,n){var r=n(19781),i=n(1702),s=n(81956),o=n(45656),a=i(n(55296).f),u=i([].push),c=function(e){return function(t){for(var n,i=o(t),c=s(i),l=c.length,h=0,d=[];l>h;)n=c[h++],r&&!a(i,n)||u(d,e?[n,i[n]]:i[n]);return d}};e.exports={entries:c(!0),values:c(!1)}},90288:function(e,t,n){"use strict";var r=n(51694),i=n(70648);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},92140:function(e,t,n){var r=n(46916),i=n(60614),s=n(70111),o=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&i(n=e.toString)&&!s(a=r(n,e)))return a;if(i(n=e.valueOf)&&!s(a=r(n,e)))return a;if("string"!==t&&i(n=e.toString)&&!s(a=r(n,e)))return a;throw o("Can't convert object to primitive value")}},53887:function(e,t,n){var r=n(35005),i=n(1702),s=n(8006),o=n(25181),a=n(19670),u=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=s.f(a(e)),n=o.f;return n?u(t,n(e)):t}},40857:function(e,t,n){var r=n(17854);e.exports=r},12534:function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},63702:function(e,t,n){var r=n(17854),i=n(2492),s=n(60614),o=n(54705),a=n(42788),u=n(5112),c=n(7871),l=n(83823),h=n(31913),d=n(7392),f=i&&i.prototype,p=u("species"),g=!1,m=s(r.PromiseRejectionEvent),v=o("Promise",(function(){var e=a(i),t=e!==String(i);if(!t&&66===d)return!0;if(h&&(!f.catch||!f.finally))return!0;if(!d||d<51||!/native code/.test(e)){var n=new i((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((n.constructor={})[p]=r,!(g=n.then((function(){}))instanceof r))return!0}return!t&&(c||l)&&!m}));e.exports={CONSTRUCTOR:v,REJECTION_EVENT:m,SUBCLASSING:g}},2492:function(e,t,n){var r=n(17854);e.exports=r.Promise},69478:function(e,t,n){var r=n(19670),i=n(70111),s=n(78523);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=s.f(e);return(0,n.resolve)(t),n.promise}},80612:function(e,t,n){var r=n(2492),i=n(17072),s=n(63702).CONSTRUCTOR;e.exports=s||!i((function(e){r.all(e).then(void 0,(function(){}))}))},2626:function(e,t,n){var r=n(3070).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},18572:function(e){var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},97651:function(e,t,n){var r=n(46916),i=n(19670),s=n(60614),o=n(84326),a=n(22261),u=TypeError;e.exports=function(e,t){var n=e.exec;if(s(n)){var c=r(n,e,t);return null!==c&&i(c),c}if("RegExp"===o(e))return r(a,e,t);throw u("RegExp#exec called on incompatible receiver")}},22261:function(e,t,n){"use strict";var r,i,s=n(46916),o=n(1702),a=n(41340),u=n(67066),c=n(52999),l=n(72309),h=n(70030),d=n(29909).get,f=n(9441),p=n(38173),g=l("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,v=m,y=o("".charAt),_=o("".indexOf),b=o("".replace),w=o("".slice),I=(i=/b*/g,s(m,r=/a/,"a"),s(m,i,"a"),0!==r.lastIndex||0!==i.lastIndex),E=c.BROKEN_CARET,T=void 0!==/()??/.exec("")[1];(I||T||E||f||p)&&(v=function(e){var t,n,r,i,o,c,l,f=this,p=d(f),k=a(e),P=p.raw;if(P)return P.lastIndex=f.lastIndex,t=s(v,P,k),f.lastIndex=P.lastIndex,t;var S=p.groups,x=E&&f.sticky,j=s(u,f),C=f.source,R=0,O=k;if(x&&(j=b(j,"y",""),-1===_(j,"g")&&(j+="g"),O=w(k,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==y(k,f.lastIndex-1))&&(C="(?: "+C+")",O=" "+O,R++),n=new RegExp("^(?:"+C+")",j)),T&&(n=new RegExp("^"+C+"$(?!\\s)",j)),I&&(r=f.lastIndex),i=s(m,x?n:f,O),x?i?(i.input=w(i.input,R),i[0]=w(i[0],R),i.index=f.lastIndex,f.lastIndex+=i[0].length):f.lastIndex=0:I&&i&&(f.lastIndex=f.global?i.index+i[0].length:r),T&&i&&i.length>1&&s(g,i[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&S)for(i.groups=c=h(null),o=0;o<S.length;o++)c[(l=S[o])[0]]=i[l[1]];return i}),e.exports=v},67066:function(e,t,n){"use strict";var r=n(19670);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},34706:function(e,t,n){var r=n(46916),i=n(92597),s=n(47976),o=n(67066),a=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in a||i(e,"flags")||!s(a,e)?t:r(o,e)}},52999:function(e,t,n){var r=n(47293),i=n(17854).RegExp,s=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),o=s||r((function(){return!i("a","y").sticky})),a=s||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:a,MISSED_STICKY:o,UNSUPPORTED_Y:s}},9441:function(e,t,n){var r=n(47293),i=n(17854).RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},38173:function(e,t,n){var r=n(47293),i=n(17854).RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},84488:function(e,t,n){var r=n(68554),i=TypeError;e.exports=function(e){if(r(e))throw i("Can't call method on "+e);return e}},81150:function(e){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},17152:function(e,t,n){"use strict";var r,i=n(17854),s=n(22104),o=n(60614),a=n(89363),u=n(88113),c=n(50206),l=n(48053),h=i.Function,d=/MSIE .\./.test(u)||a&&((r=i.Bun.version.split(".")).length<3||0==r[0]&&(r[1]<3||3==r[1]&&0==r[2]));e.exports=function(e,t){var n=t?2:1;return d?function(r,i){var a=l(arguments.length,1)>n,u=o(r)?r:h(r),d=a?c(arguments,n):[],f=a?function(){s(u,this,d)}:u;return t?e(f,i):e(f)}:e}},79405:function(e,t,n){var r=n(1702),i=Set.prototype;e.exports={Set:Set,add:r(i.add),has:r(i.has),remove:r(i.delete),proto:i}},96340:function(e,t,n){"use strict";var r=n(35005),i=n(47045),s=n(5112),o=n(19781),a=s("species");e.exports=function(e){var t=r(e);o&&t&&!t[a]&&i(t,a,{configurable:!0,get:function(){return this}})}},58003:function(e,t,n){var r=n(3070).f,i=n(92597),s=n(5112)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,s)&&r(e,s,{configurable:!0,value:t})}},6200:function(e,t,n){var r=n(72309),i=n(69711),s=r("keys");e.exports=function(e){return s[e]||(s[e]=i(e))}},5465:function(e,t,n){var r=n(17854),i=n(13072),s="__core-js_shared__",o=r[s]||i(s,{});e.exports=o},72309:function(e,t,n){var r=n(31913),i=n(5465);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.30.2",mode:r?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.2/LICENSE",source:"https://github.com/zloirock/core-js"})},36707:function(e,t,n){var r=n(19670),i=n(39483),s=n(68554),o=n(5112)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||s(n=r(a)[o])?t:i(n)}},43429:function(e,t,n){var r=n(47293);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},28710:function(e,t,n){var r=n(1702),i=n(19303),s=n(41340),o=n(84488),a=r("".charAt),u=r("".charCodeAt),c=r("".slice),l=function(e){return function(t,n){var r,l,h=s(o(t)),d=i(n),f=h.length;return d<0||d>=f?e?"":void 0:(r=u(h,d))<55296||r>56319||d+1===f||(l=u(h,d+1))<56320||l>57343?e?a(h,d):r:e?c(h,d,d+2):l-56320+(r-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},54986:function(e,t,n){var r=n(88113);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},76650:function(e,t,n){var r=n(1702),i=n(17466),s=n(41340),o=n(38415),a=n(84488),u=r(o),c=r("".slice),l=Math.ceil,h=function(e){return function(t,n,r){var o,h,d=s(a(t)),f=i(n),p=d.length,g=void 0===r?" ":s(r);return f<=p||""==g?d:((h=u(g,l((o=f-p)/g.length))).length>o&&(h=c(h,0,o)),e?d+h:h+d)}};e.exports={start:h(!1),end:h(!0)}},33197:function(e,t,n){var r=n(1702),i=2147483647,s=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",u=RangeError,c=r(o.exec),l=Math.floor,h=String.fromCharCode,d=r("".charCodeAt),f=r([].join),p=r([].push),g=r("".replace),m=r("".split),v=r("".toLowerCase),y=function(e){return e+22+75*(e<26)},_=function(e,t,n){var r=0;for(e=n?l(e/700):e>>1,e+=l(e/t);e>455;)e=l(e/35),r+=36;return l(r+36*e/(e+38))},b=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=d(e,n++);if(i>=55296&&i<=56319&&n<r){var s=d(e,n++);56320==(64512&s)?p(t,((1023&i)<<10)+(1023&s)+65536):(p(t,i),n--)}else p(t,i)}return t}(e);var n,r,s=e.length,o=128,c=0,g=72;for(n=0;n<e.length;n++)(r=e[n])<128&&p(t,h(r));var m=t.length,v=m;for(m&&p(t,"-");v<s;){var b=i;for(n=0;n<e.length;n++)(r=e[n])>=o&&r<b&&(b=r);var w=v+1;if(b-o>l((i-c)/w))throw u(a);for(c+=(b-o)*w,o=b,n=0;n<e.length;n++){if((r=e[n])<o&&++c>i)throw u(a);if(r==o){for(var I=c,E=36;;){var T=E<=g?1:E>=g+26?26:E-g;if(I<T)break;var k=I-T,P=36-T;p(t,h(y(T+k%P))),I=l(k/P),E+=36}p(t,h(y(I))),g=_(c,w,v==m),c=0,v++}}c++,o++}return f(t,"")};e.exports=function(e){var t,n,r=[],i=m(g(v(e),o,"."),".");for(t=0;t<i.length;t++)n=i[t],p(r,c(s,n)?"xn--"+b(n):n);return f(r,".")}},38415:function(e,t,n){"use strict";var r=n(19303),i=n(41340),s=n(84488),o=RangeError;e.exports=function(e){var t=i(s(this)),n="",a=r(e);if(a<0||a==1/0)throw o("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},10365:function(e,t,n){"use strict";var r=n(53111).end,i=n(76091);e.exports=i("trimEnd")?function(){return r(this)}:"".trimEnd},76091:function(e,t,n){var r=n(76530).PROPER,i=n(47293),s=n(81361);e.exports=function(e){return i((function(){return!!s[e]()||""!==""[e]()||r&&s[e].name!==e}))}},33217:function(e,t,n){"use strict";var r=n(53111).start,i=n(76091);e.exports=i("trimStart")?function(){return r(this)}:"".trimStart},53111:function(e,t,n){var r=n(1702),i=n(84488),s=n(41340),o=n(81361),a=r("".replace),u=RegExp("^["+o+"]+"),c=RegExp("(^|[^"+o+"])["+o+"]+$"),l=function(e){return function(t){var n=s(i(t));return 1&e&&(n=a(n,u,"")),2&e&&(n=a(n,c,"$1")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},64124:function(e,t,n){var r=n(17854),i=n(47293),s=n(7392),o=n(7871),a=n(83823),u=n(35268),c=r.structuredClone;e.exports=!!c&&!i((function(){if(a&&s>92||u&&s>94||o&&s>97)return!1;var e=new ArrayBuffer(8),t=c(e,{transfer:[e]});return 0!=e.byteLength||8!=t.byteLength}))},36293:function(e,t,n){var r=n(7392),i=n(47293),s=n(17854).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!s(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},56532:function(e,t,n){var r=n(46916),i=n(35005),s=n(5112),o=n(98052);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,a=s("toPrimitive");t&&!t[a]&&o(t,a,(function(e){return r(n,this)}),{arity:1})}},2015:function(e,t,n){var r=n(36293);e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},20261:function(e,t,n){var r,i,s,o,a=n(17854),u=n(22104),c=n(49974),l=n(60614),h=n(92597),d=n(47293),f=n(60490),p=n(50206),g=n(80317),m=n(48053),v=n(6833),y=n(35268),_=a.setImmediate,b=a.clearImmediate,w=a.process,I=a.Dispatch,E=a.Function,T=a.MessageChannel,k=a.String,P=0,S={},x="onreadystatechange";d((function(){r=a.location}));var j=function(e){if(h(S,e)){var t=S[e];delete S[e],t()}},C=function(e){return function(){j(e)}},R=function(e){j(e.data)},O=function(e){a.postMessage(k(e),r.protocol+"//"+r.host)};_&&b||(_=function(e){m(arguments.length,1);var t=l(e)?e:E(e),n=p(arguments,1);return S[++P]=function(){u(t,void 0,n)},i(P),P},b=function(e){delete S[e]},y?i=function(e){w.nextTick(C(e))}:I&&I.now?i=function(e){I.now(C(e))}:T&&!v?(o=(s=new T).port2,s.port1.onmessage=R,i=c(o.postMessage,o)):a.addEventListener&&l(a.postMessage)&&!a.importScripts&&r&&"file:"!==r.protocol&&!d(O)?(i=O,a.addEventListener("message",R,!1)):i=x in g("script")?function(e){f.appendChild(g("script"))[x]=function(){f.removeChild(this),j(e)}}:function(e){setTimeout(C(e),0)}),e.exports={set:_,clear:b}},50863:function(e,t,n){var r=n(1702);e.exports=r(1..valueOf)},51400:function(e,t,n){var r=n(19303),i=Math.max,s=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):s(n,t)}},64599:function(e,t,n){var r=n(57593),i=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw i("Can't convert number to bigint");return BigInt(t)}},57067:function(e,t,n){var r=n(19303),i=n(17466),s=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw s("Wrong length or index");return n}},45656:function(e,t,n){var r=n(68361),i=n(84488);e.exports=function(e){return r(i(e))}},19303:function(e,t,n){var r=n(74758);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},17466:function(e,t,n){var r=n(19303),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},47908:function(e,t,n){var r=n(84488),i=Object;e.exports=function(e){return i(r(e))}},84590:function(e,t,n){var r=n(73002),i=RangeError;e.exports=function(e,t){var n=r(e);if(n%t)throw i("Wrong offset");return n}},73002:function(e,t,n){var r=n(19303),i=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw i("The argument can't be less than 0");return t}},57593:function(e,t,n){var r=n(46916),i=n(70111),s=n(52190),o=n(58173),a=n(92140),u=n(5112),c=TypeError,l=u("toPrimitive");e.exports=function(e,t){if(!i(e)||s(e))return e;var n,u=o(e,l);if(u){if(void 0===t&&(t="default"),n=r(u,e,t),!i(n)||s(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},34948:function(e,t,n){var r=n(57593),i=n(52190);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},51694:function(e,t,n){var r={};r[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(r)},41340:function(e,t,n){var r=n(70648),i=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},44038:function(e,t,n){var r=n(35268);e.exports=function(e){try{if(r)return Function('return require("'+e+'")')()}catch(e){}}},66330:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},19843:function(e,t,n){"use strict";var r=n(82109),i=n(17854),s=n(46916),o=n(19781),a=n(63832),u=n(90260),c=n(13331),l=n(25787),h=n(79114),d=n(68880),f=n(55988),p=n(17466),g=n(57067),m=n(84590),v=n(34948),y=n(92597),_=n(70648),b=n(70111),w=n(52190),I=n(70030),E=n(47976),T=n(27674),k=n(8006).f,P=n(97321),S=n(42092).forEach,x=n(96340),j=n(47045),C=n(3070),R=n(31236),O=n(29909),A=n(79587),N=O.get,L=O.set,M=O.enforce,D=C.f,F=R.f,U=Math.round,G=i.RangeError,q=c.ArrayBuffer,z=q.prototype,B=c.DataView,W=u.NATIVE_ARRAY_BUFFER_VIEWS,V=u.TYPED_ARRAY_TAG,H=u.TypedArray,K=u.TypedArrayPrototype,$=u.aTypedArrayConstructor,Y=u.isTypedArray,J="BYTES_PER_ELEMENT",Q="Wrong length",X=function(e,t){$(e);for(var n=0,r=t.length,i=new e(r);r>n;)i[n]=t[n++];return i},Z=function(e,t){j(e,t,{configurable:!0,get:function(){return N(this)[t]}})},ee=function(e){var t;return E(z,e)||"ArrayBuffer"==(t=_(e))||"SharedArrayBuffer"==t},te=function(e,t){return Y(e)&&!w(t)&&t in e&&f(+t)&&t>=0},ne=function(e,t){return t=v(t),te(e,t)?h(2,e[t]):F(e,t)},re=function(e,t,n){return t=v(t),!(te(e,t)&&b(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?D(e,t,n):(e[t]=n.value,e)};o?(W||(R.f=ne,C.f=re,Z(K,"buffer"),Z(K,"byteOffset"),Z(K,"byteLength"),Z(K,"length")),r({target:"Object",stat:!0,forced:!W},{getOwnPropertyDescriptor:ne,defineProperty:re}),e.exports=function(e,t,n){var o=e.match(/\d+/)[0]/8,u=e+(n?"Clamped":"")+"Array",c="get"+e,h="set"+e,f=i[u],v=f,y=v&&v.prototype,_={},w=function(e,t){D(e,t,{get:function(){return function(e,t){var n=N(e);return n.view[c](t*o+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,r){var i=N(e);n&&(r=(r=U(r))<0?0:r>255?255:255&r),i.view[h](t*o+i.byteOffset,r,!0)}(this,t,e)},enumerable:!0})};W?a&&(v=t((function(e,t,n,r){return l(e,y),A(b(t)?ee(t)?void 0!==r?new f(t,m(n,o),r):void 0!==n?new f(t,m(n,o)):new f(t):Y(t)?X(v,t):s(P,v,t):new f(g(t)),e,v)})),T&&T(v,H),S(k(f),(function(e){e in v||d(v,e,f[e])})),v.prototype=y):(v=t((function(e,t,n,r){l(e,y);var i,a,u,c=0,h=0;if(b(t)){if(!ee(t))return Y(t)?X(v,t):s(P,v,t);i=t,h=m(n,o);var d=t.byteLength;if(void 0===r){if(d%o)throw G(Q);if((a=d-h)<0)throw G(Q)}else if((a=p(r)*o)+h>d)throw G(Q);u=a/o}else u=g(t),i=new q(a=u*o);for(L(e,{buffer:i,byteOffset:h,byteLength:a,length:u,view:new B(i)});c<u;)w(e,c++)})),T&&T(v,H),y=v.prototype=I(K)),y.constructor!==v&&d(y,"constructor",v),M(y).TypedArrayConstructor=v,V&&d(y,V,u);var E=v!=f;_[u]=v,r({global:!0,constructor:!0,forced:E,sham:!W},_),J in v||d(v,J,o),J in y||d(y,J,o),x(u)}):e.exports=function(){}},63832:function(e,t,n){var r=n(17854),i=n(47293),s=n(17072),o=n(90260).NATIVE_ARRAY_BUFFER_VIEWS,a=r.ArrayBuffer,u=r.Int8Array;e.exports=!o||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!s((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||i((function(){return 1!==new u(new a(2),1,void 0).length}))},43074:function(e,t,n){var r=n(97745),i=n(66304);e.exports=function(e,t){return r(i(e),t)}},97321:function(e,t,n){var r=n(49974),i=n(46916),s=n(39483),o=n(47908),a=n(26244),u=n(18554),c=n(71246),l=n(97659),h=n(44067),d=n(90260).aTypedArrayConstructor,f=n(64599);e.exports=function(e){var t,n,p,g,m,v,y,_,b=s(this),w=o(e),I=arguments.length,E=I>1?arguments[1]:void 0,T=void 0!==E,k=c(w);if(k&&!l(k))for(_=(y=u(w,k)).next,w=[];!(v=i(_,y)).done;)w.push(v.value);for(T&&I>2&&(E=r(E,arguments[2])),n=a(w),p=new(d(b))(n),g=h(p),t=0;n>t;t++)m=T?E(w[t],t):w[t],p[t]=g?f(m):+m;return p}},66304:function(e,t,n){var r=n(90260),i=n(36707),s=r.aTypedArrayConstructor,o=r.getTypedArrayConstructor;e.exports=function(e){return s(i(e,o(e)))}},69711:function(e,t,n){var r=n(1702),i=0,s=Math.random(),o=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+s,36)}},85143:function(e,t,n){var r=n(47293),i=n(5112),s=n(19781),o=n(31913),a=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),o&&!e.toJSON||!t.size&&(o||!s)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},43307:function(e,t,n){var r=n(36293);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(e,t,n){var r=n(19781),i=n(47293);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},48053:function(e){var t=TypeError;e.exports=function(e,n){if(e<n)throw t("Not enough arguments");return e}},94811:function(e,t,n){var r=n(17854),i=n(60614),s=r.WeakMap;e.exports=i(s)&&/native code/.test(String(s))},26800:function(e,t,n){var r=n(40857),i=n(92597),s=n(6061),o=n(3070).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||o(t,e,{value:s.f(e)})}},6061:function(e,t,n){var r=n(5112);t.f=r},5112:function(e,t,n){var r=n(17854),i=n(72309),s=n(92597),o=n(69711),a=n(36293),u=n(43307),c=r.Symbol,l=i("wks"),h=u?c.for||c:c&&c.withoutSetter||o;e.exports=function(e){return s(l,e)||(l[e]=a&&s(c,e)?c[e]:h("Symbol."+e)),l[e]}},81361:function(e){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},89191:function(e,t,n){"use strict";var r=n(35005),i=n(92597),s=n(68880),o=n(47976),a=n(27674),u=n(99920),c=n(2626),l=n(79587),h=n(56277),d=n(58340),f=n(5392),p=n(19781),g=n(31913);e.exports=function(e,t,n,m){var v="stackTraceLimit",y=m?2:1,_=e.split("."),b=_[_.length-1],w=r.apply(null,_);if(w){var I=w.prototype;if(!g&&i(I,"cause")&&delete I.cause,!n)return w;var E=r("Error"),T=t((function(e,t){var n=h(m?t:e,void 0),r=m?new w(e):new w;return void 0!==n&&s(r,"message",n),f(r,T,r.stack,2),this&&o(I,this)&&l(r,this,T),arguments.length>y&&d(r,arguments[y]),r}));if(T.prototype=I,"Error"!==b?a?a(T,E):u(T,E,{name:!0}):p&&v in w&&(c(T,w,v),c(T,w,"prepareStackTrace")),u(T,w),!g)try{I.name!==b&&s(I,"name",b),I.constructor=T}catch(e){}return T}}},32120:function(e,t,n){var r=n(82109),i=n(35005),s=n(22104),o=n(47293),a=n(89191),u="AggregateError",c=i(u),l=!o((function(){return 1!==c([1]).errors[0]}))&&o((function(){return 7!==c([1],u,{cause:7}).cause}));r({global:!0,constructor:!0,arity:2,forced:l},{AggregateError:a(u,(function(e){return function(t,n){return s(e,this,arguments)}}),l,!0)})},56967:function(e,t,n){"use strict";var r=n(82109),i=n(47976),s=n(79518),o=n(27674),a=n(99920),u=n(70030),c=n(68880),l=n(79114),h=n(58340),d=n(5392),f=n(20408),p=n(56277),g=n(5112)("toStringTag"),m=Error,v=[].push,y=function(e,t){var n,r=i(_,this);o?n=o(m(),r?s(this):_):(n=r?this:u(_),c(n,g,"Error")),void 0!==t&&c(n,"message",p(t)),d(n,y,n.stack,1),arguments.length>2&&h(n,arguments[2]);var a=[];return f(e,v,{that:a}),c(n,"errors",a),n};o?o(y,m):a(y,m,{name:!0});var _=y.prototype=u(m.prototype,{constructor:l(1,y),message:l(1,""),name:l(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:y})},9170:function(e,t,n){n(56967)},18264:function(e,t,n){"use strict";var r=n(82109),i=n(17854),s=n(13331),o=n(96340),a="ArrayBuffer",u=s[a];r({global:!0,constructor:!0,forced:i[a]!==u},{ArrayBuffer:u}),o(a)},76938:function(e,t,n){var r=n(82109),i=n(90260);r({target:"ArrayBuffer",stat:!0,forced:!i.NATIVE_ARRAY_BUFFER_VIEWS},{isView:i.isView})},39575:function(e,t,n){"use strict";var r=n(82109),i=n(21470),s=n(47293),o=n(13331),a=n(19670),u=n(51400),c=n(17466),l=n(36707),h=o.ArrayBuffer,d=o.DataView,f=d.prototype,p=i(h.prototype.slice),g=i(f.getUint8),m=i(f.setUint8);r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:s((function(){return!new h(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(p&&void 0===t)return p(a(this),e);for(var n=a(this).byteLength,r=u(e,n),i=u(void 0===t?n:t,n),s=new(l(this,h))(c(i-r)),o=new d(this),f=new d(s),v=0;r<i;)m(f,v++,g(o,r++));return s}})},52262:function(e,t,n){"use strict";var r=n(82109),i=n(47908),s=n(26244),o=n(19303),a=n(51223);r({target:"Array",proto:!0},{at:function(e){var t=i(this),n=s(t),r=o(e),a=r>=0?r:n+r;return a<0||a>=n?void 0:t[a]}}),a("at")},92222:function(e,t,n){"use strict";var r=n(82109),i=n(47293),s=n(43157),o=n(70111),a=n(47908),u=n(26244),c=n(7207),l=n(86135),h=n(65417),d=n(81194),f=n(5112),p=n(7392),g=f("isConcatSpreadable"),m=p>=51||!i((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),v=function(e){if(!o(e))return!1;var t=e[g];return void 0!==t?!!t:s(e)};r({target:"Array",proto:!0,arity:1,forced:!m||!d("concat")},{concat:function(e){var t,n,r,i,s,o=a(this),d=h(o,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(v(s=-1===t?o:arguments[t]))for(i=u(s),c(f+i),n=0;n<i;n++,f++)n in s&&l(d,f,s[n]);else c(f+1),l(d,f++,s);return d.length=f,d}})},50545:function(e,t,n){var r=n(82109),i=n(1048),s=n(51223);r({target:"Array",proto:!0},{copyWithin:i}),s("copyWithin")},26541:function(e,t,n){"use strict";var r=n(82109),i=n(42092).every;r({target:"Array",proto:!0,forced:!n(9341)("every")},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},43290:function(e,t,n){var r=n(82109),i=n(21285),s=n(51223);r({target:"Array",proto:!0},{fill:i}),s("fill")},57327:function(e,t,n){"use strict";var r=n(82109),i=n(42092).filter;r({target:"Array",proto:!0,forced:!n(81194)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},34553:function(e,t,n){"use strict";var r=n(82109),i=n(42092).findIndex,s=n(51223),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),s(o)},77287:function(e,t,n){"use strict";var r=n(82109),i=n(9671).findLastIndex,s=n(51223);r({target:"Array",proto:!0},{findLastIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),s("findLastIndex")},67635:function(e,t,n){"use strict";var r=n(82109),i=n(9671).findLast,s=n(51223);r({target:"Array",proto:!0},{findLast:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),s("findLast")},69826:function(e,t,n){"use strict";var r=n(82109),i=n(42092).find,s=n(51223),o="find",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),s(o)},86535:function(e,t,n){"use strict";var r=n(82109),i=n(6790),s=n(19662),o=n(47908),a=n(26244),u=n(65417);r({target:"Array",proto:!0},{flatMap:function(e){var t,n=o(this),r=a(n);return s(e),(t=u(n,0)).length=i(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},84944:function(e,t,n){"use strict";var r=n(82109),i=n(6790),s=n(47908),o=n(26244),a=n(19303),u=n(65417);r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=s(this),n=o(t),r=u(t,0);return r.length=i(r,t,t,n,0,void 0===e?1:a(e)),r}})},89554:function(e,t,n){"use strict";var r=n(82109),i=n(18533);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},91038:function(e,t,n){var r=n(82109),i=n(48457);r({target:"Array",stat:!0,forced:!n(17072)((function(e){Array.from(e)}))},{from:i})},26699:function(e,t,n){"use strict";var r=n(82109),i=n(41318).includes,s=n(47293),o=n(51223);r({target:"Array",proto:!0,forced:s((function(){return!Array(1).includes()}))},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},82772:function(e,t,n){"use strict";var r=n(82109),i=n(21470),s=n(41318).indexOf,o=n(9341),a=i([].indexOf),u=!!a&&1/a([1],1,-0)<0;r({target:"Array",proto:!0,forced:u||!o("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return u?a(this,e,t)||0:s(this,e,t)}})},79753:function(e,t,n){n(82109)({target:"Array",stat:!0},{isArray:n(43157)})},66992:function(e,t,n){"use strict";var r=n(45656),i=n(51223),s=n(97497),o=n(29909),a=n(3070).f,u=n(51656),c=n(76178),l=n(31913),h=n(19781),d="Array Iterator",f=o.set,p=o.getterFor(d);e.exports=u(Array,"Array",(function(e,t){f(this,{type:d,target:r(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,c(void 0,!0)):c("keys"==n?r:"values"==n?t[r]:[r,t[r]],!1)}),"values");var g=s.Arguments=s.Array;if(i("keys"),i("values"),i("entries"),!l&&h&&"values"!==g.name)try{a(g,"name",{value:"values"})}catch(e){}},69600:function(e,t,n){"use strict";var r=n(82109),i=n(1702),s=n(68361),o=n(45656),a=n(9341),u=i([].join);r({target:"Array",proto:!0,forced:s!=Object||!a("join",",")},{join:function(e){return u(o(this),void 0===e?",":e)}})},94986:function(e,t,n){var r=n(82109),i=n(86583);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},21249:function(e,t,n){"use strict";var r=n(82109),i=n(42092).map;r({target:"Array",proto:!0,forced:!n(81194)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},26572:function(e,t,n){"use strict";var r=n(82109),i=n(47293),s=n(4411),o=n(86135),a=Array;r({target:"Array",stat:!0,forced:i((function(){function e(){}return!(a.of.call(e)instanceof e)}))},{of:function(){for(var e=0,t=arguments.length,n=new(s(this)?this:a)(t);t>e;)o(n,e,arguments[e++]);return n.length=t,n}})},57658:function(e,t,n){"use strict";var r=n(82109),i=n(47908),s=n(26244),o=n(83658),a=n(7207);r({target:"Array",proto:!0,arity:1,forced:n(47293)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=i(this),n=s(t),r=arguments.length;a(n+r);for(var u=0;u<r;u++)t[n]=arguments[u],n++;return o(t,n),n}})},96644:function(e,t,n){"use strict";var r=n(82109),i=n(53671).right,s=n(9341),o=n(7392);r({target:"Array",proto:!0,forced:!n(35268)&&o>79&&o<83||!s("reduceRight")},{reduceRight:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},85827:function(e,t,n){"use strict";var r=n(82109),i=n(53671).left,s=n(9341),o=n(7392);r({target:"Array",proto:!0,forced:!n(35268)&&o>79&&o<83||!s("reduce")},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},65069:function(e,t,n){"use strict";var r=n(82109),i=n(1702),s=n(43157),o=i([].reverse),a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return s(this)&&(this.length=this.length),o(this)}})},47042:function(e,t,n){"use strict";var r=n(82109),i=n(43157),s=n(4411),o=n(70111),a=n(51400),u=n(26244),c=n(45656),l=n(86135),h=n(5112),d=n(81194),f=n(50206),p=d("slice"),g=h("species"),m=Array,v=Math.max;r({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var n,r,h,d=c(this),p=u(d),y=a(e,p),_=a(void 0===t?p:t,p);if(i(d)&&(n=d.constructor,(s(n)&&(n===m||i(n.prototype))||o(n)&&null===(n=n[g]))&&(n=void 0),n===m||void 0===n))return f(d,y,_);for(r=new(void 0===n?m:n)(v(_-y,0)),h=0;y<_;y++,h++)y in d&&l(r,h,d[y]);return r.length=h,r}})},5212:function(e,t,n){"use strict";var r=n(82109),i=n(42092).some;r({target:"Array",proto:!0,forced:!n(9341)("some")},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},2707:function(e,t,n){"use strict";var r=n(82109),i=n(1702),s=n(19662),o=n(47908),a=n(26244),u=n(85117),c=n(41340),l=n(47293),h=n(94362),d=n(9341),f=n(68886),p=n(30256),g=n(7392),m=n(98008),v=[],y=i(v.sort),_=i(v.push),b=l((function(){v.sort(void 0)})),w=l((function(){v.sort(null)})),I=d("sort"),E=!l((function(){if(g)return g<70;if(!(f&&f>3)){if(p)return!0;if(m)return m<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)v.push({k:t+r,v:n})}for(v.sort((function(e,t){return t.v-e.v})),r=0;r<v.length;r++)t=v[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:b||!w||!I||!E},{sort:function(e){void 0!==e&&s(e);var t=o(this);if(E)return void 0===e?y(t):y(t,e);var n,r,i=[],l=a(t);for(r=0;r<l;r++)r in t&&_(i,t[r]);for(h(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:c(t)>c(n)?1:-1}}(e)),n=a(i),r=0;r<n;)t[r]=i[r++];for(;r<l;)u(t,r++);return t}})},38706:function(e,t,n){n(96340)("Array")},40561:function(e,t,n){"use strict";var r=n(82109),i=n(47908),s=n(51400),o=n(19303),a=n(26244),u=n(83658),c=n(7207),l=n(65417),h=n(86135),d=n(85117),f=n(81194)("splice"),p=Math.max,g=Math.min;r({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var n,r,f,m,v,y,_=i(this),b=a(_),w=s(e,b),I=arguments.length;for(0===I?n=r=0:1===I?(n=0,r=b-w):(n=I-2,r=g(p(o(t),0),b-w)),c(b+n-r),f=l(_,r),m=0;m<r;m++)(v=w+m)in _&&h(f,m,_[v]);if(f.length=r,n<r){for(m=w;m<b-r;m++)y=m+n,(v=m+r)in _?_[y]=_[v]:d(_,y);for(m=b;m>b-r+n;m--)d(_,m-1)}else if(n>r)for(m=b-r;m>w;m--)y=m+n-1,(v=m+r-1)in _?_[y]=_[v]:d(_,y);for(m=0;m<n;m++)_[m+w]=arguments[m+2];return u(_,b-r+n),f}})},90476:function(e,t,n){"use strict";var r=n(82109),i=n(21843),s=n(45656),o=n(51223),a=Array;r({target:"Array",proto:!0},{toReversed:function(){return i(s(this),a)}}),o("toReversed")},76459:function(e,t,n){"use strict";var r=n(82109),i=n(1702),s=n(19662),o=n(45656),a=n(97745),u=n(98770),c=n(51223),l=Array,h=i(u("Array").sort);r({target:"Array",proto:!0},{toSorted:function(e){void 0!==e&&s(e);var t=o(this),n=a(l,t);return h(n,e)}}),c("toSorted")},99892:function(e,t,n){"use strict";var r=n(82109),i=n(51223),s=n(7207),o=n(26244),a=n(51400),u=n(45656),c=n(19303),l=Array,h=Math.max,d=Math.min;r({target:"Array",proto:!0},{toSpliced:function(e,t){var n,r,i,f,p=u(this),g=o(p),m=a(e,g),v=arguments.length,y=0;for(0===v?n=r=0:1===v?(n=0,r=g-m):(n=v-2,r=d(h(c(t),0),g-m)),i=s(g+n-r),f=l(i);y<m;y++)f[y]=p[y];for(;y<m+n;y++)f[y]=arguments[y-m+2];for(;y<i;y++)f[y]=p[y+r-n];return f}}),i("toSpliced")},99244:function(e,t,n){n(51223)("flatMap")},33792:function(e,t,n){n(51223)("flat")},30541:function(e,t,n){"use strict";var r=n(82109),i=n(47908),s=n(26244),o=n(83658),a=n(85117),u=n(7207);r({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=i(this),n=s(t),r=arguments.length;if(r){u(n+r);for(var c=n;c--;){var l=c+r;c in t?t[l]=t[c]:a(t,l)}for(var h=0;h<r;h++)t[h]=arguments[h]}return o(t,n+r)}})},35581:function(e,t,n){"use strict";var r=n(82109),i=n(11572),s=n(45656),o=Array;r({target:"Array",proto:!0},{with:function(e,t){return i(s(this),o,e,t)}})},3690:function(e,t,n){var r=n(82109),i=n(13331);r({global:!0,constructor:!0,forced:!n(23013)},{DataView:i.DataView})},16716:function(e,t,n){n(3690)},43016:function(e,t,n){"use strict";var r=n(82109),i=n(1702),s=n(47293)((function(){return 120!==new Date(16e11).getYear()})),o=i(Date.prototype.getFullYear);r({target:"Date",proto:!0,forced:s},{getYear:function(){return o(this)-1900}})},3843:function(e,t,n){var r=n(82109),i=n(1702),s=Date,o=i(s.prototype.getTime);r({target:"Date",stat:!0},{now:function(){return o(new s)}})},81801:function(e,t,n){"use strict";var r=n(82109),i=n(1702),s=n(19303),o=Date.prototype,a=i(o.getTime),u=i(o.setFullYear);r({target:"Date",proto:!0},{setYear:function(e){a(this);var t=s(e);return u(this,0<=t&&t<=99?t+1900:t)}})},9550:function(e,t,n){n(82109)({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})},28733:function(e,t,n){var r=n(82109),i=n(85573);r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},5735:function(e,t,n){"use strict";var r=n(82109),i=n(47293),s=n(47908),o=n(57593);r({target:"Date",proto:!0,arity:1,forced:i((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(e){var t=s(this),n=o(t,"number");return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},96078:function(e,t,n){var r=n(92597),i=n(98052),s=n(38709),o=n(5112)("toPrimitive"),a=Date.prototype;r(a,o)||i(a,o,s)},83710:function(e,t,n){var r=n(1702),i=n(98052),s=Date.prototype,o="Invalid Date",a="toString",u=r(s[a]),c=r(s.getTime);String(new Date(NaN))!=o&&i(s,a,(function(){var e=c(this);return e==e?u(this):o}))},21703:function(e,t,n){var r=n(82109),i=n(17854),s=n(22104),o=n(89191),a="WebAssembly",u=i[a],c=7!==Error("e",{cause:7}).cause,l=function(e,t){var n={};n[e]=o(e,t,c),r({global:!0,constructor:!0,arity:1,forced:c},n)},h=function(e,t){if(u&&u[e]){var n={};n[e]=o(a+"."+e,t,c),r({target:a,stat:!0,constructor:!0,arity:1,forced:c},n)}};l("Error",(function(e){return function(t){return s(e,this,arguments)}})),l("EvalError",(function(e){return function(t){return s(e,this,arguments)}})),l("RangeError",(function(e){return function(t){return s(e,this,arguments)}})),l("ReferenceError",(function(e){return function(t){return s(e,this,arguments)}})),l("SyntaxError",(function(e){return function(t){return s(e,this,arguments)}})),l("TypeError",(function(e){return function(t){return s(e,this,arguments)}})),l("URIError",(function(e){return function(t){return s(e,this,arguments)}})),h("CompileError",(function(e){return function(t){return s(e,this,arguments)}})),h("LinkError",(function(e){return function(t){return s(e,this,arguments)}})),h("RuntimeError",(function(e){return function(t){return s(e,this,arguments)}}))},96647:function(e,t,n){var r=n(98052),i=n(7762),s=Error.prototype;s.toString!==i&&r(s,"toString",i)},62130:function(e,t,n){"use strict";var r=n(82109),i=n(1702),s=n(41340),o=i("".charAt),a=i("".charCodeAt),u=i(/./.exec),c=i(1..toString),l=i("".toUpperCase),h=/[\w*+\-./@]/,d=function(e,t){for(var n=c(e,16);n.length<t;)n="0"+n;return n};r({global:!0},{escape:function(e){for(var t,n,r=s(e),i="",c=r.length,f=0;f<c;)t=o(r,f++),u(h,t)?i+=t:i+=(n=a(t,0))<256?"%"+d(n,2):"%u"+l(d(n,4));return i}})},24812:function(e,t,n){var r=n(82109),i=n(27065);r({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},4855:function(e,t,n){"use strict";var r=n(60614),i=n(70111),s=n(3070),o=n(79518),a=n(5112),u=n(56339),c=a("hasInstance"),l=Function.prototype;c in l||s.f(l,c,{value:u((function(e){if(!r(this)||!i(e))return!1;var t=this.prototype;if(!i(t))return e instanceof this;for(;e=o(e);)if(t===e)return!0;return!1}),c)})},68309:function(e,t,n){var r=n(19781),i=n(76530).EXISTS,s=n(1702),o=n(47045),a=Function.prototype,u=s(a.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=s(c.exec);r&&!i&&o(a,"name",{configurable:!0,get:function(){try{return l(c,u(this))[1]}catch(e){return""}}})},35837:function(e,t,n){var r=n(82109),i=n(17854);r({global:!0,forced:i.globalThis!==i},{globalThis:i})},38862:function(e,t,n){var r=n(82109),i=n(35005),s=n(22104),o=n(46916),a=n(1702),u=n(47293),c=n(60614),l=n(52190),h=n(50206),d=n(88044),f=n(36293),p=String,g=i("JSON","stringify"),m=a(/./.exec),v=a("".charAt),y=a("".charCodeAt),_=a("".replace),b=a(1..toString),w=/[\uD800-\uDFFF]/g,I=/^[\uD800-\uDBFF]$/,E=/^[\uDC00-\uDFFF]$/,T=!f||u((function(){var e=i("Symbol")();return"[null]"!=g([e])||"{}"!=g({a:e})||"{}"!=g(Object(e))})),k=u((function(){return'"\\udf06\\ud834"'!==g("\udf06\ud834")||'"\\udead"'!==g("\udead")})),P=function(e,t){var n=h(arguments),r=d(t);if(c(r)||void 0!==e&&!l(e))return n[1]=function(e,t){if(c(r)&&(t=o(r,this,p(e),t)),!l(t))return t},s(g,null,n)},S=function(e,t,n){var r=v(n,t-1),i=v(n,t+1);return m(I,e)&&!m(E,i)||m(E,e)&&!m(I,r)?"\\u"+b(y(e,0),16):e};g&&r({target:"JSON",stat:!0,arity:3,forced:T||k},{stringify:function(e,t,n){var r=h(arguments),i=s(T?P:g,null,r);return k&&"string"==typeof i?_(i,w,S):i}})},73706:function(e,t,n){var r=n(17854);n(58003)(r.JSON,"JSON",!0)},69098:function(e,t,n){"use strict";n(77710)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(95631))},51532:function(e,t,n){n(69098)},99752:function(e,t,n){var r=n(82109),i=n(26513),s=Math.acosh,o=Math.log,a=Math.sqrt,u=Math.LN2;r({target:"Math",stat:!0,forced:!s||710!=Math.floor(s(Number.MAX_VALUE))||s(1/0)!=1/0},{acosh:function(e){var t=+e;return t<1?NaN:t>94906265.62425156?o(t)+u:i(t-1+a(t-1)*a(t+1))}})},82376:function(e,t,n){var r=n(82109),i=Math.asinh,s=Math.log,o=Math.sqrt;r({target:"Math",stat:!0,forced:!(i&&1/i(0)>0)},{asinh:function e(t){var n=+t;return isFinite(n)&&0!=n?n<0?-e(-n):s(n+o(n*n+1)):n}})},73181:function(e,t,n){var r=n(82109),i=Math.atanh,s=Math.log;r({target:"Math",stat:!0,forced:!(i&&1/i(-0)<0)},{atanh:function(e){var t=+e;return 0==t?t:s((1+t)/(1-t))/2}})},23484:function(e,t,n){var r=n(82109),i=n(64310),s=Math.abs,o=Math.pow;r({target:"Math",stat:!0},{cbrt:function(e){var t=+e;return i(t)*o(s(t),1/3)}})},2388:function(e,t,n){var r=n(82109),i=Math.floor,s=Math.log,o=Math.LOG2E;r({target:"Math",stat:!0},{clz32:function(e){var t=e>>>0;return t?31-i(s(t+.5)*o):32}})},88621:function(e,t,n){var r=n(82109),i=n(66736),s=Math.cosh,o=Math.abs,a=Math.E;r({target:"Math",stat:!0,forced:!s||s(710)===1/0},{cosh:function(e){var t=i(o(e)-1)+1;return(t+1/(t*a*a))*(a/2)}})},60403:function(e,t,n){var r=n(82109),i=n(66736);r({target:"Math",stat:!0,forced:i!=Math.expm1},{expm1:i})},84755:function(e,t,n){n(82109)({target:"Math",stat:!0},{fround:n(26130)})},25438:function(e,t,n){var r=n(82109),i=Math.hypot,s=Math.abs,o=Math.sqrt;r({target:"Math",stat:!0,arity:2,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(e,t){for(var n,r,i=0,a=0,u=arguments.length,c=0;a<u;)c<(n=s(arguments[a++]))?(i=i*(r=c/n)*r+1,c=n):i+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*o(i)}})},90332:function(e,t,n){var r=n(82109),i=n(47293),s=Math.imul;r({target:"Math",stat:!0,forced:i((function(){return-5!=s(4294967295,5)||2!=s.length}))},{imul:function(e,t){var n=65535,r=+e,i=+t,s=n&r,o=n&i;return 0|s*o+((n&r>>>16)*o+s*(n&i>>>16)<<16>>>0)}})},40658:function(e,t,n){n(82109)({target:"Math",stat:!0},{log10:n(20403)})},40197:function(e,t,n){n(82109)({target:"Math",stat:!0},{log1p:n(26513)})},44914:function(e,t,n){var r=n(82109),i=Math.log,s=Math.LN2;r({target:"Math",stat:!0},{log2:function(e){return i(e)/s}})},52420:function(e,t,n){n(82109)({target:"Math",stat:!0},{sign:n(64310)})},60160:function(e,t,n){var r=n(82109),i=n(47293),s=n(66736),o=Math.abs,a=Math.exp,u=Math.E;r({target:"Math",stat:!0,forced:i((function(){return-2e-17!=Math.sinh(-2e-17)}))},{sinh:function(e){var t=+e;return o(t)<1?(s(t)-s(-t))/2:(a(t-1)-a(-t-1))*(u/2)}})},60970:function(e,t,n){var r=n(82109),i=n(66736),s=Math.exp;r({target:"Math",stat:!0},{tanh:function(e){var t=+e,n=i(t),r=i(-t);return n==1/0?1:r==1/0?-1:(n-r)/(s(t)+s(-t))}})},10408:function(e,t,n){n(58003)(Math,"Math",!0)},73689:function(e,t,n){n(82109)({target:"Math",stat:!0},{trunc:n(74758)})},9653:function(e,t,n){"use strict";var r=n(82109),i=n(31913),s=n(19781),o=n(17854),a=n(40857),u=n(1702),c=n(54705),l=n(92597),h=n(79587),d=n(47976),f=n(52190),p=n(57593),g=n(47293),m=n(8006).f,v=n(31236).f,y=n(3070).f,_=n(50863),b=n(53111).trim,w="Number",I=o[w],E=a[w],T=I.prototype,k=o.TypeError,P=u("".slice),S=u("".charCodeAt),x=c(w,!I(" 0o1")||!I("0b1")||I("+0x1")),j=function(e){var t,n=arguments.length<1?0:I(function(e){var t=p(e,"number");return"bigint"==typeof t?t:function(e){var t,n,r,i,s,o,a,u,c=p(e,"number");if(f(c))throw k("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=b(c),43===(t=S(c,0))||45===t){if(88===(n=S(c,2))||120===n)return NaN}else if(48===t){switch(S(c,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(o=(s=P(c,2)).length,a=0;a<o;a++)if((u=S(s,a))<48||u>i)return NaN;return parseInt(s,r)}return+c}(t)}(e));return d(T,t=this)&&g((function(){_(t)}))?h(Object(n),this,j):n};j.prototype=T,x&&!i&&(T.constructor=j),r({global:!0,constructor:!0,wrap:!0,forced:x},{Number:j});var C=function(e,t){for(var n,r=s?m(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;r.length>i;i++)l(t,n=r[i])&&!l(e,n)&&y(e,n,v(t,n))};i&&E&&C(a[w],E),(x||i)&&C(a[w],I)},93299:function(e,t,n){n(82109)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})},35192:function(e,t,n){n(82109)({target:"Number",stat:!0},{isFinite:n(77023)})},33161:function(e,t,n){n(82109)({target:"Number",stat:!0},{isInteger:n(55988)})},44048:function(e,t,n){n(82109)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},78285:function(e,t,n){var r=n(82109),i=n(55988),s=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function(e){return i(e)&&s(e)<=9007199254740991}})},44363:function(e,t,n){n(82109)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},55994:function(e,t,n){n(82109)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})},61874:function(e,t,n){var r=n(82109),i=n(2814);r({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},9494:function(e,t,n){var r=n(82109),i=n(83009);r({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},31354:function(e,t,n){"use strict";var r=n(82109),i=n(1702),s=n(19303),o=n(50863),a=n(38415),u=n(20403),c=n(47293),l=RangeError,h=String,d=isFinite,f=Math.abs,p=Math.floor,g=Math.pow,m=Math.round,v=i(1..toExponential),y=i(a),_=i("".slice),b="-6.9000e-11"===v(-69e-12,4)&&"1.25e+0"===v(1.255,2)&&"1.235e+4"===v(12345,3)&&"3e+1"===v(25,0);r({target:"Number",proto:!0,forced:!b||!(c((function(){v(1,1/0)}))&&c((function(){v(1,-1/0)})))||!!c((function(){v(1/0,1/0),v(NaN,1/0)}))},{toExponential:function(e){var t=o(this);if(void 0===e)return v(t);var n=s(e);if(!d(t))return String(t);if(n<0||n>20)throw l("Incorrect fraction digits");if(b)return v(t,n);var r="",i="",a=0,c="",w="";if(t<0&&(r="-",t=-t),0===t)a=0,i=y("0",n+1);else{var I=u(t);a=p(I);var E=0,T=g(10,a-n);2*t>=(2*(E=m(t/T))+1)*T&&(E+=1),E>=g(10,n+1)&&(E/=10,a+=1),i=h(E)}return 0!==n&&(i=_(i,0,1)+"."+_(i,1)),0===a?(c="+",w="0"):(c=a>0?"+":"-",w=h(f(a))),r+(i+"e")+c+w}})},56977:function(e,t,n){"use strict";var r=n(82109),i=n(1702),s=n(19303),o=n(50863),a=n(38415),u=n(47293),c=RangeError,l=String,h=Math.floor,d=i(a),f=i("".slice),p=i(1..toFixed),g=function(e,t,n){return 0===t?n:t%2==1?g(e,t-1,n*e):g(e*e,t/2,n)},m=function(e,t,n){for(var r=-1,i=n;++r<6;)i+=t*e[r],e[r]=i%1e7,i=h(i/1e7)},v=function(e,t){for(var n=6,r=0;--n>=0;)r+=e[n],e[n]=h(r/t),r=r%t*1e7},y=function(e){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==e[t]){var r=l(e[t]);n=""===n?r:n+d("0",7-r.length)+r}return n};r({target:"Number",proto:!0,forced:u((function(){return"0.000"!==p(8e-5,3)||"1"!==p(.9,0)||"1.25"!==p(1.255,2)||"1000000000000000128"!==p(0xde0b6b3a7640080,0)}))||!u((function(){p({})}))},{toFixed:function(e){var t,n,r,i,a=o(this),u=s(e),h=[0,0,0,0,0,0],p="",_="0";if(u<0||u>20)throw c("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return l(a);if(a<0&&(p="-",a=-a),a>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(a*g(2,69,1))-69)<0?a*g(2,-t,1):a/g(2,t,1),n*=4503599627370496,(t=52-t)>0){for(m(h,0,n),r=u;r>=7;)m(h,1e7,0),r-=7;for(m(h,g(10,r,1),0),r=t-1;r>=23;)v(h,1<<23),r-=23;v(h,1<<r),m(h,1,1),v(h,2),_=y(h)}else m(h,0,n),m(h,1<<-t,0),_=y(h)+d("0",u);return u>0?p+((i=_.length)<=u?"0."+d("0",u-i)+_:f(_,0,i-u)+"."+f(_,i-u)):p+_}})},55147:function(e,t,n){"use strict";var r=n(82109),i=n(1702),s=n(47293),o=n(50863),a=i(1..toPrecision);r({target:"Number",proto:!0,forced:s((function(){return"1"!==a(1,void 0)}))||!s((function(){a({})}))},{toPrecision:function(e){return void 0===e?a(o(this)):a(o(this),e)}})},19601:function(e,t,n){var r=n(82109),i=n(21574);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},78011:function(e,t,n){n(82109)({target:"Object",stat:!0,sham:!n(19781)},{create:n(70030)})},59595:function(e,t,n){"use strict";var r=n(82109),i=n(19781),s=n(69026),o=n(19662),a=n(47908),u=n(3070);i&&r({target:"Object",proto:!0,forced:s},{__defineGetter__:function(e,t){u.f(a(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},33321:function(e,t,n){var r=n(82109),i=n(19781),s=n(36048).f;r({target:"Object",stat:!0,forced:Object.defineProperties!==s,sham:!i},{defineProperties:s})},69070:function(e,t,n){var r=n(82109),i=n(19781),s=n(3070).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==s,sham:!i},{defineProperty:s})},35500:function(e,t,n){"use strict";var r=n(82109),i=n(19781),s=n(69026),o=n(19662),a=n(47908),u=n(3070);i&&r({target:"Object",proto:!0,forced:s},{__defineSetter__:function(e,t){u.f(a(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},69720:function(e,t,n){var r=n(82109),i=n(44699).entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},43371:function(e,t,n){var r=n(82109),i=n(76677),s=n(47293),o=n(70111),a=n(62423).onFreeze,u=Object.freeze;r({target:"Object",stat:!0,forced:s((function(){u(1)})),sham:!i},{freeze:function(e){return u&&o(e)?u(a(e)):e}})},38559:function(e,t,n){var r=n(82109),i=n(20408),s=n(86135);r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,n){s(t,e,n)}),{AS_ENTRIES:!0}),t}})},38880:function(e,t,n){var r=n(82109),i=n(47293),s=n(45656),o=n(31236).f,a=n(19781);r({target:"Object",stat:!0,forced:!a||i((function(){o(1)})),sham:!a},{getOwnPropertyDescriptor:function(e,t){return o(s(e),t)}})},49337:function(e,t,n){var r=n(82109),i=n(19781),s=n(53887),o=n(45656),a=n(31236),u=n(86135);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),i=a.f,c=s(r),l={},h=0;c.length>h;)void 0!==(n=i(r,t=c[h++]))&&u(l,t,n);return l}})},36210:function(e,t,n){var r=n(82109),i=n(47293),s=n(1156).f;r({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:s})},29660:function(e,t,n){var r=n(82109),i=n(36293),s=n(47293),o=n(25181),a=n(47908);r({target:"Object",stat:!0,forced:!i||s((function(){o.f(1)}))},{getOwnPropertySymbols:function(e){var t=o.f;return t?t(a(e)):[]}})},30489:function(e,t,n){var r=n(82109),i=n(47293),s=n(47908),o=n(79518),a=n(49920);r({target:"Object",stat:!0,forced:i((function(){o(1)})),sham:!a},{getPrototypeOf:function(e){return o(s(e))}})},46314:function(e,t,n){n(82109)({target:"Object",stat:!0},{hasOwn:n(92597)})},41825:function(e,t,n){var r=n(82109),i=n(52050);r({target:"Object",stat:!0,forced:Object.isExtensible!==i},{isExtensible:i})},98410:function(e,t,n){var r=n(82109),i=n(47293),s=n(70111),o=n(84326),a=n(7556),u=Object.isFrozen;r({target:"Object",stat:!0,forced:a||i((function(){u(1)}))},{isFrozen:function(e){return!s(e)||!(!a||"ArrayBuffer"!=o(e))||!!u&&u(e)}})},72200:function(e,t,n){var r=n(82109),i=n(47293),s=n(70111),o=n(84326),a=n(7556),u=Object.isSealed;r({target:"Object",stat:!0,forced:a||i((function(){u(1)}))},{isSealed:function(e){return!s(e)||!(!a||"ArrayBuffer"!=o(e))||!!u&&u(e)}})},43304:function(e,t,n){n(82109)({target:"Object",stat:!0},{is:n(81150)})},47941:function(e,t,n){var r=n(82109),i=n(47908),s=n(81956);r({target:"Object",stat:!0,forced:n(47293)((function(){s(1)}))},{keys:function(e){return s(i(e))}})},94869:function(e,t,n){"use strict";var r=n(82109),i=n(19781),s=n(69026),o=n(47908),a=n(34948),u=n(79518),c=n(31236).f;i&&r({target:"Object",proto:!0,forced:s},{__lookupGetter__:function(e){var t,n=o(this),r=a(e);do{if(t=c(n,r))return t.get}while(n=u(n))}})},33952:function(e,t,n){"use strict";var r=n(82109),i=n(19781),s=n(69026),o=n(47908),a=n(34948),u=n(79518),c=n(31236).f;i&&r({target:"Object",proto:!0,forced:s},{__lookupSetter__:function(e){var t,n=o(this),r=a(e);do{if(t=c(n,r))return t.set}while(n=u(n))}})},57227:function(e,t,n){var r=n(82109),i=n(70111),s=n(62423).onFreeze,o=n(76677),a=n(47293),u=Object.preventExtensions;r({target:"Object",stat:!0,forced:a((function(){u(1)})),sham:!o},{preventExtensions:function(e){return u&&i(e)?u(s(e)):e}})},67987:function(e,t,n){"use strict";var r=n(19781),i=n(47045),s=n(70111),o=n(47908),a=n(84488),u=Object.getPrototypeOf,c=Object.setPrototypeOf,l=Object.prototype,h="__proto__";if(r&&u&&c&&!(h in l))try{i(l,h,{configurable:!0,get:function(){return u(o(this))},set:function(e){var t=a(this);(s(e)||null===e)&&s(t)&&c(t,e)}})}catch(e){}},60514:function(e,t,n){var r=n(82109),i=n(70111),s=n(62423).onFreeze,o=n(76677),a=n(47293),u=Object.seal;r({target:"Object",stat:!0,forced:a((function(){u(1)})),sham:!o},{seal:function(e){return u&&i(e)?u(s(e)):e}})},68304:function(e,t,n){n(82109)({target:"Object",stat:!0},{setPrototypeOf:n(27674)})},41539:function(e,t,n){var r=n(51694),i=n(98052),s=n(90288);r||i(Object.prototype,"toString",s,{unsafe:!0})},26833:function(e,t,n){var r=n(82109),i=n(44699).values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},54678:function(e,t,n){var r=n(82109),i=n(2814);r({global:!0,forced:parseFloat!=i},{parseFloat:i})},91058:function(e,t,n){var r=n(82109),i=n(83009);r({global:!0,forced:parseInt!=i},{parseInt:i})},17922:function(e,t,n){"use strict";var r=n(82109),i=n(46916),s=n(19662),o=n(78523),a=n(12534),u=n(20408);r({target:"Promise",stat:!0,forced:n(80612)},{allSettled:function(e){var t=this,n=o.f(t),r=n.resolve,c=n.reject,l=a((function(){var n=s(t.resolve),o=[],a=0,c=1;u(e,(function(e){var s=a++,u=!1;c++,i(n,t,e).then((function(e){u||(u=!0,o[s]={status:"fulfilled",value:e},--c||r(o))}),(function(e){u||(u=!0,o[s]={status:"rejected",reason:e},--c||r(o))}))})),--c||r(o)}));return l.error&&c(l.value),n.promise}})},70821:function(e,t,n){"use strict";var r=n(82109),i=n(46916),s=n(19662),o=n(78523),a=n(12534),u=n(20408);r({target:"Promise",stat:!0,forced:n(80612)},{all:function(e){var t=this,n=o.f(t),r=n.resolve,c=n.reject,l=a((function(){var n=s(t.resolve),o=[],a=0,l=1;u(e,(function(e){var s=a++,u=!1;l++,i(n,t,e).then((function(e){u||(u=!0,o[s]=e,--l||r(o))}),c)})),--l||r(o)}));return l.error&&c(l.value),n.promise}})},34668:function(e,t,n){"use strict";var r=n(82109),i=n(46916),s=n(19662),o=n(35005),a=n(78523),u=n(12534),c=n(20408),l=n(80612),h="No one promise resolved";r({target:"Promise",stat:!0,forced:l},{any:function(e){var t=this,n=o("AggregateError"),r=a.f(t),l=r.resolve,d=r.reject,f=u((function(){var r=s(t.resolve),o=[],a=0,u=1,f=!1;c(e,(function(e){var s=a++,c=!1;u++,i(r,t,e).then((function(e){c||f||(f=!0,l(e))}),(function(e){c||f||(c=!0,o[s]=e,--u||d(new n(o,h)))}))})),--u||d(new n(o,h))}));return f.error&&d(f.value),r.promise}})},94164:function(e,t,n){"use strict";var r=n(82109),i=n(31913),s=n(63702).CONSTRUCTOR,o=n(2492),a=n(35005),u=n(60614),c=n(98052),l=o&&o.prototype;if(r({target:"Promise",proto:!0,forced:s,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&u(o)){var h=a("Promise").prototype.catch;l.catch!==h&&c(l,"catch",h,{unsafe:!0})}},43401:function(e,t,n){"use strict";var r,i,s,o=n(82109),a=n(31913),u=n(35268),c=n(17854),l=n(46916),h=n(98052),d=n(27674),f=n(58003),p=n(96340),g=n(19662),m=n(60614),v=n(70111),y=n(25787),_=n(36707),b=n(20261).set,w=n(95948),I=n(842),E=n(12534),T=n(18572),k=n(29909),P=n(2492),S=n(63702),x=n(78523),j="Promise",C=S.CONSTRUCTOR,R=S.REJECTION_EVENT,O=S.SUBCLASSING,A=k.getterFor(j),N=k.set,L=P&&P.prototype,M=P,D=L,F=c.TypeError,U=c.document,G=c.process,q=x.f,z=q,B=!!(U&&U.createEvent&&c.dispatchEvent),W="unhandledrejection",V=function(e){var t;return!(!v(e)||!m(t=e.then))&&t},H=function(e,t){var n,r,i,s=t.value,o=1==t.state,a=o?e.ok:e.fail,u=e.resolve,c=e.reject,h=e.domain;try{a?(o||(2===t.rejection&&Q(t),t.rejection=1),!0===a?n=s:(h&&h.enter(),n=a(s),h&&(h.exit(),i=!0)),n===e.promise?c(F("Promise-chain cycle")):(r=V(n))?l(r,n,u,c):u(n)):c(s)}catch(e){h&&!i&&h.exit(),c(e)}},K=function(e,t){e.notified||(e.notified=!0,w((function(){for(var n,r=e.reactions;n=r.get();)H(n,e);e.notified=!1,t&&!e.rejection&&Y(e)})))},$=function(e,t,n){var r,i;B?((r=U.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},!R&&(i=c["on"+e])?i(r):e===W&&I("Unhandled promise rejection",n)},Y=function(e){l(b,c,(function(){var t,n=e.facade,r=e.value;if(J(e)&&(t=E((function(){u?G.emit("unhandledRejection",r,n):$(W,n,r)})),e.rejection=u||J(e)?2:1,t.error))throw t.value}))},J=function(e){return 1!==e.rejection&&!e.parent},Q=function(e){l(b,c,(function(){var t=e.facade;u?G.emit("rejectionHandled",t):$("rejectionhandled",t,e.value)}))},X=function(e,t,n){return function(r){e(t,r,n)}},Z=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,K(e,!0))},ee=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw F("Promise can't be resolved itself");var r=V(t);r?w((function(){var n={done:!1};try{l(r,t,X(ee,n,e),X(Z,n,e))}catch(t){Z(n,t,e)}})):(e.value=t,e.state=1,K(e,!1))}catch(t){Z({done:!1},t,e)}}};if(C&&(D=(M=function(e){y(this,D),g(e),l(r,this);var t=A(this);try{e(X(ee,t),X(Z,t))}catch(e){Z(t,e)}}).prototype,(r=function(e){N(this,{type:j,done:!1,notified:!1,parent:!1,reactions:new T,rejection:!1,state:0,value:void 0})}).prototype=h(D,"then",(function(e,t){var n=A(this),r=q(_(this,M));return n.parent=!0,r.ok=!m(e)||e,r.fail=m(t)&&t,r.domain=u?G.domain:void 0,0==n.state?n.reactions.add(r):w((function(){H(r,n)})),r.promise})),i=function(){var e=new r,t=A(e);this.promise=e,this.resolve=X(ee,t),this.reject=X(Z,t)},x.f=q=function(e){return e===M||void 0===e?new i(e):z(e)},!a&&m(P)&&L!==Object.prototype)){s=L.then,O||h(L,"then",(function(e,t){var n=this;return new M((function(e,t){l(s,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete L.constructor}catch(e){}d&&d(L,D)}o({global:!0,constructor:!0,wrap:!0,forced:C},{Promise:M}),f(M,j,!1,!0),p(j)},17727:function(e,t,n){"use strict";var r=n(82109),i=n(31913),s=n(2492),o=n(47293),a=n(35005),u=n(60614),c=n(36707),l=n(69478),h=n(98052),d=s&&s.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!s&&o((function(){d.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,a("Promise")),n=u(e);return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),!i&&u(s)){var f=a("Promise").prototype.finally;d.finally!==f&&h(d,"finally",f,{unsafe:!0})}},88674:function(e,t,n){n(43401),n(70821),n(94164),n(6027),n(60683),n(96294)},6027:function(e,t,n){"use strict";var r=n(82109),i=n(46916),s=n(19662),o=n(78523),a=n(12534),u=n(20408);r({target:"Promise",stat:!0,forced:n(80612)},{race:function(e){var t=this,n=o.f(t),r=n.reject,c=a((function(){var o=s(t.resolve);u(e,(function(e){i(o,t,e).then(n.resolve,r)}))}));return c.error&&r(c.value),n.promise}})},60683:function(e,t,n){"use strict";var r=n(82109),i=n(46916),s=n(78523);r({target:"Promise",stat:!0,forced:n(63702).CONSTRUCTOR},{reject:function(e){var t=s.f(this);return i(t.reject,void 0,e),t.promise}})},96294:function(e,t,n){"use strict";var r=n(82109),i=n(35005),s=n(31913),o=n(2492),a=n(63702).CONSTRUCTOR,u=n(69478),c=i("Promise"),l=s&&!a;r({target:"Promise",stat:!0,forced:s||a},{resolve:function(e){return u(l&&this===c?o:this,e)}})},36535:function(e,t,n){var r=n(82109),i=n(22104),s=n(19662),o=n(19670);r({target:"Reflect",stat:!0,forced:!n(47293)((function(){Reflect.apply((function(){}))}))},{apply:function(e,t,n){return i(s(e),t,o(n))}})},12419:function(e,t,n){var r=n(82109),i=n(35005),s=n(22104),o=n(27065),a=n(39483),u=n(19670),c=n(70111),l=n(70030),h=n(47293),d=i("Reflect","construct"),f=Object.prototype,p=[].push,g=h((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),m=!h((function(){d((function(){}))})),v=g||m;r({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(e,t){a(e),u(t);var n=arguments.length<3?e:a(arguments[2]);if(m&&!g)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return s(p,r,t),new(s(o,e,r))}var i=n.prototype,h=l(c(i)?i:f),v=s(e,h,t);return c(v)?v:h}})},69596:function(e,t,n){var r=n(82109),i=n(19781),s=n(19670),o=n(34948),a=n(3070);r({target:"Reflect",stat:!0,forced:n(47293)((function(){Reflect.defineProperty(a.f({},1,{value:1}),1,{value:2})})),sham:!i},{defineProperty:function(e,t,n){s(e);var r=o(t);s(n);try{return a.f(e,r,n),!0}catch(e){return!1}}})},52586:function(e,t,n){var r=n(82109),i=n(19670),s=n(31236).f;r({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var n=s(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},95683:function(e,t,n){var r=n(82109),i=n(19781),s=n(19670),o=n(31236);r({target:"Reflect",stat:!0,sham:!i},{getOwnPropertyDescriptor:function(e,t){return o.f(s(e),t)}})},39361:function(e,t,n){var r=n(82109),i=n(19670),s=n(79518);r({target:"Reflect",stat:!0,sham:!n(49920)},{getPrototypeOf:function(e){return s(i(e))}})},74819:function(e,t,n){var r=n(82109),i=n(46916),s=n(70111),o=n(19670),a=n(45032),u=n(31236),c=n(79518);r({target:"Reflect",stat:!0},{get:function e(t,n){var r,l,h=arguments.length<3?t:arguments[2];return o(t)===h?t[n]:(r=u.f(t,n))?a(r)?r.value:void 0===r.get?void 0:i(r.get,h):s(l=c(t))?e(l,n,h):void 0}})},51037:function(e,t,n){n(82109)({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})},5898:function(e,t,n){var r=n(82109),i=n(19670),s=n(52050);r({target:"Reflect",stat:!0},{isExtensible:function(e){return i(e),s(e)}})},67556:function(e,t,n){n(82109)({target:"Reflect",stat:!0},{ownKeys:n(53887)})},14361:function(e,t,n){var r=n(82109),i=n(35005),s=n(19670);r({target:"Reflect",stat:!0,sham:!n(76677)},{preventExtensions:function(e){s(e);try{var t=i("Object","preventExtensions");return t&&t(e),!0}catch(e){return!1}}})},39532:function(e,t,n){var r=n(82109),i=n(19670),s=n(96077),o=n(27674);o&&r({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){i(e),s(t);try{return o(e,t),!0}catch(e){return!1}}})},83593:function(e,t,n){var r=n(82109),i=n(46916),s=n(19670),o=n(70111),a=n(45032),u=n(47293),c=n(3070),l=n(31236),h=n(79518),d=n(79114);r({target:"Reflect",stat:!0,forced:u((function(){var e=function(){},t=c.f(new e,"a",{configurable:!0});return!1!==Reflect.set(e.prototype,"a",1,t)}))},{set:function e(t,n,r){var u,f,p,g=arguments.length<4?t:arguments[3],m=l.f(s(t),n);if(!m){if(o(f=h(t)))return e(f,n,r,g);m=d(0)}if(a(m)){if(!1===m.writable||!o(g))return!1;if(u=l.f(g,n)){if(u.get||u.set||!1===u.writable)return!1;u.value=r,c.f(g,n,u)}else c.f(g,n,d(0,r))}else{if(void 0===(p=m.set))return!1;i(p,g,r)}return!0}})},81299:function(e,t,n){var r=n(82109),i=n(17854),s=n(58003);r({global:!0},{Reflect:{}}),s(i.Reflect,"Reflect",!0)},24603:function(e,t,n){var r=n(19781),i=n(17854),s=n(1702),o=n(54705),a=n(79587),u=n(68880),c=n(8006).f,l=n(47976),h=n(47850),d=n(41340),f=n(34706),p=n(52999),g=n(2626),m=n(98052),v=n(47293),y=n(92597),_=n(29909).enforce,b=n(96340),w=n(5112),I=n(9441),E=n(38173),T=w("match"),k=i.RegExp,P=k.prototype,S=i.SyntaxError,x=s(P.exec),j=s("".charAt),C=s("".replace),R=s("".indexOf),O=s("".slice),A=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,N=/a/g,L=/a/g,M=new k(N)!==N,D=p.MISSED_STICKY,F=p.UNSUPPORTED_Y;if(o("RegExp",r&&(!M||D||I||E||v((function(){return L[T]=!1,k(N)!=N||k(L)==L||"/a/i"!=k(N,"i")}))))){for(var U=function(e,t){var n,r,i,s,o,c,p=l(P,this),g=h(e),m=void 0===t,v=[],b=e;if(!p&&g&&m&&e.constructor===U)return e;if((g||l(P,e))&&(e=e.source,m&&(t=f(b))),e=void 0===e?"":d(e),t=void 0===t?"":d(t),b=e,I&&"dotAll"in N&&(r=!!t&&R(t,"s")>-1)&&(t=C(t,/s/g,"")),n=t,D&&"sticky"in N&&(i=!!t&&R(t,"y")>-1)&&F&&(t=C(t,/y/g,"")),E&&(s=function(e){for(var t,n=e.length,r=0,i="",s=[],o={},a=!1,u=!1,c=0,l="";r<=n;r++){if("\\"===(t=j(e,r)))t+=j(e,++r);else if("]"===t)a=!1;else if(!a)switch(!0){case"["===t:a=!0;break;case"("===t:x(A,O(e,r+1))&&(r+=2,u=!0),i+=t,c++;continue;case">"===t&&u:if(""===l||y(o,l))throw new S("Invalid capture group name");o[l]=!0,s[s.length]=[l,c],u=!1,l="";continue}u?l+=t:i+=t}return[i,s]}(e),e=s[0],v=s[1]),o=a(k(e,t),p?this:P,U),(r||i||v.length)&&(c=_(o),r&&(c.dotAll=!0,c.raw=U(function(e){for(var t,n=e.length,r=0,i="",s=!1;r<=n;r++)"\\"!==(t=j(e,r))?s||"."!==t?("["===t?s=!0:"]"===t&&(s=!1),i+=t):i+="[\\s\\S]":i+=t+j(e,++r);return i}(e),n)),i&&(c.sticky=!0),v.length&&(c.groups=v)),e!==b)try{u(o,"source",""===b?"(?:)":b)}catch(e){}return o},G=c(k),q=0;G.length>q;)g(U,k,G[q++]);P.constructor=U,U.prototype=P,m(i,"RegExp",U,{constructor:!0})}b("RegExp")},28450:function(e,t,n){var r=n(19781),i=n(9441),s=n(84326),o=n(47045),a=n(29909).get,u=RegExp.prototype,c=TypeError;r&&i&&o(u,"dotAll",{configurable:!0,get:function(){if(this!==u){if("RegExp"===s(this))return!!a(this).dotAll;throw c("Incompatible receiver, RegExp required")}}})},74916:function(e,t,n){"use strict";var r=n(82109),i=n(22261);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},92087:function(e,t,n){var r=n(17854),i=n(19781),s=n(47045),o=n(67066),a=n(47293),u=r.RegExp,c=u.prototype;i&&a((function(){var e=!0;try{u(".","d")}catch(t){e=!1}var t={},n="",r=e?"dgimsy":"gimsy",i=function(e,r){Object.defineProperty(t,e,{get:function(){return n+=r,!0}})},s={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in e&&(s.hasIndices="d"),s)i(o,s[o]);return Object.getOwnPropertyDescriptor(c,"flags").get.call(t)!==r||n!==r}))&&s(c,"flags",{configurable:!0,get:o})},88386:function(e,t,n){var r=n(19781),i=n(52999).MISSED_STICKY,s=n(84326),o=n(47045),a=n(29909).get,u=RegExp.prototype,c=TypeError;r&&i&&o(u,"sticky",{configurable:!0,get:function(){if(this!==u){if("RegExp"===s(this))return!!a(this).sticky;throw c("Incompatible receiver, RegExp required")}}})},77601:function(e,t,n){"use strict";n(74916);var r,i,s=n(82109),o=n(46916),a=n(60614),u=n(19670),c=n(41340),l=(r=!1,(i=/[ac]/).exec=function(){return r=!0,/./.exec.apply(this,arguments)},!0===i.test("abc")&&r),h=/./.test;s({target:"RegExp",proto:!0,forced:!l},{test:function(e){var t=u(this),n=c(e),r=t.exec;if(!a(r))return o(h,t,n);var i=o(r,t,n);return null!==i&&(u(i),!0)}})},39714:function(e,t,n){"use strict";var r=n(76530).PROPER,i=n(98052),s=n(19670),o=n(41340),a=n(47293),u=n(34706),c="toString",l=RegExp.prototype[c],h=a((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=r&&l.name!=c;(h||d)&&i(RegExp.prototype,c,(function(){var e=s(this);return"/"+o(e.source)+"/"+o(u(e))}),{unsafe:!0})},37227:function(e,t,n){"use strict";n(77710)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(95631))},70189:function(e,t,n){n(37227)},15218:function(e,t,n){"use strict";var r=n(82109),i=n(14230);r({target:"String",proto:!0,forced:n(43429)("anchor")},{anchor:function(e){return i(this,"a","name",e)}})},24506:function(e,t,n){"use strict";var r=n(82109),i=n(1702),s=n(84488),o=n(19303),a=n(41340),u=n(47293),c=i("".charAt);r({target:"String",proto:!0,forced:u((function(){return"\ud842"!=="".at(-2)}))},{at:function(e){var t=a(s(this)),n=t.length,r=o(e),i=r>=0?r:n+r;return i<0||i>=n?void 0:c(t,i)}})},74475:function(e,t,n){"use strict";var r=n(82109),i=n(14230);r({target:"String",proto:!0,forced:n(43429)("big")},{big:function(){return i(this,"big","","")}})},57929:function(e,t,n){"use strict";var r=n(82109),i=n(14230);r({target:"String",proto:!0,forced:n(43429)("blink")},{blink:function(){return i(this,"blink","","")}})},50915:function(e,t,n){"use strict";var r=n(82109),i=n(14230);r({target:"String",proto:!0,forced:n(43429)("bold")},{bold:function(){return i(this,"b","","")}})},79841:function(e,t,n){"use strict";var r=n(82109),i=n(28710).codeAt;r({target:"String",proto:!0},{codePointAt:function(e){return i(this,e)}})},27852:function(e,t,n){"use strict";var r,i=n(82109),s=n(21470),o=n(31236).f,a=n(17466),u=n(41340),c=n(3929),l=n(84488),h=n(84964),d=n(31913),f=s("".endsWith),p=s("".slice),g=Math.min,m=h("endsWith");i({target:"String",proto:!0,forced:!(!d&&!m&&(r=o(String.prototype,"endsWith"),r&&!r.writable)||m)},{endsWith:function(e){var t=u(l(this));c(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,i=void 0===n?r:g(a(n),r),s=u(e);return f?f(t,s,i):p(t,i-s.length,i)===s}})},29253:function(e,t,n){"use strict";var r=n(82109),i=n(14230);r({target:"String",proto:!0,forced:n(43429)("fixed")},{fixed:function(){return i(this,"tt","","")}})},42125:function(e,t,n){"use strict";var r=n(82109),i=n(14230);r({target:"String",proto:!0,forced:n(43429)("fontcolor")},{fontcolor:function(e){return i(this,"font","color",e)}})},78830:function(e,t,n){"use strict";var r=n(82109),i=n(14230);r({target:"String",proto:!0,forced:n(43429)("fontsize")},{fontsize:function(e){return i(this,"font","size",e)}})},94953:function(e,t,n){var r=n(82109),i=n(1702),s=n(51400),o=RangeError,a=String.fromCharCode,u=String.fromCodePoint,c=i([].join);r({target:"String",stat:!0,arity:1,forced:!!u&&1!=u.length},{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,i=0;r>i;){if(t=+arguments[i++],s(t,1114111)!==t)throw o(t+" is not a valid code point");n[i]=t<65536?a(t):a(55296+((t-=65536)>>10),t%1024+56320)}return c(n,"")}})},32023:function(e,t,n){"use strict";var r=n(82109),i=n(1702),s=n(3929),o=n(84488),a=n(41340),u=n(84964),c=i("".indexOf);r({target:"String",proto:!0,forced:!u("includes")},{includes:function(e){return!!~c(a(o(this)),a(s(e)),arguments.length>1?arguments[1]:void 0)}})},58734:function(e,t,n){"use strict";var r=n(82109),i=n(14230);r({target:"String",proto:!0,forced:n(43429)("italics")},{italics:function(){return i(this,"i","","")}})},78783:function(e,t,n){"use strict";var r=n(28710).charAt,i=n(41340),s=n(29909),o=n(51656),a=n(76178),u="String Iterator",c=s.set,l=s.getterFor(u);o(String,"String",(function(e){c(this,{type:u,string:i(e),index:0})}),(function(){var e,t=l(this),n=t.string,i=t.index;return i>=n.length?a(void 0,!0):(e=r(n,i),t.index+=e.length,a(e,!1))}))},29254:function(e,t,n){"use strict";var r=n(82109),i=n(14230);r({target:"String",proto:!0,forced:n(43429)("link")},{link:function(e){return i(this,"a","href",e)}})},76373:function(e,t,n){"use strict";var r=n(82109),i=n(46916),s=n(21470),o=n(63061),a=n(76178),u=n(84488),c=n(17466),l=n(41340),h=n(19670),d=n(68554),f=n(84326),p=n(47850),g=n(34706),m=n(58173),v=n(98052),y=n(47293),_=n(5112),b=n(36707),w=n(31530),I=n(97651),E=n(29909),T=n(31913),k=_("matchAll"),P="RegExp String",S=P+" Iterator",x=E.set,j=E.getterFor(S),C=RegExp.prototype,R=TypeError,O=s("".indexOf),A=s("".matchAll),N=!!A&&!y((function(){A("a",/./)})),L=o((function(e,t,n,r){x(this,{type:S,regexp:e,string:t,global:n,unicode:r,done:!1})}),P,(function(){var e=j(this);if(e.done)return a(void 0,!0);var t=e.regexp,n=e.string,r=I(t,n);return null===r?(e.done=!0,a(void 0,!0)):e.global?(""===l(r[0])&&(t.lastIndex=w(n,c(t.lastIndex),e.unicode)),a(r,!1)):(e.done=!0,a(r,!1))})),M=function(e){var t,n,r,i=h(this),s=l(e),o=b(i,RegExp),a=l(g(i));return t=new o(o===RegExp?i.source:i,a),n=!!~O(a,"g"),r=!!~O(a,"u"),t.lastIndex=c(i.lastIndex),new L(t,s,n,r)};r({target:"String",proto:!0,forced:N},{matchAll:function(e){var t,n,r,s,o=u(this);if(d(e)){if(N)return A(o,e)}else{if(p(e)&&(t=l(u(g(e))),!~O(t,"g")))throw R("`.matchAll` does not allow non-global regexes");if(N)return A(o,e);if(void 0===(r=m(e,k))&&T&&"RegExp"==f(e)&&(r=M),r)return i(r,e,o)}return n=l(o),s=new RegExp(e,"g"),T?i(M,s,n):s[k](n)}}),T||k in C||v(C,k,M)},4723:function(e,t,n){"use strict";var r=n(46916),i=n(27007),s=n(19670),o=n(68554),a=n(17466),u=n(41340),c=n(84488),l=n(58173),h=n(31530),d=n(97651);i("match",(function(e,t,n){return[function(t){var n=c(this),i=o(t)?void 0:l(t,e);return i?r(i,t,n):new RegExp(t)[e](u(n))},function(e){var r=s(this),i=u(e),o=n(t,r,i);if(o.done)return o.value;if(!r.global)return d(r,i);var c=r.unicode;r.lastIndex=0;for(var l,f=[],p=0;null!==(l=d(r,i));){var g=u(l[0]);f[p]=g,""===g&&(r.lastIndex=h(i,a(r.lastIndex),c)),p++}return 0===p?null:f}]}))},66528:function(e,t,n){"use strict";var r=n(82109),i=n(76650).end;r({target:"String",proto:!0,forced:n(54986)},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},83112:function(e,t,n){"use strict";var r=n(82109),i=n(76650).start;r({target:"String",proto:!0,forced:n(54986)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},38992:function(e,t,n){var r=n(82109),i=n(1702),s=n(45656),o=n(47908),a=n(41340),u=n(26244),c=i([].push),l=i([].join);r({target:"String",stat:!0},{raw:function(e){var t=s(o(e).raw),n=u(t);if(!n)return"";for(var r=arguments.length,i=[],h=0;;){if(c(i,a(t[h++])),h===n)return l(i,"");h<r&&c(i,a(arguments[h]))}}})},82481:function(e,t,n){n(82109)({target:"String",proto:!0},{repeat:n(38415)})},68757:function(e,t,n){"use strict";var r=n(82109),i=n(46916),s=n(1702),o=n(84488),a=n(60614),u=n(68554),c=n(47850),l=n(41340),h=n(58173),d=n(34706),f=n(10647),p=n(5112),g=n(31913),m=p("replace"),v=TypeError,y=s("".indexOf),_=s("".replace),b=s("".slice),w=Math.max,I=function(e,t,n){return n>e.length?-1:""===t?n:y(e,t,n)};r({target:"String",proto:!0},{replaceAll:function(e,t){var n,r,s,p,E,T,k,P,S,x=o(this),j=0,C=0,R="";if(!u(e)){if((n=c(e))&&(r=l(o(d(e))),!~y(r,"g")))throw v("`.replaceAll` does not allow non-global regexes");if(s=h(e,m))return i(s,e,x,t);if(g&&n)return _(l(x),e,t)}for(p=l(x),E=l(e),(T=a(t))||(t=l(t)),k=E.length,P=w(1,k),j=I(p,E,0);-1!==j;)S=T?l(t(E,j,p)):f(E,p,j,[],void 0,t),R+=b(p,C,j)+S,C=j+k,j=I(p,E,j+P);return C<p.length&&(R+=b(p,C)),R}})},15306:function(e,t,n){"use strict";var r=n(22104),i=n(46916),s=n(1702),o=n(27007),a=n(47293),u=n(19670),c=n(60614),l=n(68554),h=n(19303),d=n(17466),f=n(41340),p=n(84488),g=n(31530),m=n(58173),v=n(10647),y=n(97651),_=n(5112)("replace"),b=Math.max,w=Math.min,I=s([].concat),E=s([].push),T=s("".indexOf),k=s("".slice),P="$0"==="a".replace(/./,"$0"),S=!!/./[_]&&""===/./[_]("a","$0");o("replace",(function(e,t,n){var s=S?"$":"$0";return[function(e,n){var r=p(this),s=l(e)?void 0:m(e,_);return s?i(s,e,r,n):i(t,f(r),e,n)},function(e,i){var o=u(this),a=f(e);if("string"==typeof i&&-1===T(i,s)&&-1===T(i,"$<")){var l=n(t,o,a,i);if(l.done)return l.value}var p=c(i);p||(i=f(i));var m=o.global;if(m){var _=o.unicode;o.lastIndex=0}for(var P=[];;){var S=y(o,a);if(null===S)break;if(E(P,S),!m)break;""===f(S[0])&&(o.lastIndex=g(a,d(o.lastIndex),_))}for(var x,j="",C=0,R=0;R<P.length;R++){for(var O=f((S=P[R])[0]),A=b(w(h(S.index),a.length),0),N=[],L=1;L<S.length;L++)E(N,void 0===(x=S[L])?x:String(x));var M=S.groups;if(p){var D=I([O],N,A,a);void 0!==M&&E(D,M);var F=f(r(i,void 0,D))}else F=v(O,a,A,N,M,i);A>=C&&(j+=k(a,C,A)+F,C=A+O.length)}return j+k(a,C)}]}),!!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!P||S)},64765:function(e,t,n){"use strict";var r=n(46916),i=n(27007),s=n(19670),o=n(68554),a=n(84488),u=n(81150),c=n(41340),l=n(58173),h=n(97651);i("search",(function(e,t,n){return[function(t){var n=a(this),i=o(t)?void 0:l(t,e);return i?r(i,t,n):new RegExp(t)[e](c(n))},function(e){var r=s(this),i=c(e),o=n(t,r,i);if(o.done)return o.value;var a=r.lastIndex;u(a,0)||(r.lastIndex=0);var l=h(r,i);return u(r.lastIndex,a)||(r.lastIndex=a),null===l?-1:l.index}]}))},37268:function(e,t,n){"use strict";var r=n(82109),i=n(14230);r({target:"String",proto:!0,forced:n(43429)("small")},{small:function(){return i(this,"small","","")}})},23123:function(e,t,n){"use strict";var r=n(22104),i=n(46916),s=n(1702),o=n(27007),a=n(19670),u=n(68554),c=n(47850),l=n(84488),h=n(36707),d=n(31530),f=n(17466),p=n(41340),g=n(58173),m=n(41589),v=n(97651),y=n(22261),_=n(52999),b=n(47293),w=_.UNSUPPORTED_Y,I=4294967295,E=Math.min,T=[].push,k=s(/./.exec),P=s(T),S=s("".slice),x=!b((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));o("split",(function(e,t,n){var s;return s="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var s=p(l(this)),o=void 0===n?I:n>>>0;if(0===o)return[];if(void 0===e)return[s];if(!c(e))return i(t,s,e,o);for(var a,u,h,d=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),g=0,v=new RegExp(e.source,f+"g");(a=i(y,v,s))&&!((u=v.lastIndex)>g&&(P(d,S(s,g,a.index)),a.length>1&&a.index<s.length&&r(T,d,m(a,1)),h=a[0].length,g=u,d.length>=o));)v.lastIndex===a.index&&v.lastIndex++;return g===s.length?!h&&k(v,"")||P(d,""):P(d,S(s,g)),d.length>o?m(d,0,o):d}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:i(t,this,e,n)}:t,[function(t,n){var r=l(this),o=u(t)?void 0:g(t,e);return o?i(o,t,r,n):i(s,p(r),t,n)},function(e,r){var i=a(this),o=p(e),u=n(s,i,o,r,s!==t);if(u.done)return u.value;var c=h(i,RegExp),l=i.unicode,g=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(w?"g":"y"),m=new c(w?"^(?:"+i.source+")":i,g),y=void 0===r?I:r>>>0;if(0===y)return[];if(0===o.length)return null===v(m,o)?[o]:[];for(var _=0,b=0,T=[];b<o.length;){m.lastIndex=w?0:b;var k,x=v(m,w?S(o,b):o);if(null===x||(k=E(f(m.lastIndex+(w?b:0)),o.length))===_)b=d(o,b,l);else{if(P(T,S(o,_,b)),T.length===y)return T;for(var j=1;j<=x.length-1;j++)if(P(T,x[j]),T.length===y)return T;b=_=k}}return P(T,S(o,_)),T}]}),!x,w)},23157:function(e,t,n){"use strict";var r,i=n(82109),s=n(21470),o=n(31236).f,a=n(17466),u=n(41340),c=n(3929),l=n(84488),h=n(84964),d=n(31913),f=s("".startsWith),p=s("".slice),g=Math.min,m=h("startsWith");i({target:"String",proto:!0,forced:!(!d&&!m&&(r=o(String.prototype,"startsWith"),r&&!r.writable)||m)},{startsWith:function(e){var t=u(l(this));c(e);var n=a(g(arguments.length>1?arguments[1]:void 0,t.length)),r=u(e);return f?f(t,r,n):p(t,n,n+r.length)===r}})},7397:function(e,t,n){"use strict";var r=n(82109),i=n(14230);r({target:"String",proto:!0,forced:n(43429)("strike")},{strike:function(){return i(this,"strike","","")}})},60086:function(e,t,n){"use strict";var r=n(82109),i=n(14230);r({target:"String",proto:!0,forced:n(43429)("sub")},{sub:function(){return i(this,"sub","","")}})},83650:function(e,t,n){"use strict";var r=n(82109),i=n(1702),s=n(84488),o=n(19303),a=n(41340),u=i("".slice),c=Math.max,l=Math.min;r({target:"String",proto:!0,forced:!"".substr||"b"!=="ab".substr(-1)},{substr:function(e,t){var n,r,i=a(s(this)),h=i.length,d=o(e);return d===1/0&&(d=0),d<0&&(d=c(h+d,0)),(n=void 0===t?h:o(t))<=0||n===1/0||d>=(r=l(d+n,h))?"":u(i,d,r)}})},80623:function(e,t,n){"use strict";var r=n(82109),i=n(14230);r({target:"String",proto:!0,forced:n(43429)("sup")},{sup:function(){return i(this,"sup","","")}})},48702:function(e,t,n){n(83462);var r=n(82109),i=n(10365);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==i},{trimEnd:i})},99967:function(e,t,n){var r=n(82109),i=n(33217);r({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==i},{trimLeft:i})},83462:function(e,t,n){var r=n(82109),i=n(10365);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==i},{trimRight:i})},55674:function(e,t,n){n(99967);var r=n(82109),i=n(33217);r({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==i},{trimStart:i})},73210:function(e,t,n){"use strict";var r=n(82109),i=n(53111).trim;r({target:"String",proto:!0,forced:n(76091)("trim")},{trim:function(){return i(this)}})},72443:function(e,t,n){n(26800)("asyncIterator")},4032:function(e,t,n){"use strict";var r=n(82109),i=n(17854),s=n(46916),o=n(1702),a=n(31913),u=n(19781),c=n(36293),l=n(47293),h=n(92597),d=n(47976),f=n(19670),p=n(45656),g=n(34948),m=n(41340),v=n(79114),y=n(70030),_=n(81956),b=n(8006),w=n(1156),I=n(25181),E=n(31236),T=n(3070),k=n(36048),P=n(55296),S=n(98052),x=n(47045),j=n(72309),C=n(6200),R=n(3501),O=n(69711),A=n(5112),N=n(6061),L=n(26800),M=n(56532),D=n(58003),F=n(29909),U=n(42092).forEach,G=C("hidden"),q="Symbol",z="prototype",B=F.set,W=F.getterFor(q),V=Object[z],H=i.Symbol,K=H&&H[z],$=i.TypeError,Y=i.QObject,J=E.f,Q=T.f,X=w.f,Z=P.f,ee=o([].push),te=j("symbols"),ne=j("op-symbols"),re=j("wks"),ie=!Y||!Y[z]||!Y[z].findChild,se=u&&l((function(){return 7!=y(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=J(V,t);r&&delete V[t],Q(e,t,n),r&&e!==V&&Q(V,t,r)}:Q,oe=function(e,t){var n=te[e]=y(K);return B(n,{type:q,tag:e,description:t}),u||(n.description=t),n},ae=function(e,t,n){e===V&&ae(ne,t,n),f(e);var r=g(t);return f(n),h(te,r)?(n.enumerable?(h(e,G)&&e[G][r]&&(e[G][r]=!1),n=y(n,{enumerable:v(0,!1)})):(h(e,G)||Q(e,G,v(1,{})),e[G][r]=!0),se(e,r,n)):Q(e,r,n)},ue=function(e,t){f(e);var n=p(t),r=_(n).concat(de(n));return U(r,(function(t){u&&!s(ce,n,t)||ae(e,t,n[t])})),e},ce=function(e){var t=g(e),n=s(Z,this,t);return!(this===V&&h(te,t)&&!h(ne,t))&&(!(n||!h(this,t)||!h(te,t)||h(this,G)&&this[G][t])||n)},le=function(e,t){var n=p(e),r=g(t);if(n!==V||!h(te,r)||h(ne,r)){var i=J(n,r);return!i||!h(te,r)||h(n,G)&&n[G][r]||(i.enumerable=!0),i}},he=function(e){var t=X(p(e)),n=[];return U(t,(function(e){h(te,e)||h(R,e)||ee(n,e)})),n},de=function(e){var t=e===V,n=X(t?ne:p(e)),r=[];return U(n,(function(e){!h(te,e)||t&&!h(V,e)||ee(r,te[e])})),r};c||(H=function(){if(d(K,this))throw $("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?m(arguments[0]):void 0,t=O(e),n=function(e){this===V&&s(n,ne,e),h(this,G)&&h(this[G],t)&&(this[G][t]=!1),se(this,t,v(1,e))};return u&&ie&&se(V,t,{configurable:!0,set:n}),oe(t,e)},S(K=H[z],"toString",(function(){return W(this).tag})),S(H,"withoutSetter",(function(e){return oe(O(e),e)})),P.f=ce,T.f=ae,k.f=ue,E.f=le,b.f=w.f=he,I.f=de,N.f=function(e){return oe(A(e),e)},u&&(x(K,"description",{configurable:!0,get:function(){return W(this).description}}),a||S(V,"propertyIsEnumerable",ce,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:H}),U(_(re),(function(e){L(e)})),r({target:q,stat:!0,forced:!c},{useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!u},{create:function(e,t){return void 0===t?y(e):ue(y(e),t)},defineProperty:ae,defineProperties:ue,getOwnPropertyDescriptor:le}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:he}),M(),D(H,q),R[G]=!0},41817:function(e,t,n){"use strict";var r=n(82109),i=n(19781),s=n(17854),o=n(1702),a=n(92597),u=n(60614),c=n(47976),l=n(41340),h=n(47045),d=n(99920),f=s.Symbol,p=f&&f.prototype;if(i&&u(f)&&(!("description"in p)||void 0!==f().description)){var g={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=c(p,this)?new f(e):void 0===e?f():f(e);return""===e&&(g[t]=!0),t};d(m,f),m.prototype=p,p.constructor=m;var v="Symbol(test)"==String(f("test")),y=o(p.valueOf),_=o(p.toString),b=/^Symbol\((.*)\)[^)]+$/,w=o("".replace),I=o("".slice);h(p,"description",{configurable:!0,get:function(){var e=y(this);if(a(g,e))return"";var t=_(e),n=v?I(t,7,-1):w(t,b,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:m})}},40763:function(e,t,n){var r=n(82109),i=n(35005),s=n(92597),o=n(41340),a=n(72309),u=n(2015),c=a("string-to-symbol-registry"),l=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{for:function(e){var t=o(e);if(s(c,t))return c[t];var n=i("Symbol")(t);return c[t]=n,l[n]=t,n}})},92401:function(e,t,n){n(26800)("hasInstance")},8722:function(e,t,n){n(26800)("isConcatSpreadable")},32165:function(e,t,n){n(26800)("iterator")},82526:function(e,t,n){n(4032),n(40763),n(26620),n(38862),n(29660)},26620:function(e,t,n){var r=n(82109),i=n(92597),s=n(52190),o=n(66330),a=n(72309),u=n(2015),c=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{keyFor:function(e){if(!s(e))throw TypeError(o(e)+" is not a symbol");if(i(c,e))return c[e]}})},16066:function(e,t,n){n(26800)("matchAll")},69007:function(e,t,n){n(26800)("match")},83510:function(e,t,n){n(26800)("replace")},41840:function(e,t,n){n(26800)("search")},6982:function(e,t,n){n(26800)("species")},32159:function(e,t,n){n(26800)("split")},96649:function(e,t,n){var r=n(26800),i=n(56532);r("toPrimitive"),i()},39341:function(e,t,n){var r=n(35005),i=n(26800),s=n(58003);i("toStringTag"),s(r("Symbol"),"Symbol")},60543:function(e,t,n){n(26800)("unscopables")},48675:function(e,t,n){"use strict";var r=n(90260),i=n(26244),s=n(19303),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("at",(function(e){var t=o(this),n=i(t),r=s(e),a=r>=0?r:n+r;return a<0||a>=n?void 0:t[a]}))},92990:function(e,t,n){"use strict";var r=n(1702),i=n(90260),s=r(n(1048)),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(e,t){return s(o(this),e,t,arguments.length>2?arguments[2]:void 0)}))},18927:function(e,t,n){"use strict";var r=n(90260),i=n(42092).every,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(e){return i(s(this),e,arguments.length>1?arguments[1]:void 0)}))},33105:function(e,t,n){"use strict";var r=n(90260),i=n(21285),s=n(64599),o=n(70648),a=n(46916),u=n(1702),c=n(47293),l=r.aTypedArray,h=r.exportTypedArrayMethod,d=u("".slice);h("fill",(function(e){var t=arguments.length;l(this);var n="Big"===d(o(this),0,3)?s(e):+e;return a(i,this,n,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),c((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},35035:function(e,t,n){"use strict";var r=n(90260),i=n(42092).filter,s=n(43074),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",(function(e){var t=i(o(this),e,arguments.length>1?arguments[1]:void 0);return s(this,t)}))},7174:function(e,t,n){"use strict";var r=n(90260),i=n(42092).findIndex,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(e){return i(s(this),e,arguments.length>1?arguments[1]:void 0)}))},14590:function(e,t,n){"use strict";var r=n(90260),i=n(9671).findLastIndex,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLastIndex",(function(e){return i(s(this),e,arguments.length>1?arguments[1]:void 0)}))},63408:function(e,t,n){"use strict";var r=n(90260),i=n(9671).findLast,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLast",(function(e){return i(s(this),e,arguments.length>1?arguments[1]:void 0)}))},74345:function(e,t,n){"use strict";var r=n(90260),i=n(42092).find,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(e){return i(s(this),e,arguments.length>1?arguments[1]:void 0)}))},44197:function(e,t,n){n(19843)("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},76495:function(e,t,n){n(19843)("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},32846:function(e,t,n){"use strict";var r=n(90260),i=n(42092).forEach,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(e){i(s(this),e,arguments.length>1?arguments[1]:void 0)}))},98145:function(e,t,n){"use strict";var r=n(63832);(0,n(90260).exportTypedArrayStaticMethod)("from",n(97321),r)},44731:function(e,t,n){"use strict";var r=n(90260),i=n(41318).includes,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(e){return i(s(this),e,arguments.length>1?arguments[1]:void 0)}))},77209:function(e,t,n){"use strict";var r=n(90260),i=n(41318).indexOf,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(e){return i(s(this),e,arguments.length>1?arguments[1]:void 0)}))},35109:function(e,t,n){n(19843)("Int16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},65125:function(e,t,n){n(19843)("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},87145:function(e,t,n){n(19843)("Int8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},96319:function(e,t,n){"use strict";var r=n(17854),i=n(47293),s=n(1702),o=n(90260),a=n(66992),u=n(5112)("iterator"),c=r.Uint8Array,l=s(a.values),h=s(a.keys),d=s(a.entries),f=o.aTypedArray,p=o.exportTypedArrayMethod,g=c&&c.prototype,m=!i((function(){g[u].call([1])})),v=!!g&&g.values&&g[u]===g.values&&"values"===g.values.name,y=function(){return l(f(this))};p("entries",(function(){return d(f(this))}),m),p("keys",(function(){return h(f(this))}),m),p("values",y,m||!v,{name:"values"}),p(u,y,m||!v,{name:"values"})},58867:function(e,t,n){"use strict";var r=n(90260),i=n(1702),s=r.aTypedArray,o=r.exportTypedArrayMethod,a=i([].join);o("join",(function(e){return a(s(this),e)}))},37789:function(e,t,n){"use strict";var r=n(90260),i=n(22104),s=n(86583),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(e){var t=arguments.length;return i(s,o(this),t>1?[e,arguments[1]]:[e])}))},33739:function(e,t,n){"use strict";var r=n(90260),i=n(42092).map,s=n(66304),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("map",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(s(e))(t)}))}))},95206:function(e,t,n){"use strict";var r=n(90260),i=n(63832),s=r.aTypedArrayConstructor;(0,r.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,n=new(s(this))(t);t>e;)n[e]=arguments[e++];return n}),i)},14483:function(e,t,n){"use strict";var r=n(90260),i=n(53671).right,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(e){var t=arguments.length;return i(s(this),e,t,t>1?arguments[1]:void 0)}))},29368:function(e,t,n){"use strict";var r=n(90260),i=n(53671).left,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(e){var t=arguments.length;return i(s(this),e,t,t>1?arguments[1]:void 0)}))},12056:function(e,t,n){"use strict";var r=n(90260),i=r.aTypedArray,s=r.exportTypedArrayMethod,o=Math.floor;s("reverse",(function(){for(var e,t=this,n=i(t).length,r=o(n/2),s=0;s<r;)e=t[s],t[s++]=t[--n],t[n]=e;return t}))},3462:function(e,t,n){"use strict";var r=n(17854),i=n(46916),s=n(90260),o=n(26244),a=n(84590),u=n(47908),c=n(47293),l=r.RangeError,h=r.Int8Array,d=h&&h.prototype,f=d&&d.set,p=s.aTypedArray,g=s.exportTypedArrayMethod,m=!c((function(){var e=new Uint8ClampedArray(2);return i(f,e,{length:1,0:3},1),3!==e[1]})),v=m&&s.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new h(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));g("set",(function(e){p(this);var t=a(arguments.length>1?arguments[1]:void 0,1),n=u(e);if(m)return i(f,this,n,t);var r=this.length,s=o(n),c=0;if(s+t>r)throw l("Wrong length");for(;c<s;)this[t+c]=n[c++]}),!m||v)},30678:function(e,t,n){"use strict";var r=n(90260),i=n(66304),s=n(47293),o=n(50206),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("slice",(function(e,t){for(var n=o(a(this),e,t),r=i(this),s=0,u=n.length,c=new r(u);u>s;)c[s]=n[s++];return c}),s((function(){new Int8Array(1).slice()})))},27462:function(e,t,n){"use strict";var r=n(90260),i=n(42092).some,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(e){return i(s(this),e,arguments.length>1?arguments[1]:void 0)}))},33824:function(e,t,n){"use strict";var r=n(17854),i=n(21470),s=n(47293),o=n(19662),a=n(94362),u=n(90260),c=n(68886),l=n(30256),h=n(7392),d=n(98008),f=u.aTypedArray,p=u.exportTypedArrayMethod,g=r.Uint16Array,m=g&&i(g.prototype.sort),v=!(!m||s((function(){m(new g(2),null)}))&&s((function(){m(new g(2),{})}))),y=!!m&&!s((function(){if(h)return h<74;if(c)return c<67;if(l)return!0;if(d)return d<602;var e,t,n=new g(516),r=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(m(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0}));p("sort",(function(e){return void 0!==e&&o(e),y?m(this,e):a(f(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!y||v)},55021:function(e,t,n){"use strict";var r=n(90260),i=n(17466),s=n(51400),o=n(66304),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(e,t){var n=a(this),r=n.length,u=s(e,r);return new(o(n))(n.buffer,n.byteOffset+u*n.BYTES_PER_ELEMENT,i((void 0===t?r:s(t,r))-u))}))},12974:function(e,t,n){"use strict";var r=n(17854),i=n(22104),s=n(90260),o=n(47293),a=n(50206),u=r.Int8Array,c=s.aTypedArray,l=s.exportTypedArrayMethod,h=[].toLocaleString,d=!!u&&o((function(){h.call(new u(1))}));l("toLocaleString",(function(){return i(h,d?a(c(this)):c(this),a(arguments))}),o((function(){return[1,2].toLocaleString()!=new u([1,2]).toLocaleString()}))||!o((function(){u.prototype.toLocaleString.call([1,2])})))},1439:function(e,t,n){"use strict";var r=n(21843),i=n(90260),s=i.aTypedArray,o=i.exportTypedArrayMethod,a=i.getTypedArrayConstructor;o("toReversed",(function(){return r(s(this),a(this))}))},87585:function(e,t,n){"use strict";var r=n(90260),i=n(1702),s=n(19662),o=n(97745),a=r.aTypedArray,u=r.getTypedArrayConstructor,c=r.exportTypedArrayMethod,l=i(r.TypedArrayPrototype.sort);c("toSorted",(function(e){void 0!==e&&s(e);var t=a(this),n=o(u(t),t);return l(n,e)}))},15016:function(e,t,n){"use strict";var r=n(90260).exportTypedArrayMethod,i=n(47293),s=n(17854),o=n(1702),a=s.Uint8Array,u=a&&a.prototype||{},c=[].toString,l=o([].join);i((function(){c.call({})}))&&(c=function(){return l(this)});var h=u.toString!=c;r("toString",c,h)},8255:function(e,t,n){n(19843)("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},29135:function(e,t,n){n(19843)("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},82472:function(e,t,n){n(19843)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},49743:function(e,t,n){n(19843)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},55315:function(e,t,n){"use strict";var r=n(11572),i=n(90260),s=n(44067),o=n(19303),a=n(64599),u=i.aTypedArray,c=i.getTypedArrayConstructor,l=i.exportTypedArrayMethod,h=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();l("with",{with:function(e,t){var n=u(this),i=o(e),l=s(n)?a(t):+t;return r(n,c(n),i,l)}}.with,!h)},78221:function(e,t,n){"use strict";var r=n(82109),i=n(1702),s=n(41340),o=String.fromCharCode,a=i("".charAt),u=i(/./.exec),c=i("".slice),l=/^[\da-f]{2}$/i,h=/^[\da-f]{4}$/i;r({global:!0},{unescape:function(e){for(var t,n,r=s(e),i="",d=r.length,f=0;f<d;){if("%"===(t=a(r,f++)))if("u"===a(r,f)){if(n=c(r,f+1,f+5),u(h,n)){i+=o(parseInt(n,16)),f+=5;continue}}else if(n=c(r,f,f+2),u(l,n)){i+=o(parseInt(n,16)),f+=2;continue}i+=t}return i}})},41202:function(e,t,n){"use strict";var r,i=n(76677),s=n(17854),o=n(1702),a=n(89190),u=n(62423),c=n(77710),l=n(29320),h=n(70111),d=n(29909).enforce,f=n(47293),p=n(94811),g=Object,m=Array.isArray,v=g.isExtensible,y=g.isFrozen,_=g.isSealed,b=g.freeze,w=g.seal,I={},E={},T=!s.ActiveXObject&&"ActiveXObject"in s,k=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},P=c("WeakMap",k,l),S=P.prototype,x=o(S.set);if(p)if(T){r=l.getConstructor(k,"WeakMap",!0),u.enable();var j=o(S.delete),C=o(S.has),R=o(S.get);a(S,{delete:function(e){if(h(e)&&!v(e)){var t=d(this);return t.frozen||(t.frozen=new r),j(this,e)||t.frozen.delete(e)}return j(this,e)},has:function(e){if(h(e)&&!v(e)){var t=d(this);return t.frozen||(t.frozen=new r),C(this,e)||t.frozen.has(e)}return C(this,e)},get:function(e){if(h(e)&&!v(e)){var t=d(this);return t.frozen||(t.frozen=new r),C(this,e)?R(this,e):t.frozen.get(e)}return R(this,e)},set:function(e,t){if(h(e)&&!v(e)){var n=d(this);n.frozen||(n.frozen=new r),C(this,e)?x(this,e,t):n.frozen.set(e,t)}else x(this,e,t);return this}})}else i&&f((function(){var e=b([]);return x(new P,e,1),!y(e)}))&&a(S,{set:function(e,t){var n;return m(e)&&(y(e)?n=I:_(e)&&(n=E)),x(this,e,t),n==I&&b(e),n==E&&w(e),this}})},4129:function(e,t,n){n(41202)},72098:function(e,t,n){"use strict";n(77710)("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(29320))},38478:function(e,t,n){n(72098)},75505:function(e,t,n){var r=n(82109),i=n(17854),s=n(35005),o=n(1702),a=n(46916),u=n(47293),c=n(41340),l=n(92597),h=n(48053),d=n(14170).ctoi,f=/[^\d+/a-z]/i,p=/[\t\n\f\r ]+/g,g=/[=]{1,2}$/,m=s("atob"),v=String.fromCharCode,y=o("".charAt),_=o("".replace),b=o(f.exec),w=u((function(){return""!==m(" ")})),I=!u((function(){m("a")})),E=!w&&!I&&!u((function(){m()})),T=!w&&!I&&1!==m.length;r({global:!0,bind:!0,enumerable:!0,forced:w||I||E||T},{atob:function(e){if(h(arguments.length,1),E||T)return a(m,i,e);var t,n,r=_(c(e),p,""),o="",u=0,w=0;if(r.length%4==0&&(r=_(r,g,"")),r.length%4==1||b(f,r))throw new(s("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;t=y(r,u++);)l(d,t)&&(n=w%4?64*n+d[t]:d[t],w++%4&&(o+=v(255&n>>(-2*w&6))));return o}})},27479:function(e,t,n){var r=n(82109),i=n(17854),s=n(35005),o=n(1702),a=n(46916),u=n(47293),c=n(41340),l=n(48053),h=n(14170).itoc,d=s("btoa"),f=o("".charAt),p=o("".charCodeAt),g=!!d&&!u((function(){d()})),m=!!d&&u((function(){return"bnVsbA=="!==d(null)})),v=!!d&&1!==d.length;r({global:!0,bind:!0,enumerable:!0,forced:g||m||v},{btoa:function(e){if(l(arguments.length,1),g||m||v)return a(d,i,c(e));for(var t,n,r=c(e),o="",u=0,y=h;f(r,u)||(y="=",u%1);){if((n=p(r,u+=3/4))>255)throw new(s("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");o+=f(y,63&(t=t<<8|n)>>8-u%1*8)}return o}})},11091:function(e,t,n){var r=n(82109),i=n(17854),s=n(20261).clear;r({global:!0,bind:!0,enumerable:!0,forced:i.clearImmediate!==s},{clearImmediate:s})},54747:function(e,t,n){var r=n(17854),i=n(48324),s=n(98509),o=n(18533),a=n(68880),u=function(e){if(e&&e.forEach!==o)try{a(e,"forEach",o)}catch(t){e.forEach=o}};for(var c in i)i[c]&&u(r[c]&&r[c].prototype);u(s)},33948:function(e,t,n){var r=n(17854),i=n(48324),s=n(98509),o=n(66992),a=n(68880),u=n(5112),c=u("iterator"),l=u("toStringTag"),h=o.values,d=function(e,t){if(e){if(e[c]!==h)try{a(e,c,h)}catch(t){e[c]=h}if(e[l]||a(e,l,t),i[t])for(var n in o)if(e[n]!==o[n])try{a(e,n,o[n])}catch(t){e[n]=o[n]}}};for(var f in i)d(r[f]&&r[f].prototype,f);d(s,"DOMTokenList")},87714:function(e,t,n){"use strict";var r=n(82109),i=n(44038),s=n(35005),o=n(47293),a=n(70030),u=n(79114),c=n(3070).f,l=n(98052),h=n(47045),d=n(92597),f=n(25787),p=n(19670),g=n(7762),m=n(56277),v=n(93678),y=n(11060),_=n(29909),b=n(19781),w=n(31913),I="DOMException",E="DATA_CLONE_ERR",T=s("Error"),k=s(I)||function(){try{(new(s("MessageChannel")||i("worker_threads").MessageChannel)).port1.postMessage(new WeakMap)}catch(e){if(e.name==E&&25==e.code)return e.constructor}}(),P=k&&k.prototype,S=T.prototype,x=_.set,j=_.getterFor(I),C="stack"in T(I),R=function(e){return d(v,e)&&v[e].m?v[e].c:0},O=function(){f(this,A);var e=arguments.length,t=m(e<1?void 0:arguments[0]),n=m(e<2?void 0:arguments[1],"Error"),r=R(n);if(x(this,{type:I,name:n,message:t,code:r}),b||(this.name=n,this.message=t,this.code=r),C){var i=T(t);i.name=I,c(this,"stack",u(1,y(i.stack,1)))}},A=O.prototype=a(S),N=function(e){return{enumerable:!0,configurable:!0,get:e}},L=function(e){return N((function(){return j(this)[e]}))};b&&(h(A,"code",L("code")),h(A,"message",L("message")),h(A,"name",L("name"))),c(A,"constructor",u(1,O));var M=o((function(){return!(new k instanceof T)})),D=M||o((function(){return S.toString!==g||"2: 1"!==String(new k(1,2))})),F=M||o((function(){return 25!==new k(1,"DataCloneError").code})),U=M||25!==k[E]||25!==P[E],G=w?D||F||U:M;r({global:!0,constructor:!0,forced:G},{DOMException:G?O:k});var q=s(I),z=q.prototype;for(var B in D&&(w||k===q)&&l(z,"toString",g),F&&b&&k===q&&h(z,"code",N((function(){return R(p(this).name)}))),v)if(d(v,B)){var W=v[B],V=W.s,H=u(6,W.c);d(q,V)||c(q,V,H),d(z,V)||c(z,V,H)}},82801:function(e,t,n){"use strict";var r=n(82109),i=n(17854),s=n(35005),o=n(79114),a=n(3070).f,u=n(92597),c=n(25787),l=n(79587),h=n(56277),d=n(93678),f=n(11060),p=n(19781),g=n(31913),m="DOMException",v=s("Error"),y=s(m),_=function(){c(this,b);var e=arguments.length,t=h(e<1?void 0:arguments[0]),n=h(e<2?void 0:arguments[1],"Error"),r=new y(t,n),i=v(t);return i.name=m,a(r,"stack",o(1,f(i.stack,1))),l(r,this,_),r},b=_.prototype=y.prototype,w="stack"in v(m),I="stack"in new y(1,2),E=y&&p&&Object.getOwnPropertyDescriptor(i,m),T=!(!E||E.writable&&E.configurable),k=w&&!T&&!I;r({global:!0,constructor:!0,forced:g||k},{DOMException:k?_:y});var P=s(m),S=P.prototype;if(S.constructor!==P)for(var x in g||a(S,"constructor",o(1,P)),d)if(u(d,x)){var j=d[x],C=j.s;u(P,C)||a(P,C,o(6,j.c))}},1174:function(e,t,n){var r=n(35005),i="DOMException";n(58003)(r(i),i)},84633:function(e,t,n){n(11091),n(12986)},85844:function(e,t,n){var r=n(82109),i=n(17854),s=n(95948),o=n(19662),a=n(48053),u=n(35268),c=i.process;r({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:function(e){a(arguments.length,1),o(e);var t=u&&c.domain;s(t?t.bind(e):e)}})},71550:function(e,t,n){"use strict";var r=n(82109),i=n(17854),s=n(47045),o=n(19781),a=TypeError,u=Object.defineProperty,c=i.self!==i;try{if(o){var l=Object.getOwnPropertyDescriptor(i,"self");!c&&l&&l.get&&l.enumerable||s(i,"self",{get:function(){return i},set:function(e){if(this!==i)throw a("Illegal invocation");u(i,"self",{value:e,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else r({global:!0,simple:!0,forced:c},{self:i})}catch(e){}},12986:function(e,t,n){var r=n(82109),i=n(17854),s=n(20261).set,o=n(17152),a=i.setImmediate?o(s,!1):s;r({global:!0,bind:!0,enumerable:!0,forced:i.setImmediate!==a},{setImmediate:a})},96815:function(e,t,n){var r=n(82109),i=n(17854),s=n(17152)(i.setInterval,!0);r({global:!0,bind:!0,forced:i.setInterval!==s},{setInterval:s})},88417:function(e,t,n){var r=n(82109),i=n(17854),s=n(17152)(i.setTimeout,!0);r({global:!0,bind:!0,forced:i.setTimeout!==s},{setTimeout:s})},61295:function(e,t,n){var r,i=n(31913),s=n(82109),o=n(17854),a=n(35005),u=n(1702),c=n(47293),l=n(69711),h=n(60614),d=n(4411),f=n(68554),p=n(70111),g=n(52190),m=n(20408),v=n(19670),y=n(70648),_=n(92597),b=n(86135),w=n(68880),I=n(26244),E=n(48053),T=n(34706),k=n(75706),P=n(79405),S=n(22914),x=n(64124),j=o.Object,C=o.Array,R=o.Date,O=o.Error,A=o.EvalError,N=o.RangeError,L=o.ReferenceError,M=o.SyntaxError,D=o.TypeError,F=o.URIError,U=o.PerformanceMark,G=o.WebAssembly,q=G&&G.CompileError||O,z=G&&G.LinkError||O,B=G&&G.RuntimeError||O,W=a("DOMException"),V=k.Map,H=k.has,K=k.get,$=k.set,Y=P.Set,J=P.add,Q=a("Object","keys"),X=u([].push),Z=u((!0).valueOf),ee=u(1..valueOf),te=u("".valueOf),ne=u(R.prototype.getTime),re=l("structuredClone"),ie="DataCloneError",se="Transferring",oe=function(e){return!c((function(){var t=new o.Set([7]),n=e(t),r=e(j(7));return n==t||!n.has(7)||"object"!=typeof r||7!=r}))&&e},ae=function(e,t){return!c((function(){var n=new t,r=e({a:n,b:n});return!(r&&r.a===r.b&&r.a instanceof t&&r.a.stack===n.stack)}))},ue=o.structuredClone,ce=i||!ae(ue,O)||!ae(ue,W)||(r=ue,!!c((function(){var e=r(new o.AggregateError([1],re,{cause:3}));return"AggregateError"!=e.name||1!=e.errors[0]||e.message!=re||3!=e.cause}))),le=!ue&&oe((function(e){return new U(re,{detail:e}).detail})),he=oe(ue)||le,de=function(e){throw new W("Uncloneable type: "+e,ie)},fe=function(e,t){throw new W((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",ie)},pe=function(e,t){return he||fe(t),he(e)},ge=function(e,t){if(g(e)&&de("Symbol"),!p(e))return e;if(t){if(H(t,e))return K(t,e)}else t=new V;var n,r,i,s,u,c,l,d,f,m,v,E=y(e),k=!1;switch(E){case"Array":i=C(I(e)),k=!0;break;case"Object":i={},k=!0;break;case"Map":i=new V,k=!0;break;case"Set":i=new Y,k=!0;break;case"RegExp":i=new RegExp(e.source,T(e));break;case"Error":switch(r=e.name){case"AggregateError":i=a("AggregateError")([]);break;case"EvalError":i=A();break;case"RangeError":i=N();break;case"ReferenceError":i=L();break;case"SyntaxError":i=M();break;case"TypeError":i=D();break;case"URIError":i=F();break;case"CompileError":i=q();break;case"LinkError":i=z();break;case"RuntimeError":i=B();break;default:i=O()}k=!0;break;case"DOMException":i=new W(e.message,e.name),k=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":n=o[E],p(n)||fe(E),i=new n(ge(e.buffer,t),e.byteOffset,"DataView"===E?e.byteLength:e.length);break;case"DOMQuad":try{i=new DOMQuad(ge(e.p1,t),ge(e.p2,t),ge(e.p3,t),ge(e.p4,t))}catch(t){i=pe(e,E)}break;case"File":if(he)try{i=he(e),y(i)!==E&&(i=void 0)}catch(e){}if(!i)try{i=new File([e],e.name,e)}catch(e){}i||fe(E);break;case"FileList":if(s=function(){var e;try{e=new o.DataTransfer}catch(t){try{e=new o.ClipboardEvent("").clipboardData}catch(e){}}return e&&e.items&&e.files?e:null}()){for(u=0,c=I(e);u<c;u++)s.items.add(ge(e[u],t));i=s.files}else i=pe(e,E);break;case"ImageData":try{i=new ImageData(ge(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(t){i=pe(e,E)}break;default:if(he)i=he(e);else switch(E){case"BigInt":i=j(e.valueOf());break;case"Boolean":i=j(Z(e));break;case"Number":i=j(ee(e));break;case"String":i=j(te(e));break;case"Date":i=new R(ne(e));break;case"ArrayBuffer":(n=o.DataView)||"function"==typeof e.slice||fe(E);try{if("function"!=typeof e.slice||e.resizable){c=e.byteLength,v="maxByteLength"in e?{maxByteLength:e.maxByteLength}:void 0,i=new ArrayBuffer(c,v),f=new n(e),m=new n(i);for(u=0;u<c;u++)m.setUint8(u,f.getUint8(u))}else i=e.slice(0)}catch(e){throw new W("ArrayBuffer is detached",ie)}break;case"SharedArrayBuffer":i=e;break;case"Blob":try{i=e.slice(0,e.size,e.type)}catch(e){fe(E)}break;case"DOMPoint":case"DOMPointReadOnly":n=o[E];try{i=n.fromPoint?n.fromPoint(e):new n(e.x,e.y,e.z,e.w)}catch(e){fe(E)}break;case"DOMRect":case"DOMRectReadOnly":n=o[E];try{i=n.fromRect?n.fromRect(e):new n(e.x,e.y,e.width,e.height)}catch(e){fe(E)}break;case"DOMMatrix":case"DOMMatrixReadOnly":n=o[E];try{i=n.fromMatrix?n.fromMatrix(e):new n(e)}catch(e){fe(E)}break;case"AudioData":case"VideoFrame":h(e.clone)||fe(E);try{i=e.clone()}catch(e){de(E)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":fe(E);default:de(E)}}if($(t,e,i),k)switch(E){case"Array":case"Object":for(l=Q(e),u=0,c=I(l);u<c;u++)d=l[u],b(i,d,ge(e[d],t));break;case"Map":e.forEach((function(e,n){$(i,ge(n,t),ge(e,t))}));break;case"Set":e.forEach((function(e){J(i,ge(e,t))}));break;case"Error":w(i,"message",ge(e.message,t)),_(e,"cause")&&w(i,"cause",ge(e.cause,t)),"AggregateError"==r&&(i.errors=ge(e.errors,t));case"DOMException":S&&w(i,"stack",ge(e.stack,t))}return i};s({global:!0,enumerable:!0,sham:!x,forced:ce},{structuredClone:function(e){var t,n=E(arguments.length,1)>1&&!f(arguments[1])?v(arguments[1]):void 0,r=n?n.transfer:void 0;return void 0!==r&&function(e,t){if(!p(e))throw D("Transfer option cannot be converted to a sequence");var n=[];m(e,(function(e){X(n,v(e))}));var r,i,s,a,u,c,l=0,f=I(n);if(x)for(a=ue(n,{transfer:n});l<f;)$(t,n[l],a[l++]);else for(;l<f;){if(r=n[l++],H(t,r))throw new W("Duplicate transferable",ie);switch(i=y(r)){case"ImageBitmap":s=o.OffscreenCanvas,d(s)||fe(i,se);try{(c=new s(r.width,r.height)).getContext("bitmaprenderer").transferFromImageBitmap(r),u=c.transferToImageBitmap()}catch(e){}break;case"AudioData":case"VideoFrame":h(r.clone)&&h(r.close)||fe(i,se);try{u=r.clone(),r.close()}catch(e){}break;case"ArrayBuffer":h(r.transfer)||fe(i,se),u=r.transfer();break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":fe(i,se)}if(void 0===u)throw new W("This object cannot be transferred: "+i,ie);$(t,r,u)}}(r,t=new V),ge(e,t)}})},32564:function(e,t,n){n(96815),n(88417)},65556:function(e,t,n){"use strict";n(66992);var r=n(82109),i=n(17854),s=n(46916),o=n(1702),a=n(19781),u=n(85143),c=n(98052),l=n(47045),h=n(89190),d=n(58003),f=n(63061),p=n(29909),g=n(25787),m=n(60614),v=n(92597),y=n(49974),_=n(70648),b=n(19670),w=n(70111),I=n(41340),E=n(70030),T=n(79114),k=n(18554),P=n(71246),S=n(48053),x=n(5112),j=n(94362),C=x("iterator"),R="URLSearchParams",O=R+"Iterator",A=p.set,N=p.getterFor(R),L=p.getterFor(O),M=Object.getOwnPropertyDescriptor,D=function(e){if(!a)return i[e];var t=M(i,e);return t&&t.value},F=D("fetch"),U=D("Request"),G=D("Headers"),q=U&&U.prototype,z=G&&G.prototype,B=i.RegExp,W=i.TypeError,V=i.decodeURIComponent,H=i.encodeURIComponent,K=o("".charAt),$=o([].join),Y=o([].push),J=o("".replace),Q=o([].shift),X=o([].splice),Z=o("".split),ee=o("".slice),te=/\+/g,ne=Array(4),re=function(e){return ne[e-1]||(ne[e-1]=B("((?:%[\\da-f]{2}){"+e+"})","gi"))},ie=function(e){try{return V(e)}catch(t){return e}},se=function(e){var t=J(e,te," "),n=4;try{return V(t)}catch(e){for(;n;)t=J(t,re(n--),ie);return t}},oe=/[!'()~]|%20/g,ae={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ue=function(e){return ae[e]},ce=function(e){return J(H(e),oe,ue)},le=f((function(e,t){A(this,{type:O,iterator:k(N(e).entries),kind:t})}),"Iterator",(function(){var e=L(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),he=function(e){this.entries=[],this.url=null,void 0!==e&&(w(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===K(e,0)?ee(e,1):e:I(e)))};he.prototype={type:R,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,o,a,u,c=P(e);if(c)for(n=(t=k(e,c)).next;!(r=s(n,t)).done;){if(o=(i=k(b(r.value))).next,(a=s(o,i)).done||(u=s(o,i)).done||!s(o,i).done)throw W("Expected sequence with length 2");Y(this.entries,{key:I(a.value),value:I(u.value)})}else for(var l in e)v(e,l)&&Y(this.entries,{key:l,value:I(e[l])})},parseQuery:function(e){if(e)for(var t,n,r=Z(e,"&"),i=0;i<r.length;)(t=r[i++]).length&&(n=Z(t,"="),Y(this.entries,{key:se(Q(n)),value:se($(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],Y(n,ce(e.key)+"="+ce(e.value));return $(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var de=function(){g(this,fe);var e=A(this,new he(arguments.length>0?arguments[0]:void 0));a||(this.length=e.entries.length)},fe=de.prototype;if(h(fe,{append:function(e,t){S(arguments.length,2);var n=N(this);Y(n.entries,{key:I(e),value:I(t)}),a||this.length++,n.updateURL()},delete:function(e){S(arguments.length,1);for(var t=N(this),n=t.entries,r=I(e),i=0;i<n.length;)n[i].key===r?X(n,i,1):i++;a||(this.length=n.length),t.updateURL()},get:function(e){S(arguments.length,1);for(var t=N(this).entries,n=I(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){S(arguments.length,1);for(var t=N(this).entries,n=I(e),r=[],i=0;i<t.length;i++)t[i].key===n&&Y(r,t[i].value);return r},has:function(e){S(arguments.length,1);for(var t=N(this).entries,n=I(e),r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){S(arguments.length,1);for(var n,r=N(this),i=r.entries,s=!1,o=I(e),u=I(t),c=0;c<i.length;c++)(n=i[c]).key===o&&(s?X(i,c--,1):(s=!0,n.value=u));s||Y(i,{key:o,value:u}),a||(this.length=i.length),r.updateURL()},sort:function(){var e=N(this);j(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=N(this).entries,r=y(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new le(this,"keys")},values:function(){return new le(this,"values")},entries:function(){return new le(this,"entries")}},{enumerable:!0}),c(fe,C,fe.entries,{name:"entries"}),c(fe,"toString",(function(){return N(this).serialize()}),{enumerable:!0}),a&&l(fe,"size",{get:function(){return N(this).entries.length},configurable:!0,enumerable:!0}),d(de,R),r({global:!0,constructor:!0,forced:!u},{URLSearchParams:de}),!u&&m(G)){var pe=o(z.has),ge=o(z.set),me=function(e){if(w(e)){var t,n=e.body;if(_(n)===R)return t=e.headers?new G(e.headers):new G,pe(t,"content-type")||ge(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),E(e,{body:T(0,I(n)),headers:T(0,t)})}return e};if(m(F)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return F(e,arguments.length>1?me(arguments[1]):{})}}),m(U)){var ve=function(e){return g(this,q),new U(e,arguments.length>1?me(arguments[1]):{})};q.constructor=ve,ve.prototype=q,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ve})}}e.exports={URLSearchParams:de,getState:N}},41637:function(e,t,n){n(65556)},62062:function(e,t,n){"use strict";var r=n(19781),i=n(1702),s=n(47045),o=URLSearchParams.prototype,a=i(o.forEach);r&&!("size"in o)&&s(o,"size",{get:function(){var e=0;return a(this,(function(){e++})),e},configurable:!0,enumerable:!0})},7994:function(e,t,n){var r=n(82109),i=n(35005),s=n(47293),o=n(48053),a=n(41340),u=n(85143),c=i("URL");r({target:"URL",stat:!0,forced:!(u&&s((function(){c.canParse()})))},{canParse:function(e){var t=o(arguments.length,1),n=a(e),r=t<2||void 0===arguments[1]?void 0:a(arguments[1]);try{return!!new c(n,r)}catch(e){return!1}}})},68789:function(e,t,n){"use strict";n(78783);var r,i=n(82109),s=n(19781),o=n(85143),a=n(17854),u=n(49974),c=n(1702),l=n(98052),h=n(47045),d=n(25787),f=n(92597),p=n(21574),g=n(48457),m=n(41589),v=n(28710).codeAt,y=n(33197),_=n(41340),b=n(58003),w=n(48053),I=n(65556),E=n(29909),T=E.set,k=E.getterFor("URL"),P=I.URLSearchParams,S=I.getState,x=a.URL,j=a.TypeError,C=a.parseInt,R=Math.floor,O=Math.pow,A=c("".charAt),N=c(/./.exec),L=c([].join),M=c(1..toString),D=c([].pop),F=c([].push),U=c("".replace),G=c([].shift),q=c("".split),z=c("".slice),B=c("".toLowerCase),W=c([].unshift),V="Invalid scheme",H="Invalid host",K="Invalid port",$=/[a-z]/i,Y=/[\d+-.a-z]/i,J=/\d/,Q=/^0x/i,X=/^[0-7]+$/,Z=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,re=/^[\u0000-\u0020]+/,ie=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,se=/[\t\n\r]/g,oe=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)W(t,e%256),e=R(e/256);return L(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,s=0;s<8;s++)0!==e[s]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=s),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=M(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},ae={},ue=p({},ae,{" ":1,'"':1,"<":1,">":1,"`":1}),ce=p({},ue,{"#":1,"?":1,"{":1,"}":1}),le=p({},ce,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),he=function(e,t){var n=v(e,0);return n>32&&n<127&&!f(t,e)?e:encodeURIComponent(e)},de={ftp:21,file:null,http:80,https:443,ws:80,wss:443},fe=function(e,t){var n;return 2==e.length&&N($,A(e,0))&&(":"==(n=A(e,1))||!t&&"|"==n)},pe=function(e){var t;return e.length>1&&fe(z(e,0,2))&&(2==e.length||"/"===(t=A(e,2))||"\\"===t||"?"===t||"#"===t)},ge=function(e){return"."===e||"%2e"===B(e)},me={},ve={},ye={},_e={},be={},we={},Ie={},Ee={},Te={},ke={},Pe={},Se={},xe={},je={},Ce={},Re={},Oe={},Ae={},Ne={},Le={},Me={},De=function(e,t,n){var r,i,s,o=_(e);if(t){if(i=this.parse(o))throw j(i);this.searchParams=null}else{if(void 0!==n&&(r=new De(n,!0)),i=this.parse(o,null,r))throw j(i);(s=S(new P)).bindURL(this),this.searchParams=s}};De.prototype={type:"URL",parse:function(e,t,n){var i,s,o,a,u,c=this,l=t||me,h=0,d="",p=!1,v=!1,y=!1;for(e=_(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=U(e,re,""),e=U(e,ie,"$1")),e=U(e,se,""),i=g(e);h<=i.length;){switch(s=i[h],l){case me:if(!s||!N($,s)){if(t)return V;l=ye;continue}d+=B(s),l=ve;break;case ve:if(s&&(N(Y,s)||"+"==s||"-"==s||"."==s))d+=B(s);else{if(":"!=s){if(t)return V;d="",l=ye,h=0;continue}if(t&&(c.isSpecial()!=f(de,d)||"file"==d&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=d,t)return void(c.isSpecial()&&de[c.scheme]==c.port&&(c.port=null));d="","file"==c.scheme?l=je:c.isSpecial()&&n&&n.scheme==c.scheme?l=_e:c.isSpecial()?l=Ee:"/"==i[h+1]?(l=be,h++):(c.cannotBeABaseURL=!0,F(c.path,""),l=Ne)}break;case ye:if(!n||n.cannotBeABaseURL&&"#"!=s)return V;if(n.cannotBeABaseURL&&"#"==s){c.scheme=n.scheme,c.path=m(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,l=Me;break}l="file"==n.scheme?je:we;continue;case _e:if("/"!=s||"/"!=i[h+1]){l=we;continue}l=Te,h++;break;case be:if("/"==s){l=ke;break}l=Ae;continue;case we:if(c.scheme=n.scheme,s==r)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=m(n.path),c.query=n.query;else if("/"==s||"\\"==s&&c.isSpecial())l=Ie;else if("?"==s)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=m(n.path),c.query="",l=Le;else{if("#"!=s){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=m(n.path),c.path.length--,l=Ae;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=m(n.path),c.query=n.query,c.fragment="",l=Me}break;case Ie:if(!c.isSpecial()||"/"!=s&&"\\"!=s){if("/"!=s){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,l=Ae;continue}l=ke}else l=Te;break;case Ee:if(l=Te,"/"!=s||"/"!=A(d,h+1))continue;h++;break;case Te:if("/"!=s&&"\\"!=s){l=ke;continue}break;case ke:if("@"==s){p&&(d="%40"+d),p=!0,o=g(d);for(var b=0;b<o.length;b++){var w=o[b];if(":"!=w||y){var I=he(w,le);y?c.password+=I:c.username+=I}else y=!0}d=""}else if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&c.isSpecial()){if(p&&""==d)return"Invalid authority";h-=g(d).length+1,d="",l=Pe}else d+=s;break;case Pe:case Se:if(t&&"file"==c.scheme){l=Re;continue}if(":"!=s||v){if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&c.isSpecial()){if(c.isSpecial()&&""==d)return H;if(t&&""==d&&(c.includesCredentials()||null!==c.port))return;if(a=c.parseHost(d))return a;if(d="",l=Oe,t)return;continue}"["==s?v=!0:"]"==s&&(v=!1),d+=s}else{if(""==d)return H;if(a=c.parseHost(d))return a;if(d="",l=xe,t==Se)return}break;case xe:if(!N(J,s)){if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&c.isSpecial()||t){if(""!=d){var E=C(d,10);if(E>65535)return K;c.port=c.isSpecial()&&E===de[c.scheme]?null:E,d=""}if(t)return;l=Oe;continue}return K}d+=s;break;case je:if(c.scheme="file","/"==s||"\\"==s)l=Ce;else{if(!n||"file"!=n.scheme){l=Ae;continue}if(s==r)c.host=n.host,c.path=m(n.path),c.query=n.query;else if("?"==s)c.host=n.host,c.path=m(n.path),c.query="",l=Le;else{if("#"!=s){pe(L(m(i,h),""))||(c.host=n.host,c.path=m(n.path),c.shortenPath()),l=Ae;continue}c.host=n.host,c.path=m(n.path),c.query=n.query,c.fragment="",l=Me}}break;case Ce:if("/"==s||"\\"==s){l=Re;break}n&&"file"==n.scheme&&!pe(L(m(i,h),""))&&(fe(n.path[0],!0)?F(c.path,n.path[0]):c.host=n.host),l=Ae;continue;case Re:if(s==r||"/"==s||"\\"==s||"?"==s||"#"==s){if(!t&&fe(d))l=Ae;else if(""==d){if(c.host="",t)return;l=Oe}else{if(a=c.parseHost(d))return a;if("localhost"==c.host&&(c.host=""),t)return;d="",l=Oe}continue}d+=s;break;case Oe:if(c.isSpecial()){if(l=Ae,"/"!=s&&"\\"!=s)continue}else if(t||"?"!=s)if(t||"#"!=s){if(s!=r&&(l=Ae,"/"!=s))continue}else c.fragment="",l=Me;else c.query="",l=Le;break;case Ae:if(s==r||"/"==s||"\\"==s&&c.isSpecial()||!t&&("?"==s||"#"==s)){if(".."===(u=B(u=d))||"%2e."===u||".%2e"===u||"%2e%2e"===u?(c.shortenPath(),"/"==s||"\\"==s&&c.isSpecial()||F(c.path,"")):ge(d)?"/"==s||"\\"==s&&c.isSpecial()||F(c.path,""):("file"==c.scheme&&!c.path.length&&fe(d)&&(c.host&&(c.host=""),d=A(d,0)+":"),F(c.path,d)),d="","file"==c.scheme&&(s==r||"?"==s||"#"==s))for(;c.path.length>1&&""===c.path[0];)G(c.path);"?"==s?(c.query="",l=Le):"#"==s&&(c.fragment="",l=Me)}else d+=he(s,ce);break;case Ne:"?"==s?(c.query="",l=Le):"#"==s?(c.fragment="",l=Me):s!=r&&(c.path[0]+=he(s,ae));break;case Le:t||"#"!=s?s!=r&&("'"==s&&c.isSpecial()?c.query+="%27":c.query+="#"==s?"%23":he(s,ae)):(c.fragment="",l=Me);break;case Me:s!=r&&(c.fragment+=he(s,ue))}h++}},parseHost:function(e){var t,n,r;if("["==A(e,0)){if("]"!=A(e,e.length-1))return H;if(t=function(e){var t,n,r,i,s,o,a,u=[0,0,0,0,0,0,0,0],c=0,l=null,h=0,d=function(){return A(e,h)};if(":"==d()){if(":"!=A(e,1))return;h+=2,l=++c}for(;d();){if(8==c)return;if(":"!=d()){for(t=n=0;n<4&&N(ee,d());)t=16*t+C(d(),16),h++,n++;if("."==d()){if(0==n)return;if(h-=n,c>6)return;for(r=0;d();){if(i=null,r>0){if(!("."==d()&&r<4))return;h++}if(!N(J,d()))return;for(;N(J,d());){if(s=C(d(),10),null===i)i=s;else{if(0==i)return;i=10*i+s}if(i>255)return;h++}u[c]=256*u[c]+i,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==d()){if(h++,!d())return}else if(d())return;u[c++]=t}else{if(null!==l)return;h++,l=++c}}if(null!==l)for(o=c-l,c=7;0!=c&&o>0;)a=u[c],u[c--]=u[l+o-1],u[l+--o]=a;else if(8!=c)return;return u}(z(e,1,-1)),!t)return H;this.host=t}else if(this.isSpecial()){if(e=y(e),N(te,e))return H;if(t=function(e){var t,n,r,i,s,o,a,u=q(e,".");if(u.length&&""==u[u.length-1]&&u.length--,(t=u.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=u[r]))return e;if(s=10,i.length>1&&"0"==A(i,0)&&(s=N(Q,i)?16:8,i=z(i,8==s?1:2)),""===i)o=0;else{if(!N(10==s?Z:8==s?X:ee,i))return e;o=C(i,s)}F(n,o)}for(r=0;r<t;r++)if(o=n[r],r==t-1){if(o>=O(256,5-t))return null}else if(o>255)return null;for(a=D(n),r=0;r<n.length;r++)a+=n[r]*O(256,3-r);return a}(e),null===t)return H;this.host=t}else{if(N(ne,e))return H;for(t="",n=g(e),r=0;r<n.length;r++)t+=he(n[r],ae);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return f(de,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&fe(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,s=e.port,o=e.path,a=e.query,u=e.fragment,c=t+":";return null!==i?(c+="//",e.includesCredentials()&&(c+=n+(r?":"+r:"")+"@"),c+=oe(i),null!==s&&(c+=":"+s)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+L(o,"/"):"",null!==a&&(c+="?"+a),null!==u&&(c+="#"+u),c},setHref:function(e){var t=this.parse(e);if(t)throw j(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Fe(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+oe(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(_(e)+":",me)},getUsername:function(){return this.username},setUsername:function(e){var t=g(_(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=he(t[n],le)}},getPassword:function(){return this.password},setPassword:function(e){var t=g(_(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=he(t[n],le)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?oe(e):oe(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Pe)},getHostname:function(){var e=this.host;return null===e?"":oe(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Se)},getPort:function(){var e=this.port;return null===e?"":_(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=_(e))?this.port=null:this.parse(e,xe))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+L(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Oe))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=_(e))?this.query=null:("?"==A(e,0)&&(e=z(e,1)),this.query="",this.parse(e,Le)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=_(e))?("#"==A(e,0)&&(e=z(e,1)),this.fragment="",this.parse(e,Me)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Fe=function(e){var t=d(this,Ue),n=w(arguments.length,1)>1?arguments[1]:void 0,r=T(t,new De(e,!1,n));s||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},Ue=Fe.prototype,Ge=function(e,t){return{get:function(){return k(this)[e]()},set:t&&function(e){return k(this)[t](e)},configurable:!0,enumerable:!0}};if(s&&(h(Ue,"href",Ge("serialize","setHref")),h(Ue,"origin",Ge("getOrigin")),h(Ue,"protocol",Ge("getProtocol","setProtocol")),h(Ue,"username",Ge("getUsername","setUsername")),h(Ue,"password",Ge("getPassword","setPassword")),h(Ue,"host",Ge("getHost","setHost")),h(Ue,"hostname",Ge("getHostname","setHostname")),h(Ue,"port",Ge("getPort","setPort")),h(Ue,"pathname",Ge("getPathname","setPathname")),h(Ue,"search",Ge("getSearch","setSearch")),h(Ue,"searchParams",Ge("getSearchParams")),h(Ue,"hash",Ge("getHash","setHash"))),l(Ue,"toJSON",(function(){return k(this).serialize()}),{enumerable:!0}),l(Ue,"toString",(function(){return k(this).serialize()}),{enumerable:!0}),x){var qe=x.createObjectURL,ze=x.revokeObjectURL;qe&&l(Fe,"createObjectURL",u(qe,x)),ze&&l(Fe,"revokeObjectURL",u(ze,x))}b(Fe,"URL"),i({global:!0,constructor:!0,forced:!o,sham:!s},{URL:Fe})},60285:function(e,t,n){n(68789)},83753:function(e,t,n){"use strict";var r=n(82109),i=n(46916);r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},28594:function(e,t,n){n(82526),n(41817),n(72443),n(92401),n(8722),n(32165),n(69007),n(16066),n(83510),n(41840),n(6982),n(32159),n(96649),n(39341),n(60543),n(21703),n(96647),n(9170),n(32120),n(52262),n(92222),n(50545),n(26541),n(43290),n(57327),n(69826),n(34553),n(67635),n(77287),n(84944),n(86535),n(89554),n(91038),n(26699),n(82772),n(79753),n(66992),n(69600),n(94986),n(21249),n(26572),n(57658),n(85827),n(96644),n(65069),n(47042),n(5212),n(2707),n(38706),n(40561),n(90476),n(76459),n(99892),n(33792),n(99244),n(30541),n(35581),n(18264),n(76938),n(39575),n(16716),n(43016),n(3843),n(81801),n(9550),n(28733),n(5735),n(96078),n(83710),n(62130),n(24812),n(4855),n(68309),n(35837),n(38862),n(73706),n(51532),n(99752),n(82376),n(73181),n(23484),n(2388),n(88621),n(60403),n(84755),n(25438),n(90332),n(40658),n(40197),n(44914),n(52420),n(60160),n(60970),n(10408),n(73689),n(9653),n(93299),n(35192),n(33161),n(44048),n(78285),n(44363),n(55994),n(61874),n(9494),n(31354),n(56977),n(55147),n(19601),n(78011),n(59595),n(33321),n(69070),n(35500),n(69720),n(43371),n(38559),n(38880),n(49337),n(36210),n(30489),n(46314),n(43304),n(41825),n(98410),n(72200),n(47941),n(94869),n(33952),n(57227),n(67987),n(60514),n(68304),n(41539),n(26833),n(54678),n(91058),n(88674),n(17922),n(34668),n(17727),n(36535),n(12419),n(69596),n(52586),n(74819),n(95683),n(39361),n(51037),n(5898),n(67556),n(14361),n(83593),n(39532),n(81299),n(24603),n(28450),n(74916),n(92087),n(88386),n(77601),n(39714),n(70189),n(24506),n(79841),n(27852),n(94953),n(32023),n(78783),n(4723),n(76373),n(66528),n(83112),n(38992),n(82481),n(15306),n(68757),n(64765),n(23123),n(23157),n(83650),n(73210),n(48702),n(55674),n(15218),n(74475),n(57929),n(50915),n(29253),n(42125),n(78830),n(58734),n(29254),n(37268),n(7397),n(60086),n(80623),n(44197),n(76495),n(87145),n(35109),n(65125),n(82472),n(49743),n(8255),n(29135),n(48675),n(92990),n(18927),n(33105),n(35035),n(74345),n(7174),n(63408),n(14590),n(32846),n(98145),n(44731),n(77209),n(96319),n(58867),n(37789),n(33739),n(95206),n(29368),n(14483),n(12056),n(3462),n(30678),n(27462),n(33824),n(55021),n(12974),n(1439),n(87585),n(15016),n(55315),n(78221),n(4129),n(38478),n(75505),n(27479),n(54747),n(33948),n(87714),n(82801),n(1174),n(84633),n(85844),n(71550),n(61295),n(32564),n(60285),n(7994),n(83753),n(41637),n(62062),n(40857)},35666:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var s=t&&t.prototype instanceof v?t:v,o=Object.create(s.prototype),a=new C(r||[]);return i(o,"_invoke",{value:P(e,n,a)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d="suspendedStart",f="suspendedYield",p="executing",g="completed",m={};function v(){}function y(){}function _(){}var b={};c(b,o,(function(){return this}));var w=Object.getPrototypeOf,I=w&&w(w(R([])));I&&I!==n&&r.call(I,o)&&(b=I);var E=_.prototype=v.prototype=Object.create(b);function T(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(i,s,o,a){var u=h(e[i],e,s);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,o,a)}),(function(e){n("throw",e,o,a)})):t.resolve(l).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,a)}))}a(u.arg)}var s;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return s=s?s.then(i,i):i()}})}function P(e,t,n){var r=d;return function(i,s){if(r===p)throw new Error("Generator is already running");if(r===g){if("throw"===i)throw s;return O()}for(n.method=i,n.arg=s;;){var o=n.delegate;if(o){var a=S(o,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=h(e,t,n);if("normal"===u.type){if(r=n.done?g:f,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=g,n.method="throw",n.arg=u.arg)}}}function S(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var s=h(i,e.iterator,n.arg);if("throw"===s.type)return n.method="throw",n.arg=s.arg,n.delegate=null,m;var o=s.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function R(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:O}}function O(){return{value:t,done:!0}}return y.prototype=_,i(E,"constructor",{value:_,configurable:!0}),i(_,"constructor",{value:y,configurable:!0}),y.displayName=c(_,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,c(e,u,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},T(k.prototype),c(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,s){void 0===s&&(s=Promise);var o=new k(l(t,n,r,i),s);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(E),c(E,u,"Generator"),c(E,o,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=R,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=e,o.arg=t,s?(this.method="next",this.next=s.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;j(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:R(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),function(){"use strict";function e(){e=function(){return n};var n={},r=Object.prototype,i=r.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),a=new S(r||[]);return s(o,"_invoke",{value:E(e,n,a)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=h;var f={};function p(){}function g(){}function m(){}var v={};l(v,a,(function(){return this}));var y=Object.getPrototypeOf,_=y&&y(y(x([])));_&&_!==r&&i.call(_,a)&&(v=_);var b=m.prototype=p.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,n){function r(s,o,a,u){var c=d(e[s],e,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==t(h)&&i.call(h,"__await")?n.resolve(h.__await).then((function(e){r("next",e,a,u)}),(function(e){r("throw",e,a,u)})):n.resolve(h).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,u)}))}u(c.arg)}var o;s(this,"_invoke",{value:function(e,t){function i(){return new n((function(n,i){r(e,t,n,i)}))}return o=o?o.then(i,i):i()}})}function E(e,t,n){var r="suspendedStart";return function(i,s){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw s;return{value:void 0,done:!0}}for(n.method=i,n.arg=s;;){var o=n.delegate;if(o){var a=T(o,n);if(a){if(a===f)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function T(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,T(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var s=i.arg;return s?s.done?(t[e.resultName]=s.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):s:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:j}}function j(){return{value:void 0,done:!0}}return g.prototype=m,s(b,"constructor",{value:m,configurable:!0}),s(m,"constructor",{value:g,configurable:!0}),g.displayName=l(m,c,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},n.awrap=function(e){return{__await:e}},w(I.prototype),l(I.prototype,u,(function(){return this})),n.AsyncIterator=I,n.async=function(e,t,r,i,s){void 0===s&&(s=Promise);var o=new I(h(e,t,r,i),s);return n.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),l(b,c,"Generator"),l(b,a,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],o=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var a=i.call(s,"catchLoc"),u=i.call(s,"finallyLoc");if(a&&u){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=e,o.arg=t,s?(this.method="next",this.next=s.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},n}function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e){var n=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!==t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===t(n)?n:String(n)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){var t="function"==typeof Map?new Map:void 0;return u=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return c(e,arguments,d(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h(r,e)},u(e)}function c(e,t,n){return c=l()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&h(i,n.prototype),i},c.apply(null,arguments)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,o,a=[],u=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=g(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,s=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw s}}}}function g(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))}n(28594),n(35666),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var y=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.include,i=n.exclude,s=function(e){var t=function(t){return"string"==typeof t?e===t:t.test(e)};return r?r.some(t):!i||!i.some(t)},o=p(function(e){var t=new Set;do{var n,r=p(Reflect.ownKeys(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;t.add([e,i])}}catch(e){r.e(e)}finally{r.f()}}while((e=Reflect.getPrototypeOf(e))&&e!==Object.prototype);return t}(e.constructor.prototype));try{for(o.s();!(t=o.n()).done;){var a=f(t.value,2),u=a[0],c=a[1];if("constructor"!==c&&s(c)){var l=Reflect.getOwnPropertyDescriptor(u,c);l&&"function"==typeof l.value&&(e[c]=e[c].bind(e))}}}catch(e){o.e(e)}finally{o.f()}return e},_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(o,e);var n,r,i=(n=o,r=l(),function(){var e,i=d(n);if(r){var s=d(this).constructor;e=Reflect.construct(i,arguments,s)}else e=i.apply(this,arguments);return function(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"The global `jsPsych` variable is no longer available in jsPsych v7.";return a(this,o),(e=i.call(this,"".concat(t," Please follow the migration guide at https://www.jspsych.org/7.0/support/migration-v7/ to update your experiment."))).name="MigrationError",e}return s(o)}(u(Error));function b(e){return r(new Set(e))}function w(e){if(!e)return e;var n;if(Array.isArray(e)){n=[];var r,i=p(e);try{for(i.s();!(r=i.n()).done;){var s=r.value;n.push(w(s))}}catch(e){i.e(e)}finally{i.f()}return n}if("object"===t(e)&&null!==e){for(var o in n={},e)e.hasOwnProperty(o)&&(n[o]=w(e[o]));return n}return e}window.jsPsych={get init(){throw new _("`jsPsych.init()` was replaced by `initJsPsych()` in jsPsych v7.")},get data(){throw new _},get randomization(){throw new _},get turk(){throw new _},get pluginAPI(){throw new _},get ALL_KEYS(){throw new _('jsPsych.ALL_KEYS was replaced by the "ALL_KEYS" string in jsPsych v7.')},get NO_KEYS(){throw new _('jsPsych.NO_KEYS was replaced by the "NO_KEYS" string in jsPsych v7.')}};var I,E=Object.freeze({__proto__:null,unique:b,deepCopy:w}),T=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];a(this,e),this.values=t}return s(e,[{key:"sum",value:function(){var e,t=0,n=p(this.values);try{for(n.s();!(e=n.n()).done;)t+=e.value}catch(e){n.e(e)}finally{n.f()}return t}},{key:"mean",value:function(){return this.sum()/this.count()}},{key:"median",value:function(){if(0!==this.values.length){var e=this.values.slice(0).sort((function(e,t){return e-t})),t=Math.floor(e.length/2);return e.length%2==0?(e[t]+e[t-1])/2:e[t]}}},{key:"min",value:function(){return Math.min.apply(null,this.values)}},{key:"max",value:function(){return Math.max.apply(null,this.values)}},{key:"count",value:function(){return this.values.length}},{key:"variance",value:function(){var e,t=this.mean(),n=0,r=p(this.values);try{for(r.s();!(e=r.n()).done;){var i=e.value;n+=Math.pow(i-t,2)}}catch(e){r.e(e)}finally{r.f()}return n/(this.values.length-1)}},{key:"sd",value:function(){var e=this.variance();return Math.sqrt(e)}},{key:"frequencies",value:function(){var e,t={},n=p(this.values);try{for(n.s();!(e=n.n()).done;){var r=e.value;void 0===t[r]?t[r]=1:t[r]++}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"all",value:function(e){var t,n=p(this.values);try{for(n.s();!(t=n.n()).done;)if(!e(t.value))return!1}catch(e){n.e(e)}finally{n.f()}return!0}},{key:"subset",value:function(t){var n,r=[],i=p(this.values);try{for(i.s();!(n=i.n()).done;){var s=n.value;t(s)&&r.push(s)}}catch(e){i.e(e)}finally{i.f()}return new e(r)}}]),e}(),k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];a(this,e),this.trials=t}return s(e,[{key:"push",value:function(e){return this.trials.push(e),this}},{key:"join",value:function(e){return this.trials=this.trials.concat(e.values()),this}},{key:"top",value:function(){return this.trials.length<=1?this:new e([this.trials[this.trials.length-1]])}},{key:"first",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(t<1)throw"You must query with a positive nonzero integer. Please use a\n               different value for n.";return 0===this.trials.length?new e:(t>this.trials.length&&(t=this.trials.length),new e(this.trials.slice(0,t)))}},{key:"last",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(t<1)throw"You must query with a positive nonzero integer. Please use a\n               different value for n.";return 0===this.trials.length?new e:(t>this.trials.length&&(t=this.trials.length),new e(this.trials.slice(this.trials.length-t,this.trials.length)))}},{key:"values",value:function(){return this.trials}},{key:"count",value:function(){return this.trials.length}},{key:"readOnly",value:function(){return new e(w(this.trials))}},{key:"addToAll",value:function(e){var t,n=p(this.trials);try{for(n.s();!(t=n.n()).done;){var r=t.value;Object.assign(r,e)}}catch(e){n.e(e)}finally{n.f()}return this}},{key:"addToLast",value:function(e){return 0!=this.trials.length&&Object.assign(this.trials[this.trials.length-1],e),this}},{key:"filter",value:function(t){var n;n=Array.isArray(t)?w(t):w([t]);var r,i=[],s=p(this.trials);try{for(s.s();!(r=s.n()).done;){var o,a=r.value,u=!1,c=p(n);try{for(c.s();!(o=c.n()).done;){for(var l=o.value,h=!0,d=0,f=Object.keys(l);d<f.length;d++){var g=f[d];void 0!==a[g]&&a[g]===l[g]||(h=!1)}if(h){u=!0;break}}}catch(e){c.e(e)}finally{c.f()}u&&i.push(a)}}catch(e){s.e(e)}finally{s.f()}return new e(i)}},{key:"filterCustom",value:function(t){return new e(this.trials.filter(t))}},{key:"filterColumns",value:function(t){return new e(this.trials.map((function(e){return Object.fromEntries(t.filter((function(t){return t in e})).map((function(t){return[t,e[t]]})))})))}},{key:"select",value:function(e){var t,n=[],r=p(this.trials);try{for(r.s();!(t=r.n()).done;){var i=t.value;void 0!==i[e]&&n.push(i[e])}}catch(e){r.e(e)}finally{r.f()}return new T(n)}},{key:"ignore",value:function(t){Array.isArray(t)||(t=[t]);var n,r=w(this.trials),i=p(r);try{for(i.s();!(n=i.n()).done;){var s,o=n.value,a=p(t);try{for(a.s();!(s=a.n()).done;)delete o[s.value]}catch(e){a.e(e)}finally{a.f()}}}catch(e){i.e(e)}finally{i.f()}return new e(r)}},{key:"uniqueNames",value:function(){var e,t=[],n=p(this.trials);try{for(n.s();!(e=n.n()).done;)for(var r=e.value,i=0,s=Object.keys(r);i<s.length;i++){var o=s[i];t.includes(o)||t.push(o)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"csv",value:function(){return function(e){var n,r="object"!=t(e)?JSON.parse(e):e,i="",s="",o=[],a=p(r);try{for(a.s();!(n=a.n()).done;){var u=n.value;for(var c in u){var l=c+"";l='"'+l.replace(/"/g,'""')+'",',o.includes(c)||(o.push(c),i+=l)}}}catch(e){a.e(e)}finally{a.f()}s+=(i=i.slice(0,-1))+"\r\n";var h,d=p(r);try{for(d.s();!(h=d.n()).done;){var f=h.value;i="";var g,m=p(o);try{for(m.s();!(g=m.n()).done;){var v=g.value,y=void 0===f[v]?"":f[v];"object"==t(y)&&(y=JSON.stringify(y)),i+='"'+(y+"").replace(/"/g,'""')+'",'}}catch(e){m.e(e)}finally{m.f()}s+=(i=i.slice(0,-1))+"\r\n"}}catch(e){d.e(e)}finally{d.f()}return s}(this.trials)}},{key:"json",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?JSON.stringify(this.trials,null,"\t"):JSON.stringify(this.trials)}},{key:"localSave",value:function(e,t){var n;if("json"===(e=e.toLowerCase()))n=this.json();else{if("csv"!==e)throw new Error('Invalid format specified for localSave. Must be "json" or "csv".');n=this.csv()}!function(e,t){var n,r=new Blob([e],{type:"text/plain"});n=void 0!==window.webkitURL?window.webkitURL.createObjectURL(r):window.URL.createObjectURL(r);var i=document.createElement("a");i.id="jspsych-download-as-text-link",i.style.display="none",i.download=t,i.href=n,i.click()}(n,t)}}]),e}(),P=function(){function e(t){a(this,e),this.jsPsych=t,this.dataProperties={},this.reset()}return s(e,[{key:"reset",value:function(){this.allData=new k,this.interactionData=new k}},{key:"get",value:function(){return this.allData}},{key:"getInteractionData",value:function(){return this.interactionData}},{key:"write",value:function(e){var t=this.jsPsych.getProgress(),n=this.jsPsych.getCurrentTrial(),r={trial_type:n.type.info.name,trial_index:t.current_trial_global,time_elapsed:this.jsPsych.getTotalTime(),internal_node_id:this.jsPsych.getCurrentTimelineNodeID()};this.allData.push(Object.assign(Object.assign(Object.assign(Object.assign({},e),n.data),r),this.dataProperties))}},{key:"addProperties",value:function(e){this.allData.addToAll(e),this.dataProperties=Object.assign({},this.dataProperties,e)}},{key:"addDataToLastTrial",value:function(e){this.allData.addToLast(e)}},{key:"getDataByTimelineNode",value:function(e){return this.allData.filterCustom((function(t){return t.internal_node_id.slice(0,e.length)===e}))}},{key:"getLastTrialData",value:function(){return this.allData.top()}},{key:"getLastTimelineData",value:function(){var e=this.getLastTrialData().select("internal_node_id").values[0];if(void 0===e)return new k;var t=e.substr(0,e.lastIndexOf("-"));return this.getDataByTimelineNode(t)}},{key:"displayData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json";"json"!=(e=e.toLowerCase())&&"csv"!=e&&(console.log("Invalid format declared for displayData function. Using json as default."),e="json");var t="json"===e?this.allData.json(!0):this.allData.csv();this.jsPsych.getDisplayElement().innerHTML='<pre id="jspsych-data-display"></pre>',document.getElementById("jspsych-data-display").textContent=t}},{key:"urlVariables",value:function(){return void 0===this.query_string&&(this.query_string=function(){for(var e=window.location.search.substr(1).split("&"),t={},n=0;n<e.length;++n){var r=e[n].split("=",2);1==r.length?t[r[0]]="":t[r[0]]=decodeURIComponent(r[1].replace(/\+/g," "))}return t}()),this.query_string}},{key:"getURLVariable",value:function(e){return this.urlVariables()[e]}},{key:"createInteractionListeners",value:function(){var e=this;window.addEventListener("blur",(function(){var t={event:"blur",trial:e.jsPsych.getProgress().current_trial_global,time:e.jsPsych.getTotalTime()};e.interactionData.push(t),e.jsPsych.getInitSettings().on_interaction_data_update(t)})),window.addEventListener("focus",(function(){var t={event:"focus",trial:e.jsPsych.getProgress().current_trial_global,time:e.jsPsych.getTotalTime()};e.interactionData.push(t),e.jsPsych.getInitSettings().on_interaction_data_update(t)}));var t=function(){var t={event:document.isFullScreen||document.webkitIsFullScreen||document.mozIsFullScreen||document.fullscreenElement?"fullscreenenter":"fullscreenexit",trial:e.jsPsych.getProgress().current_trial_global,time:e.jsPsych.getTotalTime()};e.interactionData.push(t),e.jsPsych.getInitSettings().on_interaction_data_update(t)};document.addEventListener("fullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("webkitfullscreenchange",t)}},{key:"_customInsert",value:function(e){this.allData=new k(e)}},{key:"_fullreset",value:function(){this.reset(),this.dataProperties={}}}]),e}(),S=function(){function e(){var t=this;a(this,e),this.hardwareConnected=!1,document.addEventListener("jspsych-activate",(function(e){t.hardwareConnected=!0}))}return s(e,[{key:"hardware",value:function(e){var t=new CustomEvent("jspsych",{detail:e});document.dispatchEvent(t)}}]),e}(),x=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;a(this,e),this.getRootElement=t,this.areResponsesCaseSensitive=n,this.minimumValidRt=r,this.listeners=new Set,this.heldKeys=new Set,this.areRootListenersRegistered=!1,y(this),this.registerRootListeners()}return s(e,[{key:"registerRootListeners",value:function(){if(!this.areRootListenersRegistered){var e=this.getRootElement();e&&(e.addEventListener("keydown",this.rootKeydownListener),e.addEventListener("keyup",this.rootKeyupListener),this.areRootListenersRegistered=!0)}}},{key:"rootKeydownListener",value:function(e){for(var t=0,n=Array.from(this.listeners);t<n.length;t++)(0,n[t])(e);this.heldKeys.add(this.toLowerCaseIfInsensitive(e.key))}},{key:"toLowerCaseIfInsensitive",value:function(e){return this.areResponsesCaseSensitive?e:e.toLowerCase()}},{key:"rootKeyupListener",value:function(e){this.heldKeys.delete(this.toLowerCaseIfInsensitive(e.key))}},{key:"isResponseValid",value:function(e,t,n){return!(!t&&this.heldKeys.has(n))&&("ALL_KEYS"===e||"NO_KEYS"!==e&&e.includes(n))}},{key:"getKeyboardResponse",value:function(e){var t=this,n=e.callback_function,r=e.valid_responses,i=void 0===r?"ALL_KEYS":r,s=e.rt_method,o=void 0===s?"performance":s,a=e.persist,u=e.audio_context,c=e.audio_context_start_time,l=e.allow_held_key,h=void 0!==l&&l,d=e.minimum_valid_rt,f=void 0===d?this.minimumValidRt:d;"performance"!==o&&"audio"!==o&&(console.log('Invalid RT method specified in getKeyboardResponse. Defaulting to "performance" method.'),o="performance");var p="performance"===o?performance.now():1e3*c;this.registerRootListeners(),this.areResponsesCaseSensitive||"string"==typeof i||(i=i.map((function(e){return e.toLowerCase()})));var g=function e(r){var s=Math.round(("performance"==o?performance.now():1e3*u.currentTime)-p);if(!(s<f)){var c=t.toLowerCaseIfInsensitive(r.key);t.isResponseValid(i,h,c)&&(r.preventDefault(),a||t.cancelKeyboardResponse(e),n({key:c,rt:s}))}};return this.listeners.add(g),g}},{key:"cancelKeyboardResponse",value:function(e){this.listeners.delete(e)}},{key:"cancelAllKeyboardResponses",value:function(){this.listeners.clear()}},{key:"compareKeys",value:function(e,t){if(!("string"!=typeof e&&null!==e||"string"!=typeof t&&null!==t))return"string"==typeof e&&"string"==typeof t?this.areResponsesCaseSensitive?e===t:e.toLowerCase()===t.toLowerCase():null===e&&null===t;console.error("Error in jsPsych.pluginAPI.compareKeys: arguments must be key strings or null.")}}]),e}();!function(e){e[e.BOOL=0]="BOOL",e[e.STRING=1]="STRING",e[e.INT=2]="INT",e[e.FLOAT=3]="FLOAT",e[e.FUNCTION=4]="FUNCTION",e[e.KEY=5]="KEY",e[e.KEYS=6]="KEYS",e[e.SELECT=7]="SELECT",e[e.HTML_STRING=8]="HTML_STRING",e[e.IMAGE=9]="IMAGE",e[e.AUDIO=10]="AUDIO",e[e.VIDEO=11]="VIDEO",e[e.OBJECT=12]="OBJECT",e[e.COMPLEX=13]="COMPLEX",e[e.TIMELINE=14]="TIMELINE"}(I||(I={}));var j={data:{type:I.OBJECT,pretty_name:"Data",default:{}},on_start:{type:I.FUNCTION,pretty_name:"On start",default:function(){}},on_finish:{type:I.FUNCTION,pretty_name:"On finish",default:function(){}},on_load:{type:I.FUNCTION,pretty_name:"On load",default:function(){}},post_trial_gap:{type:I.INT,pretty_name:"Post trial gap",default:null},css_classes:{type:I.STRING,pretty_name:"Custom CSS classes",default:null},simulation_options:{type:I.COMPLEX,default:null}},C=[I.AUDIO,I.IMAGE,I.VIDEO],R=function(){function e(t,n){a(this,e),this.useWebaudio=t,this.webaudioContext=n,this.video_buffers={},this.context=null,this.audio_buffers=[],this.preload_requests=[],this.img_cache={},this.preloadMap=new Map,this.microphone_recorder=null,this.camera_stream=null,this.camera_recorder=null}return s(e,[{key:"getVideoBuffer",value:function(e){return e.startsWith("blob:")&&(this.video_buffers[e]=e),this.video_buffers[e]}},{key:"initAudio",value:function(){this.context=this.useWebaudio?this.webaudioContext:null}},{key:"audioContext",value:function(){return null!==this.context&&"running"!==this.context.state&&this.context.resume(),this.context}},{key:"getAudioBuffer",value:function(e){var t=this;return new Promise((function(n,r){void 0===t.audio_buffers[e]||"tmp"==t.audio_buffers[e]?t.preloadAudio([e],(function(){n(t.audio_buffers[e])}),(function(){}),(function(e){r(e.error)})):n(t.audio_buffers[e])}))}},{key:"preloadAudio",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){};e=b(e.flat());var s=0;if(0!=e.length){var o,a=function(o){var a=new XMLHttpRequest;a.open("GET",o,!0),a.responseType="arraybuffer",a.onload=function(){t.context.decodeAudioData(a.response,(function(i){t.audio_buffers[o]=i,s++,r(o),s==e.length&&n()}),(function(e){i({source:o,error:e})}))},a.onerror=function(e){var t=e;404==a.status&&(t="404"),i({source:o,error:t})},a.onloadend=function(e){404==a.status&&i({source:o,error:"404"})},a.send(),t.preload_requests.push(a)},u=function(o){var a=new Audio;a.addEventListener("canplaythrough",(function i(){t.audio_buffers[o]=a,s++,r(o),s==e.length&&n(),a.removeEventListener("canplaythrough",i)})),a.addEventListener("error",(function e(t){i({source:a.src,error:t}),a.removeEventListener("error",e)})),a.addEventListener("abort",(function e(t){i({source:a.src,error:t}),a.removeEventListener("abort",e)})),a.src=o,t.preload_requests.push(a)},c=p(e);try{for(c.s();!(o=c.n()).done;){var l=o.value;void 0!==this.audio_buffers[l]?(s++,r(l),s==e.length&&n()):(this.audio_buffers[l]="tmp",null!==this.audioContext()?a(l):u(l))}}catch(e){c.e(e)}finally{c.f()}}else n()}},{key:"preloadImages",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){};e=b(e.flat());var s=0;if(0!==e.length)for(var o=function(o){var a=new Image,u=e[o];a.onload=function(){s++,r(u),s===e.length&&n()},a.onerror=function(e){i({source:u,error:e})},a.src=u,t.img_cache[u]=a,t.preload_requests.push(a)},a=0;a<e.length;a++)o(a);else n()}},{key:"preloadVideo",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){};e=b(e.flat());var s=0;if(0!==e.length){var o,a=p(e);try{var u=function(){var a=o.value,u=t.video_buffers,c=new XMLHttpRequest;c.open("GET",a,!0),c.responseType="blob",c.onload=function(){if(200===c.status||0===c.status){var t=c.response;u[a]=URL.createObjectURL(t),s++,r(a),s===e.length&&n()}},c.onerror=function(e){var t=e;404==c.status&&(t="404"),i({source:a,error:t})},c.onloadend=function(e){404==c.status&&i({source:a,error:"404"})},c.send(),t.preload_requests.push(c)};for(a.s();!(o=a.n()).done;)u()}catch(e){a.e(e)}finally{a.f()}}else n()}},{key:"getAutoPreloadList",value:function(e){var t=this,n=Object.fromEntries(C.map((function(e){return[e,new Set]})));return function e(r,i){var s,o,a,u;if(void 0!==r.timeline){var c,l=p(r.timeline);try{for(l.s();!(c=l.n()).done;)e(c.value,null!==(s=r.type)&&void 0!==s?s:i)}catch(e){l.e(e)}finally{l.f()}}else if(null===(a=null!==(o=r.type)&&void 0!==o?o:i)||void 0===a?void 0:a.info){var h=(null!==(u=r.type)&&void 0!==u?u:i).info,d=h.name,g=h.parameters;t.preloadMap.has(d)||t.preloadMap.set(d,Object.fromEntries(Object.entries(g).filter((function(e){var t=f(e,2),n=(t[0],t[1]),r=n.type,i=n.preload;return C.includes(r)&&(null==i||i)})).map((function(e){var t=f(e,2);return[t[0],t[1].type]}))));for(var m=0,v=Object.entries(t.preloadMap.get(d));m<v.length;m++){var y=f(v[m],2),_=y[0],b=y[1],w=r[_],I=n[b];if("string"==typeof w)I.add(w);else if(Array.isArray(w)){var E,T=p(w.flat());try{for(T.s();!(E=T.n()).done;){var k=E.value;"string"==typeof k&&I.add(k)}}catch(e){T.e(e)}finally{T.f()}}}}}({timeline:e}),{images:r(n[I.IMAGE]),audio:r(n[I.AUDIO]),video:r(n[I.VIDEO])}}},{key:"cancelPreloads",value:function(){var e,t=p(this.preload_requests);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.onload=function(){},n.onerror=function(){},n.oncanplaythrough=function(){},n.onabort=function(){}}}catch(e){t.e(e)}finally{t.f()}this.preload_requests=[]}},{key:"initializeMicrophoneRecorder",value:function(e){var t=new MediaRecorder(e);this.microphone_recorder=t}},{key:"getMicrophoneRecorder",value:function(){return this.microphone_recorder}},{key:"initializeCameraRecorder",value:function(e,t){this.camera_stream=e;var n=new MediaRecorder(e,t);this.camera_recorder=n}},{key:"getCameraStream",value:function(){return this.camera_stream}},{key:"getCameraRecorder",value:function(){return this.camera_recorder}}]),e}(),O=function(){function e(){a(this,e)}return s(e,[{key:"dispatchEvent",value:function(e){document.body.dispatchEvent(e)}},{key:"keyDown",value:function(e){this.dispatchEvent(new KeyboardEvent("keydown",{key:e}))}},{key:"keyUp",value:function(e){this.dispatchEvent(new KeyboardEvent("keyup",{key:e}))}},{key:"pressKey",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n>0?setTimeout((function(){t.keyDown(e),t.keyUp(e)}),n):(this.keyDown(e),this.keyUp(e))}},{key:"clickTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t>0?setTimeout((function(){e.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),e.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0})),e.dispatchEvent(new MouseEvent("click",{bubbles:!0}))}),t):(e.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),e.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0})),e.dispatchEvent(new MouseEvent("click",{bubbles:!0})))}},{key:"fillTextInput",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n>0?setTimeout((function(){e.value=t}),n):e.value=t}},{key:"getValidKey",value:function(e){var t,n=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"," "];if("NO_KEYS"==e)t=null;else if("ALL_KEYS"==e)t=n[Math.floor(Math.random()*n.length)];else{var r=e.flat();t=r[Math.floor(Math.random()*r.length)]}return t}},{key:"mergeSimulationData",value:function(e,t){return Object.assign(Object.assign({},e),null==t?void 0:t.data)}},{key:"ensureSimulationDataConsistency",value:function(e,t){if(t.rt&&(t.rt=Math.round(t.rt)),e.trial_duration&&t.rt&&t.rt>e.trial_duration&&(t.rt=null,t.response&&(t.response=null),t.correct&&(t.correct=!1)),e.choices&&"NO_KEYS"==e.choices&&(t.rt&&(t.rt=null),t.response&&(t.response=null)),e.allow_response_before_complete&&e.sequence_reps&&e.frame_time){var n=e.sequence_reps*e.frame_time*e.stimuli.length;t.rt<n&&(t.rt=null,t.response=null)}}}]),e}(),A=function(){function e(){a(this,e),this.timeout_handlers=[]}return s(e,[{key:"setTimeout",value:function(e,t){var n=window.setTimeout(e,t);return this.timeout_handlers.push(n),n}},{key:"clearAllTimeouts",value:function(){var e,t=p(this.timeout_handlers);try{for(t.s();!(e=t.n()).done;){var n=e.value;clearTimeout(n)}}catch(e){t.e(e)}finally{t.f()}this.timeout_handlers=[]}}]),e}(),N=["ability","able","aboard","about","above","accept","accident","according","account","accurate","acres","across","act","action","active","activity","actual","actually","add","addition","additional","adjective","adult","adventure","advice","affect","afraid","after","afternoon","again","against","age","ago","agree","ahead","aid","air","airplane","alike","alive","all","allow","almost","alone","along","aloud","alphabet","already","also","although","am","among","amount","ancient","angle","angry","animal","announced","another","answer","ants","any","anybody","anyone","anything","anyway","anywhere","apart","apartment","appearance","apple","applied","appropriate","are","area","arm","army","around","arrange","arrangement","arrive","arrow","art","article","as","aside","ask","asleep","at","ate","atmosphere","atom","atomic","attached","attack","attempt","attention","audience","author","automobile","available","average","avoid","aware","away","baby","back","bad","badly","bag","balance","ball","balloon","band","bank","bar","bare","bark","barn","base","baseball","basic","basis","basket","bat","battle","be","bean","bear","beat","beautiful","beauty","became","because","become","becoming","bee","been","before","began","beginning","begun","behavior","behind","being","believed","bell","belong","below","belt","bend","beneath","bent","beside","best","bet","better","between","beyond","bicycle","bigger","biggest","bill","birds","birth","birthday","bit","bite","black","blank","blanket","blew","blind","block","blood","blow","blue","board","boat","body","bone","book","border","born","both","bottle","bottom","bound","bow","bowl","box","boy","brain","branch","brass","brave","bread","break","breakfast","breath","breathe","breathing","breeze","brick","bridge","brief","bright","bring","broad","broke","broken","brother","brought","brown","brush","buffalo","build","building","built","buried","burn","burst","bus","bush","business","busy","but","butter","buy","by","cabin","cage","cake","call","calm","came","camera","camp","can","canal","cannot","cap","capital","captain","captured","car","carbon","card","care","careful","carefully","carried","carry","case","cast","castle","cat","catch","cattle","caught","cause","cave","cell","cent","center","central","century","certain","certainly","chain","chair","chamber","chance","change","changing","chapter","character","characteristic","charge","chart","check","cheese","chemical","chest","chicken","chief","child","children","choice","choose","chose","chosen","church","circle","circus","citizen","city","class","classroom","claws","clay","clean","clear","clearly","climate","climb","clock","close","closely","closer","cloth","clothes","clothing","cloud","club","coach","coal","coast","coat","coffee","cold","collect","college","colony","color","column","combination","combine","come","comfortable","coming","command","common","community","company","compare","compass","complete","completely","complex","composed","composition","compound","concerned","condition","congress","connected","consider","consist","consonant","constantly","construction","contain","continent","continued","contrast","control","conversation","cook","cookies","cool","copper","copy","corn","corner","correct","correctly","cost","cotton","could","count","country","couple","courage","course","court","cover","cow","cowboy","crack","cream","create","creature","crew","crop","cross","crowd","cry","cup","curious","current","curve","customs","cut","cutting","daily","damage","dance","danger","dangerous","dark","darkness","date","daughter","dawn","day","dead","deal","dear","death","decide","declared","deep","deeply","deer","definition","degree","depend","depth","describe","desert","design","desk","detail","determine","develop","development","diagram","diameter","did","die","differ","difference","different","difficult","difficulty","dig","dinner","direct","direction","directly","dirt","dirty","disappear","discover","discovery","discuss","discussion","disease","dish","distance","distant","divide","division","do","doctor","does","dog","doing","doll","dollar","done","donkey","door","dot","double","doubt","down","dozen","draw","drawn","dream","dress","drew","dried","drink","drive","driven","driver","driving","drop","dropped","drove","dry","duck","due","dug","dull","during","dust","duty","each","eager","ear","earlier","early","earn","earth","easier","easily","east","easy","eat","eaten","edge","education","effect","effort","egg","eight","either","electric","electricity","element","elephant","eleven","else","empty","end","enemy","energy","engine","engineer","enjoy","enough","enter","entire","entirely","environment","equal","equally","equator","equipment","escape","especially","essential","establish","even","evening","event","eventually","ever","every","everybody","everyone","everything","everywhere","evidence","exact","exactly","examine","example","excellent","except","exchange","excited","excitement","exciting","exclaimed","exercise","exist","expect","experience","experiment","explain","explanation","explore","express","expression","extra","eye","face","facing","fact","factor","factory","failed","fair","fairly","fall","fallen","familiar","family","famous","far","farm","farmer","farther","fast","fastened","faster","fat","father","favorite","fear","feathers","feature","fed","feed","feel","feet","fell","fellow","felt","fence","few","fewer","field","fierce","fifteen","fifth","fifty","fight","fighting","figure","fill","film","final","finally","find","fine","finest","finger","finish","fire","fireplace","firm","first","fish","five","fix","flag","flame","flat","flew","flies","flight","floating","floor","flow","flower","fly","fog","folks","follow","food","foot","football","for","force","foreign","forest","forget","forgot","forgotten","form","former","fort","forth","forty","forward","fought","found","four","fourth","fox","frame","free","freedom","frequently","fresh","friend","friendly","frighten","frog","from","front","frozen","fruit","fuel","full","fully","fun","function","funny","fur","furniture","further","future","gain","game","garage","garden","gas","gasoline","gate","gather","gave","general","generally","gentle","gently","get","getting","giant","gift","girl","give","given","giving","glad","glass","globe","go","goes","gold","golden","gone","good","goose","got","government","grabbed","grade","gradually","grain","grandfather","grandmother","graph","grass","gravity","gray","great","greater","greatest","greatly","green","grew","ground","group","grow","grown","growth","guard","guess","guide","gulf","gun","habit","had","hair","half","halfway","hall","hand","handle","handsome","hang","happen","happened","happily","happy","harbor","hard","harder","hardly","has","hat","have","having","hay","he","headed","heading","health","heard","hearing","heart","heat","heavy","height","held","hello","help","helpful","her","herd","here","herself","hidden","hide","high","higher","highest","highway","hill","him","himself","his","history","hit","hold","hole","hollow","home","honor","hope","horn","horse","hospital","hot","hour","house","how","however","huge","human","hundred","hung","hungry","hunt","hunter","hurried","hurry","hurt","husband","ice","idea","identity","if","ill","image","imagine","immediately","importance","important","impossible","improve","in","inch","include","including","income","increase","indeed","independent","indicate","individual","industrial","industry","influence","information","inside","instance","instant","instead","instrument","interest","interior","into","introduced","invented","involved","iron","is","island","it","its","itself","jack","jar","jet","job","join","joined","journey","joy","judge","jump","jungle","just","keep","kept","key","kids","kill","kind","kitchen","knew","knife","know","knowledge","known","label","labor","lack","lady","laid","lake","lamp","land","language","large","larger","largest","last","late","later","laugh","law","lay","layers","lead","leader","leaf","learn","least","leather","leave","leaving","led","left","leg","length","lesson","let","letter","level","library","lie","life","lift","light","like","likely","limited","line","lion","lips","liquid","list","listen","little","live","living","load","local","locate","location","log","lonely","long","longer","look","loose","lose","loss","lost","lot","loud","love","lovely","low","lower","luck","lucky","lunch","lungs","lying","machine","machinery","mad","made","magic","magnet","mail","main","mainly","major","make","making","man","managed","manner","manufacturing","many","map","mark","market","married","mass","massage","master","material","mathematics","matter","may","maybe","me","meal","mean","means","meant","measure","meat","medicine","meet","melted","member","memory","men","mental","merely","met","metal","method","mice","middle","might","mighty","mile","military","milk","mill","mind","mine","minerals","minute","mirror","missing","mission","mistake","mix","mixture","model","modern","molecular","moment","money","monkey","month","mood","moon","more","morning","most","mostly","mother","motion","motor","mountain","mouse","mouth","move","movement","movie","moving","mud","muscle","music","musical","must","my","myself","mysterious","nails","name","nation","national","native","natural","naturally","nature","near","nearby","nearer","nearest","nearly","necessary","neck","needed","needle","needs","negative","neighbor","neighborhood","nervous","nest","never","new","news","newspaper","next","nice","night","nine","no","nobody","nodded","noise","none","noon","nor","north","nose","not","note","noted","nothing","notice","noun","now","number","numeral","nuts","object","observe","obtain","occasionally","occur","ocean","of","off","offer","office","officer","official","oil","old","older","oldest","on","once","one","only","onto","open","operation","opinion","opportunity","opposite","or","orange","orbit","order","ordinary","organization","organized","origin","original","other","ought","our","ourselves","out","outer","outline","outside","over","own","owner","oxygen","pack","package","page","paid","pain","paint","pair","palace","pale","pan","paper","paragraph","parallel","parent","park","part","particles","particular","particularly","partly","parts","party","pass","passage","past","path","pattern","pay","peace","pen","pencil","people","per","percent","perfect","perfectly","perhaps","period","person","personal","pet","phrase","physical","piano","pick","picture","pictured","pie","piece","pig","pile","pilot","pine","pink","pipe","pitch","place","plain","plan","plane","planet","planned","planning","plant","plastic","plate","plates","play","pleasant","please","pleasure","plenty","plural","plus","pocket","poem","poet","poetry","point","pole","police","policeman","political","pond","pony","pool","poor","popular","population","porch","port","position","positive","possible","possibly","post","pot","potatoes","pound","pour","powder","power","powerful","practical","practice","prepare","present","president","press","pressure","pretty","prevent","previous","price","pride","primitive","principal","principle","printed","private","prize","probably","problem","process","produce","product","production","program","progress","promised","proper","properly","property","protection","proud","prove","provide","public","pull","pupil","pure","purple","purpose","push","put","putting","quarter","queen","question","quick","quickly","quiet","quietly","quite","rabbit","race","radio","railroad","rain","raise","ran","ranch","range","rapidly","rate","rather","raw","rays","reach","read","reader","ready","real","realize","rear","reason","recall","receive","recent","recently","recognize","record","red","refer","refused","region","regular","related","relationship","religious","remain","remarkable","remember","remove","repeat","replace","replied","report","represent","require","research","respect","rest","result","return","review","rhyme","rhythm","rice","rich","ride","riding","right","ring","rise","rising","river","road","roar","rock","rocket","rocky","rod","roll","roof","room","root","rope","rose","rough","round","route","row","rubbed","rubber","rule","ruler","run","running","rush","sad","saddle","safe","safety","said","sail","sale","salmon","salt","same","sand","sang","sat","satellites","satisfied","save","saved","saw","say","scale","scared","scene","school","science","scientific","scientist","score","screen","sea","search","season","seat","second","secret","section","see","seed","seeing","seems","seen","seldom","select","selection","sell","send","sense","sent","sentence","separate","series","serious","serve","service","sets","setting","settle","settlers","seven","several","shade","shadow","shake","shaking","shall","shallow","shape","share","sharp","she","sheep","sheet","shelf","shells","shelter","shine","shinning","ship","shirt","shoe","shoot","shop","shore","short","shorter","shot","should","shoulder","shout","show","shown","shut","sick","sides","sight","sign","signal","silence","silent","silk","silly","silver","similar","simple","simplest","simply","since","sing","single","sink","sister","sit","sitting","situation","six","size","skill","skin","sky","slabs","slave","sleep","slept","slide","slight","slightly","slip","slipped","slope","slow","slowly","small","smaller","smallest","smell","smile","smoke","smooth","snake","snow","so","soap","social","society","soft","softly","soil","solar","sold","soldier","solid","solution","solve","some","somebody","somehow","someone","something","sometime","somewhere","son","song","soon","sort","sound","source","south","southern","space","speak","special","species","specific","speech","speed","spell","spend","spent","spider","spin","spirit","spite","split","spoken","sport","spread","spring","square","stage","stairs","stand","standard","star","stared","start","state","statement","station","stay","steady","steam","steel","steep","stems","step","stepped","stick","stiff","still","stock","stomach","stone","stood","stop","stopped","store","storm","story","stove","straight","strange","stranger","straw","stream","street","strength","stretch","strike","string","strip","strong","stronger","struck","structure","struggle","stuck","student","studied","studying","subject","substance","success","successful","such","sudden","suddenly","sugar","suggest","suit","sum","summer","sun","sunlight","supper","supply","support","suppose","sure","surface","surprise","surrounded","swam","sweet","swept","swim","swimming","swing","swung","syllable","symbol","system","table","tail","take","taken","tales","talk","tall","tank","tape","task","taste","taught","tax","tea","teach","teacher","team","tears","teeth","telephone","television","tell","temperature","ten","tent","term","terrible","test","than","thank","that","thee","them","themselves","then","theory","there","therefore","these","they","thick","thin","thing","think","third","thirty","this","those","thou","though","thought","thousand","thread","three","threw","throat","through","throughout","throw","thrown","thumb","thus","thy","tide","tie","tight","tightly","till","time","tin","tiny","tip","tired","title","to","tobacco","today","together","told","tomorrow","tone","tongue","tonight","too","took","tool","top","topic","torn","total","touch","toward","tower","town","toy","trace","track","trade","traffic","trail","train","transportation","trap","travel","treated","tree","triangle","tribe","trick","tried","trip","troops","tropical","trouble","truck","trunk","truth","try","tube","tune","turn","twelve","twenty","twice","two","type","typical","uncle","under","underline","understanding","unhappy","union","unit","universe","unknown","unless","until","unusual","up","upon","upper","upward","us","use","useful","using","usual","usually","valley","valuable","value","vapor","variety","various","vast","vegetable","verb","vertical","very","vessels","victory","view","village","visit","visitor","voice","volume","vote","vowel","voyage","wagon","wait","walk","wall","want","war","warm","warn","was","wash","waste","watch","water","wave","way","we","weak","wealth","wear","weather","week","weigh","weight","welcome","well","went","were","west","western","wet","whale","what","whatever","wheat","wheel","when","whenever","where","wherever","whether","which","while","whispered","whistle","white","who","whole","whom","whose","why","wide","widely","wife","wild","will","willing","win","wind","window","wing","winter","wire","wise","wish","with","within","without","wolf","women","won","wonder","wonderful","wood","wooden","wool","word","wore","work","worker","world","worried","worry","worse","worth","would","wrapped","write","writer","writing","written","wrong","wrote","yard","year","yellow","yes","yesterday","yet","you","young","younger","your","yourself","youth","zero","zebra","zipper","zoo","zulu"];function L(e){function t(){return e&&e.maxLength>1?function(){for(var t,r=!1;!r;)(t=n()).length<=e.maxLength&&(r=!0);return t}():n()}function n(){return N[r(N.length)]}function r(e){return Math.floor(Math.random()*e)}if(void 0===e)return t();"number"==typeof e&&(e={exactly:e}),e.exactly&&(e.min=e.exactly,e.max=e.exactly),"number"!=typeof e.wordsPerString&&(e.wordsPerString=1),"function"!=typeof e.formatter&&(e.formatter=function(e){return e}),"string"!=typeof e.separator&&(e.separator=" ");for(var i=e.min+r(e.max+1-e.min),s=[],o="",a=0,u=0;u<i*e.wordsPerString;u++)a===e.wordsPerString-1?o+=e.formatter(t(),a):o+=e.formatter(t(),a)+e.separator,a++,(u+1)%e.wordsPerString==0&&(s.push(o),o="",a=0);return"string"==typeof e.join&&(s=s.join(e.join)),s}var M=L;L.wordList=N;var D={exports:{}};!function(e,n,r){function i(e){var t,n=this,r=(t=4022871197,function(e){e=String(e);for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function o(e,n){var r=new i(e),o=n&&n.state,a=r.next;return a.int32=function(){return 4294967296*r.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,o&&("object"==t(o)&&s(o,r),a.state=function(){return s(r,{})}),a}n&&n.exports?n.exports=o:this.alea=o}(0,D);var F=D.exports;function U(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Array.isArray(e),s=Array.isArray(n);if(i)if(s){if(e.length!=n.length)if(console.warn("Unclear parameters given to randomization.repeat. Items and repetitions are unequal lengths. Behavior may not be as expected."),n.length<e.length){for(var o=[],a=0;a<e.length;a++)o.push(n);n=o}else n=n.slice(0,e.length)}else{for(var u=[],c=0;c<e.length;c++)u.push(n);n=u}else s?(n=[n[0]],console.log("Unclear parameters given to randomization.repeat. Multiple set sizes specified, but only one item exists to sample. Proceeding using the first set size.")):(e=[e],n=[n]);for(var l=[],h=0;h<e.length;h++)for(var d=0;d<n[h];d++)null==e[h]||"object"!=t(e[h])?l.push(e[h]):l.push(Object.assign({},e[h]));var f=G(l);return r&&(f=function(e){var t,n={},r=p(e);try{for(r.s();!(t=r.n()).done;)for(var i=t.value,s=0,o=Object.keys(i);s<o.length;s++){var a=o[s];void 0===n[a]&&(n[a]=[]),n[a].push(i[a])}}catch(e){r.e(e)}finally{r.f()}return n}(f)),f}function G(e){Array.isArray(e)||console.error("Argument to shuffle() must be an array.");for(var t,n,r=e.slice(0),i=r.length;i;)n=Math.floor(Math.random()*i--),t=r[i],r[i]=r[n],r[n]=t;return r}function q(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.length;if(1==n)return console.warn("shuffleAlternateGroups() was called with only one group. Defaulting to simple shuffle."),G(e[0]);for(var r=[],i=0;i<n;i++)r.push(i);t&&(r=G(r));for(var s=[],o=null,a=0;a<n;a++)o=null===o?e[a].length:Math.min(o,e[a].length),s.push(G(e[a]));for(var u=[],c=0;c<o;c++)for(var l=0;l<r.length;l++)u.push(s[r[l]][c]);return u}function z(e,t){return Array.isArray(e)||console.error("First argument to sampleWithoutReplacement() must be an array"),t>e.length&&console.error("Cannot take a sample larger than the size of the set of items to sample."),G(e).slice(0,t)}function B(e,t,n){Array.isArray(e)||console.error("First argument to sampleWithReplacement() must be an array");var r=[];if(void 0!==n){n.length!==e.length&&console.error("The length of the weights array must equal the length of the array to be sampled from.");var i,s=0,o=p(n);try{for(o.s();!(i=o.n()).done;)s+=i.value}catch(e){o.e(e)}finally{o.f()}var a,u=p(n);try{for(u.s();!(a=u.n()).done;){var c=a.value;r.push(c/s)}}catch(e){u.e(e)}finally{u.f()}}else for(var l=0;l<e.length;l++)r.push(1/e.length);for(var h=[r[0]],d=1;d<r.length;d++)h.push(r[d]+h[d-1]);for(var f=[],g=0;g<t;g++){for(var m=Math.random(),v=0;m>h[v];)v++;f.push(e[v])}return f}function W(e,t){return function(){for(var e=0,t=0;0===e;)e=Math.random();for(;0===t;)t=Math.random();return Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*t)}()*t+e}function V(e){return-Math.log(Math.random())/e}var H=Object.freeze({__proto__:null,setSeed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.random().toString();return Math.random=F(e),e},repeat:U,shuffle:G,shuffleNoRepeats:function(e,t){Array.isArray(e)||console.error("First argument to shuffleNoRepeats() must be an array."),void 0!==t&&"function"!=typeof t&&console.error("Second argument to shuffleNoRepeats() must be a function."),void 0===t&&(t=function(e,t){return e===t});for(var n=G(e),r=0;r<n.length-1;r++)if(t(n[r],n[r+1])){for(var i=Math.floor(Math.random()*(n.length-2))+1;t(n[r+1],n[i])||t(n[r+1],n[i+1])||t(n[r+1],n[i-1])||t(n[r],n[i]);)i=Math.floor(Math.random()*(n.length-2))+1;var s=n[i];n[i]=n[r+1],n[r+1]=s}return n},shuffleAlternateGroups:q,sampleWithoutReplacement:z,sampleWithReplacement:B,factorial:function(e){for(var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=[{}],u=0,c=Object.entries(e);u<c.length;u++){var l,h=f(c[u],2),d=h[0],g=[],m=p(h[1]);try{for(m.s();!(l=m.n()).done;){var v,y=l.value,_=p(a);try{for(_.s();!(v=_.n()).done;){var b=v.value;g.push(Object.assign(Object.assign({},b),(t={},r=y,(n=o(n=d))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t)))}}catch(e){_.e(e)}finally{_.f()}}}catch(e){m.e(e)}finally{m.f()}a=g}return U(a,i,s)},randomID:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t="",n=0;n<e;n++)t+="0123456789abcdefghjklmnopqrstuvwxyz"[Math.floor(35*Math.random())];return t},randomInt:function(e,t){if(t<e)throw new Error("Upper boundary must be less than or equal to lower boundary");return e+Math.floor(Math.random()*(t-e+1))},sampleBernoulli:function(e){return Math.random()<=e?1:0},sampleNormal:W,sampleExponential:V,sampleExGaussian:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=W(e,t)+V(n);if(r)for(;i<=0;)i=W(e,t)+V(n);return i},randomWords:function(e){return M(e)}});function K(){var e={previewMode:!1,outsideTurk:!1,hitId:"INVALID_URL_PARAMETER",assignmentId:"INVALID_URL_PARAMETER",workerId:"INVALID_URL_PARAMETER",turkSubmitTo:"INVALID_URL_PARAMETER"},t=function(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null==n?"":n[1]},n=t(window.location.href,"assignmentId")?window.location.href:document.referrer;return["assignmentId","hitId","workerId","turkSubmitTo"].map((function(r){e[r]=unescape(t(n,r))})),e.previewMode="ASSIGNMENT_ID_NOT_AVAILABLE"==e.assignmentId,e.outsideTurk=!e.previewMode&&""===e.hitId&&""==e.assignmentId&&""==e.workerId,e}var $=Object.freeze({__proto__:null,turkInfo:K,submitToTurk:function(e){var t=K(),n=t.assignmentId,r=t.turkSubmitTo;if(n&&r){var i=document.createElement("form");for(var s in i.method="POST",i.action=r+"/mturk/externalSubmit?assignmentId="+n,e)if(e.hasOwnProperty(s)){var o=document.createElement("input");o.type="hidden",o.name=s,o.id=s,o.value=e[s],i.appendChild(o)}document.body.appendChild(i),i.submit()}}}),Y=function(){function e(n,r,i,s){if(a(this,e),this.jsPsych=n,this.progress={current_location:-1,current_variable_set:0,current_repetition:0,current_iteration:0,done:!1},this.parent_node=i,this.relative_id=void 0===i?0:s,void 0!==r.timeline){this.timeline_parameters={timeline:[],loop_function:r.loop_function,conditional_function:r.conditional_function,sample:r.sample,randomize_order:void 0!==r.randomize_order&&r.randomize_order,repetitions:void 0===r.repetitions?1:r.repetitions,timeline_variables:void 0===r.timeline_variables?[{}]:r.timeline_variables,on_timeline_finish:r.on_timeline_finish,on_timeline_start:r.on_timeline_start},this.setTimelineVariablesOrder();var o=Object.assign({},r);delete o.timeline,delete o.conditional_function,delete o.loop_function,delete o.randomize_order,delete o.repetitions,delete o.timeline_variables,delete o.sample,delete o.on_timeline_start,delete o.on_timeline_finish,this.node_trial_data=o;for(var u=0;u<r.timeline.length;u++){var c=Object.assign({},o,r.timeline[u]);if("object"==t(o.data)&&"object"==t(r.timeline[u].data)){var l=Object.assign({},o.data,r.timeline[u].data);c.data=l}this.timeline_parameters.timeline.push(new e(this.jsPsych,c,this,u))}}else void 0===r.type&&console.error('Trial level node is missing the "type" parameter. The parameters for the node are: '+JSON.stringify(r)),this.trial_parameters=Object.assign({},r)}return s(e,[{key:"trial",value:function(){return void 0===this.timeline_parameters?w(this.trial_parameters):this.progress.current_location>=this.timeline_parameters.timeline.length?null:this.timeline_parameters.timeline[this.progress.current_location].trial()}},{key:"markCurrentTrialComplete",value:function(){void 0===this.timeline_parameters?this.progress.done=!0:this.timeline_parameters.timeline[this.progress.current_location].markCurrentTrialComplete()}},{key:"nextRepetiton",value:function(){this.setTimelineVariablesOrder(),this.progress.current_location=-1,this.progress.current_variable_set=0,this.progress.current_repetition++;for(var e=0;e<this.timeline_parameters.timeline.length;e++)this.timeline_parameters.timeline[e].reset()}},{key:"setTimelineVariablesOrder",value:function(){var e=this.timeline_parameters;if(void 0!==e&&void 0!==e.timeline_variables){for(var t=[],n=0;n<e.timeline_variables.length;n++)t.push(n);void 0!==e.sample&&("custom"==e.sample.type?t=e.sample.fn(t):"with-replacement"==e.sample.type?t=B(t,e.sample.size,e.sample.weights):"without-replacement"==e.sample.type?t=z(t,e.sample.size):"fixed-repetitions"==e.sample.type?t=U(t,e.sample.size,!1):"alternate-groups"==e.sample.type?t=q(e.sample.groups,e.sample.randomize_group_order):console.error('Invalid type in timeline sample parameters. Valid options for type are "custom", "with-replacement", "without-replacement", "fixed-repetitions", and "alternate-groups"')),e.randomize_order&&(t=G(t)),this.progress.order=t}}},{key:"nextSet",value:function(){this.progress.current_location=-1,this.progress.current_variable_set++;for(var e=0;e<this.timeline_parameters.timeline.length;e++)this.timeline_parameters.timeline[e].reset()}},{key:"advance",value:function(){var e=this.progress,t=this.timeline_parameters,n=this.jsPsych.internal;if(e.done)return!0;if(-1==e.current_location){if(void 0!==t){if(void 0!==t.conditional_function&&0==e.current_repetition&&0==e.current_variable_set){n.call_immediate=!0;var r=t.conditional_function();if(n.call_immediate=!1,0==r)return e.done=!0,!0}void 0!==t.on_timeline_start&&0==e.current_variable_set&&t.on_timeline_start()}return e.current_location=0,this.advance()}if(void 0!==t){for(var i=!1;e.current_location<t.timeline.length&&0==i;){if(!t.timeline[e.current_location].advance())return i=!0,!1;e.current_location++}return e.current_variable_set<e.order.length-1?(this.nextSet(),this.advance()):e.current_repetition<t.repetitions-1?(this.nextRepetiton(),void 0!==t.on_timeline_finish&&t.on_timeline_finish(),this.advance()):(void 0!==t.on_timeline_finish&&t.on_timeline_finish(),void 0!==t.loop_function?(n.call_immediate=!0,t.loop_function(this.generatedData())?(this.reset(),n.call_immediate=!1,this.parent_node.advance()):(e.done=!0,n.call_immediate=!1,!0)):(e.done=!0,!0))}}},{key:"isComplete",value:function(){return this.progress.done}},{key:"getTimelineVariableValue",value:function(e){if(void 0!==this.timeline_parameters)return this.timeline_parameters.timeline_variables[this.progress.order[this.progress.current_variable_set]][e]}},{key:"findTimelineVariable",value:function(e){var t=this.getTimelineVariableValue(e);return void 0===t?void 0!==this.parent_node?this.parent_node.findTimelineVariable(e):void 0:t}},{key:"timelineVariable",value:function(e){if(void 0===this.timeline_parameters){var t=this.findTimelineVariable(e);return void 0===t&&console.warn("Timeline variable "+e+" not found."),t}var n=Math.max(0,this.progress.current_location);n==this.timeline_parameters.timeline.length&&(n-=1);var r=this.timeline_parameters.timeline[n].timelineVariable(e);return void 0===r&&console.warn("Timeline variable "+e+" not found."),r}},{key:"allTimelineVariables",value:function(){for(var e=this.allTimelineVariablesNames(),t={},n=0;n<e.length;n++)t[e[n]]=this.timelineVariable(e[n]);return t}},{key:"allTimelineVariablesNames",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(void 0!==this.timeline_parameters){e=e.concat(Object.keys(this.timeline_parameters.timeline_variables[this.progress.order[this.progress.current_variable_set]]));var t=Math.max(0,this.progress.current_location);return t==this.timeline_parameters.timeline.length&&(t-=1),this.timeline_parameters.timeline[t].allTimelineVariablesNames(e)}if(void 0===this.timeline_parameters)return e}},{key:"length",value:function(){var e=0;if(void 0===this.timeline_parameters)return 1;for(var t=0;t<this.timeline_parameters.timeline.length;t++)e+=this.timeline_parameters.timeline[t].length();return e}},{key:"percentComplete",value:function(){for(var e=this.length(),t=0,n=0;n<this.timeline_parameters.timeline.length;n++)this.timeline_parameters.timeline[n].isComplete()&&(t+=this.timeline_parameters.timeline[n].length());return t/e*100}},{key:"reset",value:function(){if(this.progress.current_location=-1,this.progress.current_repetition=0,this.progress.current_variable_set=0,this.progress.current_iteration++,this.progress.done=!1,this.setTimelineVariablesOrder(),void 0!==this.timeline_parameters)for(var e=0;e<this.timeline_parameters.timeline.length;e++)this.timeline_parameters.timeline[e].reset()}},{key:"end",value:function(){this.progress.done=!0}},{key:"endActiveNode",value:function(){void 0===this.timeline_parameters?(this.end(),this.parent_node.end()):this.timeline_parameters.timeline[this.progress.current_location].endActiveNode()}},{key:"ID",value:function(){var e="";return void 0===this.parent_node?"0."+this.progress.current_iteration:(e+=this.parent_node.ID()+"-",e+=this.relative_id+"."+this.progress.current_iteration)}},{key:"activeID",value:function(){return void 0===this.timeline_parameters?this.ID():this.timeline_parameters.timeline[this.progress.current_location].activeID()}},{key:"generatedData",value:function(){return this.jsPsych.data.getDataByTimelineNode(this.ID())}},{key:"trialsOfType",value:function(e){if(void 0===this.timeline_parameters)return this.trial_parameters.type==e?this.trial_parameters:[];for(var t=[],n=0;n<this.timeline_parameters.timeline.length;n++){var r=this.timeline_parameters.timeline[n].trialsOfType(e);t=t.concat(r)}return t}},{key:"insert",value:function(t){void 0===this.timeline_parameters?console.error("Cannot add new trials to a trial-level node."):this.timeline_parameters.timeline.push(new e(this.jsPsych,Object.assign(Object.assign({},this.node_trial_data),t),this,this.timeline_parameters.timeline.length))}}]),e}();function J(e){return new Promise((function(t){return setTimeout(t,e)}))}var Q=function(){function n(e){var t,i;a(this,n),this.extensions={},this.turk=$,this.randomization=H,this.utils=E,this.opts={},this.global_trial_index=0,this.current_trial={},this.current_trial_finished=!1,this.paused=!1,this.waiting=!1,this.file_protocol=!1,this.simulation_mode=null,this.webaudio_context=null,this.internal={call_immediate:!1},this.progress_bar_amount=0,e=Object.assign({display_element:void 0,on_finish:function(){},on_trial_start:function(){},on_trial_finish:function(){},on_data_update:function(){},on_interaction_data_update:function(){},on_close:function(){},use_webaudio:!0,exclusions:{},show_progress_bar:!1,message_progress_bar:"Completion Progress",auto_update_progress_bar:!0,default_iti:0,minimum_valid_rt:0,experiment_width:null,override_safe_mode:!1,case_sensitive_responses:!1,extensions:[]},e),this.opts=e,y(this),this.webaudio_context="undefined"!=typeof window&&void 0!==window.AudioContext?new AudioContext:null,"file:"!=window.location.protocol||!1!==e.override_safe_mode&&void 0!==e.override_safe_mode||(e.use_webaudio=!1,this.file_protocol=!0,console.warn("jsPsych detected that it is running via the file:// protocol and not on a web server. To prevent issues with cross-origin requests, Web Audio and video preloading have been disabled. If you would like to override this setting, you can set 'override_safe_mode' to 'true' in initJsPsych. For more information, see: https://www.jspsych.org/overview/running-experiments")),this.data=new P(this),this.pluginAPI=(i=(t=this).getInitSettings(),Object.assign.apply(Object,[{}].concat(r([new x(t.getDisplayContainerElement,i.case_sensitive_responses,i.minimum_valid_rt),new A,new R(i.use_webaudio,t.webaudio_context),new S,new O].map((function(e){return y(e)}))))));var s,o=p(e.extensions);try{for(o.s();!(s=o.n()).done;){var u=s.value;this.extensions[u.type.info.name]=new u.type(this)}}catch(e){o.e(e)}finally{o.f()}this.pluginAPI.initAudio()}return s(n,[{key:"version",value:function(){return"7.3.2"}},{key:"run",value:function(t){return v(this,void 0,void 0,e().mark((function n(){return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&console.error("No timeline declared in jsPsych.run. Cannot start experiment."),0===t.length&&console.error("No trials have been added to the timeline (the timeline is an empty array). Cannot start experiment."),this.timelineDescription=t,this.timeline=new Y(this,{timeline:t}),e.next=6,this.prepareDom();case 6:return e.next=8,this.checkExclusions(this.opts.exclusions);case 8:return e.next=10,this.loadExtensions(this.opts.extensions);case 10:return document.documentElement.setAttribute("jspsych","present"),this.startExperiment(),e.next=14,this.finished;case 14:case"end":return e.stop()}}),n,this)})))}},{key:"simulate",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data-only",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return v(this,void 0,void 0,e().mark((function i(){return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.simulation_mode=n,this.simulation_options=r,e.next=4,this.run(t);case 4:case"end":return e.stop()}}),i,this)})))}},{key:"getProgress",value:function(){return{total_trials:void 0===this.timeline?void 0:this.timeline.length(),current_trial_global:this.global_trial_index,percent_complete:void 0===this.timeline?0:this.timeline.percentComplete()}}},{key:"getStartTime",value:function(){return this.exp_start_time}},{key:"getTotalTime",value:function(){return void 0===this.exp_start_time?0:(new Date).getTime()-this.exp_start_time.getTime()}},{key:"getDisplayElement",value:function(){return this.DOM_target}},{key:"getDisplayContainerElement",value:function(){return this.DOM_container}},{key:"finishTrial",value:function(){var e,n=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.current_trial_finished){var s;this.current_trial_finished=!0,void 0!==this.current_trial.css_classes&&Array.isArray(this.current_trial.css_classes)&&(s=this.DOM_target.classList).remove.apply(s,r(this.current_trial.css_classes)),this.data.write(i);var o=this.data.getLastTrialData().values()[0],a=this.current_trial;if("object"===t(a.save_trial_parameters))for(var u=0,c=Object.keys(a.save_trial_parameters);u<c.length;u++){var l=c[u],h=a.save_trial_parameters[l];!0===h&&(void 0===a[l]?console.warn('Invalid parameter specified in save_trial_parameters. Trial has no property called "'.concat(l,'".')):"function"==typeof a[l]?o[l]=a[l].toString():o[l]=a[l]),!1===h&&"internal_node_id"!==l&&"trial_index"!==l&&delete o[l]}var d=(null!==(e=a.extensions)&&void 0!==e?e:[]).map((function(e){return n.extensions[e.type.info.name].on_finish(e.params)})),f=function(){n.internal.call_immediate=!0,"function"==typeof a.on_finish&&a.on_finish(o),n.opts.on_trial_finish(o),n.opts.on_data_update(o),n.internal.call_immediate=!1,"data-only"===n.simulation_mode?n.nextTrial():null===t(a.post_trial_gap)||void 0===a.post_trial_gap?n.opts.default_iti>0?setTimeout(n.nextTrial,n.opts.default_iti):n.nextTrial():a.post_trial_gap>0?setTimeout(n.nextTrial,a.post_trial_gap):n.nextTrial()};if(d.some((function(e){return"function"==typeof e.then})))Promise.all(d.map((function(e){return Promise.resolve(e).then((function(e){Object.assign(o,e)}))}))).then(f);else{var g,m=p(d);try{for(m.s();!(g=m.n()).done;){var v=g.value;Object.assign(o,v)}}catch(e){m.e(e)}finally{m.f()}f()}}}},{key:"endExperiment",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.timeline.end_message=e,this.timeline.end(),this.pluginAPI.cancelAllKeyboardResponses(),this.pluginAPI.clearAllTimeouts(),this.finishTrial(t)}},{key:"endCurrentTimeline",value:function(){this.timeline.endActiveNode()}},{key:"getCurrentTrial",value:function(){return this.current_trial}},{key:"getInitSettings",value:function(){return this.opts}},{key:"getCurrentTimelineNodeID",value:function(){return this.timeline.activeID()}},{key:"timelineVariable",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.internal.call_immediate||!0===n?this.timeline.timelineVariable(e):{timelineVariablePlaceholder:!0,timelineVariableFunction:function(){return t.timeline.timelineVariable(e)}}}},{key:"getAllTimelineVariables",value:function(){return this.timeline.allTimelineVariables()}},{key:"addNodeToEndOfTimeline",value:function(e,t){this.timeline.insert(e)}},{key:"pauseExperiment",value:function(){this.paused=!0}},{key:"resumeExperiment",value:function(){this.paused=!1,this.waiting&&(this.waiting=!1,this.nextTrial())}},{key:"loadFail",value:function(e){e=e||"<p>The experiment failed to load.</p>",this.DOM_target.innerHTML=e}},{key:"getSafeModeStatus",value:function(){return this.file_protocol}},{key:"getTimeline",value:function(){return this.timelineDescription}},{key:"prepareDom",value:function(){return v(this,void 0,void 0,e().mark((function t(){var n,r;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("complete"===document.readyState){e.next=3;break}return e.next=3,new Promise((function(e){window.addEventListener("load",e)}));case 3:void 0===(n=this.opts).display_element?(null===document.querySelector("body")&&document.documentElement.appendChild(document.createElement("body")),document.querySelector("html").style.height="100%",document.querySelector("body").style.margin="0px",document.querySelector("body").style.height="100%",document.querySelector("body").style.width="100%",n.display_element=document.querySelector("body")):null===(r=n.display_element instanceof Element?n.display_element:document.querySelector("#"+n.display_element))?console.error("The display_element specified in initJsPsych() does not exist in the DOM."):n.display_element=r,n.display_element.innerHTML='<div class="jspsych-content-wrapper"><div id="jspsych-content"></div></div>',this.DOM_container=n.display_element,this.DOM_target=document.querySelector("#jspsych-content"),null!==n.experiment_width&&(this.DOM_target.style.width=n.experiment_width+"px"),n.display_element.tabIndex=0,-1===n.display_element.className.indexOf("jspsych-display-element")&&(n.display_element.className+=" jspsych-display-element"),this.DOM_target.className+="jspsych-content",this.data.createInteractionListeners(),window.addEventListener("beforeunload",n.on_close);case 14:case"end":return e.stop()}}),t,this)})))}},{key:"loadExtensions",value:function(t){return v(this,void 0,void 0,e().mark((function n(){var r=this;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(t.map((function(e){return r.extensions[e.type.info.name].initialize(e.params||{})})));case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),console.error(e.t0),new Error(e.t0);case 9:case"end":return e.stop()}}),n,null,[[0,5]])})))}},{key:"startExperiment",value:function(){var e=this;this.finished=new Promise((function(t){e.resolveFinishedPromise=t})),!0===this.opts.show_progress_bar&&this.drawProgressBar(this.opts.message_progress_bar),this.exp_start_time=new Date,this.timeline.advance(),this.doTrial(this.timeline.trial())}},{key:"finishExperiment",value:function(){var e=this,t=this.opts.on_finish(this.data.get()),n=function(){void 0!==e.timeline.end_message&&(e.DOM_target.innerHTML=e.timeline.end_message),e.resolveFinishedPromise()};t?Promise.resolve(t).then(n):n()}},{key:"nextTrial",value:function(){if(this.paused)this.waiting=!0;else{this.global_trial_index++,this.timeline.markCurrentTrialComplete();var e=this.timeline.advance();!0===this.opts.show_progress_bar&&!0===this.opts.auto_update_progress_bar&&this.updateProgressBar(),e?this.finishExperiment():this.doTrial(this.timeline.trial())}}},{key:"doTrial",value:function(e){var t,n=this;if(this.current_trial=e,this.current_trial_finished=!1,this.evaluateTimelineVariables(e),"string"==typeof e.type)throw new _("A string was provided as the trial's `type` parameter. Since jsPsych v7, the `type` parameter needs to be a plugin object.");if(e.type=Object.assign(Object.assign({},y(new e.type(this))),{info:e.type.info}),this.evaluateFunctionParameters(e),this.setDefaultValues(e),this.internal.call_immediate=!0,this.opts.on_trial_start(e),"function"==typeof e.on_start&&e.on_start(e),Array.isArray(e.extensions)){var i,s=p(e.extensions);try{for(s.s();!(i=s.n()).done;){var o=i.value;this.extensions[o.type.info.name].on_start(o.params)}}catch(e){s.e(e)}finally{s.f()}}this.DOM_container.focus(),this.DOM_target.scrollTop=0,void 0!==e.css_classes&&(Array.isArray(e.css_classes)||"string"!=typeof e.css_classes||(e.css_classes=[e.css_classes]),Array.isArray(e.css_classes)&&(t=this.DOM_target.classList).add.apply(t,r(e.css_classes)));var a,u,c=function(){if("function"==typeof e.on_load&&e.on_load(),Array.isArray(e.extensions)){var t,r=p(e.extensions);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.extensions[i.type.info.name].on_load(i.params)}}catch(e){r.e(e)}finally{r.f()}}};this.simulation_mode||(a=e.type.trial(this.DOM_target,e,c)),this.simulation_mode&&(e.type.simulate?(e.simulation_options||(u=this.simulation_options.default),e.simulation_options&&("string"==typeof e.simulation_options?this.simulation_options[e.simulation_options]?u=this.simulation_options[e.simulation_options]:this.simulation_options.default?(console.log('No matching simulation options found for "'.concat(e.simulation_options,'". Using "default" options.')),u=this.simulation_options.default):(console.log('No matching simulation options found for "'.concat(e.simulation_options,'" and no "default" options provided. Using the default values provided by the plugin.')),u={}):u=e.simulation_options),u=this.utils.deepCopy(u),a=!1===(null==(u=this.replaceFunctionsWithValues(u,null))?void 0:u.simulate)?e.type.trial(this.DOM_target,e,c):e.type.simulate(e,(null==u?void 0:u.mode)||this.simulation_mode,u,c)):a=e.type.trial(this.DOM_target,e,c)),a&&"function"==typeof a.then||this.simulation_mode||c(),this.internal.call_immediate=!1}},{key:"evaluateTimelineVariables",value:function(e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];"object"===t(e[i])&&null!==e[i]&&void 0!==e[i].timelineVariablePlaceholder&&(e[i]=e[i].timelineVariableFunction()),"object"===t(e[i])&&null!==e[i]&&"timeline"!==i&&"timeline_variables"!==i&&this.evaluateTimelineVariables(e[i])}}},{key:"evaluateFunctionParameters",value:function(e){this.internal.call_immediate=!0;for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];"type"!==r&&(void 0!==j[r]&&j[r].type!==I.FUNCTION&&(e[r]=this.replaceFunctionsWithValues(e[r],null)),void 0!==e.type.info.parameters[r]&&e.type.info.parameters[r].type!==I.FUNCTION&&(e[r]=this.replaceFunctionsWithValues(e[r],e.type.info.parameters[r])))}this.internal.call_immediate=!1}},{key:"replaceFunctionsWithValues",value:function(e,n){if(null===e)return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=this.replaceFunctionsWithValues(e[r],n);else if("object"===t(e))if(null!==n&&n.nested)for(var i=0,s=Object.keys(e);i<s.length;i++){var o=s[i];"object"===t(n.nested[o])&&n.nested[o].type!==I.FUNCTION&&(e[o]=this.replaceFunctionsWithValues(e[o],n.nested[o]))}else for(var a=0,u=Object.keys(e);a<u.length;a++){var c=u[a];"type"!==c&&"timeline"!==c&&"timeline_variables"!==c&&(e[c]=this.replaceFunctionsWithValues(e[c],null))}else if("function"==typeof e)return e();return e}},{key:"setDefaultValues",value:function(e){var t=function(t){e.type.info.parameters[t].type===I.COMPLEX?(void 0===e[t]&&e.type.info.parameters[t].default&&(e[t]=e.type.info.parameters[t].default),!0===e.type.info.parameters[t].array&&Array.isArray(e[t])&&e[t].forEach((function(n,r){for(var i in e.type.info.parameters[t].nested)void 0!==e[t][r][i]&&null!==e[t][r][i]||(void 0===e.type.info.parameters[t].nested[i].default?console.error("You must specify a value for the ".concat(i," parameter (nested in the ").concat(t," parameter) in the ").concat(e.type.info.name," plugin.")):e[t][r][i]=e.type.info.parameters[t].nested[i].default)}))):void 0!==e[t]&&null!==e[t]||(void 0===e.type.info.parameters[t].default?console.error("You must specify a value for the ".concat(t," parameter in the ").concat(e.type.info.name," plugin.")):e[t]=e.type.info.parameters[t].default)};for(var n in e.type.info.parameters)t(n)}},{key:"checkExclusions",value:function(t){return v(this,void 0,void 0,e().mark((function n(){var r,i;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t.min_width||t.min_height||t.audio)&&console.warn("The exclusions option in `initJsPsych()` is deprecated and will be removed in a future version. We recommend using the browser-check plugin instead. See https://www.jspsych.org/latest/plugins/browser-check/."),!t.min_width&&!t.min_height){e.next=12;break}if(r=t.min_width||0,i=t.min_height||0,!(window.innerWidth<r||window.innerHeight<i)){e.next=12;break}this.getDisplayElement().innerHTML="<p>Your browser window is too small to complete this experiment. Please maximize the size of your browser window. If your browser window is already maximized, you will not be able to complete this experiment.</p><p>The minimum width is "+r+"px. Your current width is "+window.innerWidth+"px.</p><p>The minimum height is "+i+"px. Your current height is "+window.innerHeight+"px.</p>";case 6:if(!(window.innerWidth<r||window.innerHeight<i)){e.next=11;break}return e.next=9,J(100);case 9:e.next=6;break;case 11:this.getDisplayElement().innerHTML="";case 12:if(void 0===t.audio||!t.audio){e.next=16;break}if(window.hasOwnProperty("AudioContext")||window.hasOwnProperty("webkitAudioContext")){e.next=16;break}throw this.getDisplayElement().innerHTML="<p>Your browser does not support the WebAudio API, which means that you will not be able to complete the experiment.</p><p>Browsers that support the WebAudio API include Chrome, Firefox, Safari, and Edge.</p>",new Error;case 16:case"end":return e.stop()}}),n,this)})))}},{key:"drawProgressBar",value:function(e){document.querySelector(".jspsych-display-element").insertAdjacentHTML("afterbegin",'<div id="jspsych-progressbar-container"><span>'+e+'</span><div id="jspsych-progressbar-outer"><div id="jspsych-progressbar-inner"></div></div></div>')}},{key:"updateProgressBar",value:function(){this.setProgressBar(this.getProgress().percent_complete/100)}},{key:"setProgressBar",value:function(e){e=Math.max(Math.min(1,e),0),document.querySelector("#jspsych-progressbar-inner").style.width=100*e+"%",this.progress_bar_amount=e}},{key:"getProgressBarCompleted",value:function(){return this.progress_bar_amount}}]),n}();function X(e){var t=new Q(e);return Object.defineProperties(t,Object.fromEntries(Object.entries({init:"`jsPsych.init()` was replaced by `initJsPsych()` in jsPsych v7.",ALL_KEYS:'jsPsych.ALL_KEYS was replaced by the "ALL_KEYS" string in jsPsych v7.',NO_KEYS:'jsPsych.NO_KEYS was replaced by the "NO_KEYS" string in jsPsych v7.',currentTimelineNodeID:"`currentTimelineNodeID()` was renamed to `getCurrentTimelineNodeID()` in jsPsych v7.",progress:"`progress()` was renamed to `getProgress()` in jsPsych v7.",startTime:"`startTime()` was renamed to `getStartTime()` in jsPsych v7.",totalTime:"`totalTime()` was renamed to `getTotalTime()` in jsPsych v7.",currentTrial:"`currentTrial()` was renamed to `getCurrentTrial()` in jsPsych v7.",initSettings:"`initSettings()` was renamed to `getInitSettings()` in jsPsych v7.",allTimelineVariables:"`allTimelineVariables()` was renamed to `getAllTimelineVariables()` in jsPsych v7."}).map((function(e){var t=f(e,2),n=t[0],r=t[1];return[n,{get:function(){throw new _(r)}}]})))),t}"undefined"!=typeof window&&window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext);const Z={name:"fullscreen",parameters:{fullscreen_mode:{type:I.BOOL,pretty_name:"Fullscreen mode",default:!0,array:!1},message:{type:I.HTML_STRING,pretty_name:"Message",default:"<p>The experiment will switch to full screen mode when you press the button below</p>",array:!1},button_label:{type:I.STRING,pretty_name:"Button label",default:"Continue",array:!1},delay_after:{type:I.INT,pretty_name:"Delay after",default:1e3,array:!1}}};class ee{constructor(e){this.jsPsych=e}trial(e,t){"undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element?this.endTrial(e,!1,t):t.fullscreen_mode?this.showDisplay(e,t):(this.exitFullScreen(),this.endTrial(e,!0,t))}showDisplay(e,t){e.innerHTML=`\n      ${t.message}\n      <button id="jspsych-fullscreen-btn" class="jspsych-btn">${t.button_label}</button>\n    `,e.querySelector("#jspsych-fullscreen-btn").addEventListener("click",(()=>{this.enterFullScreen(),this.endTrial(e,!0,t)}))}endTrial(e,t,n){e.innerHTML="",this.jsPsych.pluginAPI.setTimeout((()=>{var e={success:t};this.jsPsych.finishTrial(e)}),n.delay_after)}enterFullScreen(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}exitFullScreen(){(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())}simulate(e,t,n,r){"data-only"==t&&(r(),this.simulate_data_only(e,n)),"visual"==t&&this.simulate_visual(e,n,r)}create_simulation_data(e,t){return this.jsPsych.pluginAPI.mergeSimulationData({success:!0},t)}simulate_data_only(e,t){const n=this.create_simulation_data(e,t);this.jsPsych.finishTrial(n)}simulate_visual(e,t,n){const r=this.create_simulation_data(e,t),i=this.jsPsych.getDisplayElement();!1===r.success?this.endTrial(i,!1,e):(this.trial(i,e),n(),this.jsPsych.pluginAPI.clickTarget(i.querySelector("#jspsych-fullscreen-btn"),this.jsPsych.randomization.sampleExGaussian(1e3,100,.005,!0)))}}ee.info=Z;const te={name:"html-keyboard-response",parameters:{stimulus:{type:I.HTML_STRING,pretty_name:"Stimulus",default:void 0},choices:{type:I.KEYS,pretty_name:"Choices",default:"ALL_KEYS"},prompt:{type:I.HTML_STRING,pretty_name:"Prompt",default:null},stimulus_duration:{type:I.INT,pretty_name:"Stimulus duration",default:null},trial_duration:{type:I.INT,pretty_name:"Trial duration",default:null},response_ends_trial:{type:I.BOOL,pretty_name:"Response ends trial",default:!0}}};class ne{constructor(e){this.jsPsych=e}trial(e,t){var n='<div id="jspsych-html-keyboard-response-stimulus">'+t.stimulus+"</div>";null!==t.prompt&&(n+=t.prompt),e.innerHTML=n;var r={rt:null,key:null};const i=()=>{this.jsPsych.pluginAPI.clearAllTimeouts(),void 0!==s&&this.jsPsych.pluginAPI.cancelKeyboardResponse(s);var n={rt:r.rt,stimulus:t.stimulus,response:r.key};e.innerHTML="",this.jsPsych.finishTrial(n)};if("NO_KEYS"!=t.choices)var s=this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:n=>{e.querySelector("#jspsych-html-keyboard-response-stimulus").className+=" responded",null==r.key&&(r=n),t.response_ends_trial&&i()},valid_responses:t.choices,rt_method:"performance",persist:!1,allow_held_key:!1});null!==t.stimulus_duration&&this.jsPsych.pluginAPI.setTimeout((()=>{e.querySelector("#jspsych-html-keyboard-response-stimulus").style.visibility="hidden"}),t.stimulus_duration),null!==t.trial_duration&&this.jsPsych.pluginAPI.setTimeout(i,t.trial_duration)}simulate(e,t,n,r){"data-only"==t&&(r(),this.simulate_data_only(e,n)),"visual"==t&&this.simulate_visual(e,n,r)}create_simulation_data(e,t){const n={stimulus:e.stimulus,rt:this.jsPsych.randomization.sampleExGaussian(500,50,1/150,!0),response:this.jsPsych.pluginAPI.getValidKey(e.choices)},r=this.jsPsych.pluginAPI.mergeSimulationData(n,t);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(e,r),r}simulate_data_only(e,t){const n=this.create_simulation_data(e,t);this.jsPsych.finishTrial(n)}simulate_visual(e,t,n){const r=this.create_simulation_data(e,t),i=this.jsPsych.getDisplayElement();this.trial(i,e),n(),null!==r.rt&&this.jsPsych.pluginAPI.pressKey(r.response,r.rt)}}ne.info=te;const re={name:"html-button-response",parameters:{stimulus:{type:I.HTML_STRING,pretty_name:"Stimulus",default:void 0},choices:{type:I.STRING,pretty_name:"Choices",default:void 0,array:!0},button_html:{type:I.HTML_STRING,pretty_name:"Button HTML",default:'<button class="jspsych-btn">%choice%</button>',array:!0},prompt:{type:I.HTML_STRING,pretty_name:"Prompt",default:null},stimulus_duration:{type:I.INT,pretty_name:"Stimulus duration",default:null},trial_duration:{type:I.INT,pretty_name:"Trial duration",default:null},margin_vertical:{type:I.STRING,pretty_name:"Margin vertical",default:"0px"},margin_horizontal:{type:I.STRING,pretty_name:"Margin horizontal",default:"8px"},response_ends_trial:{type:I.BOOL,pretty_name:"Response ends trial",default:!0}}};class ie{constructor(e){this.jsPsych=e}trial(e,t){var n='<div id="jspsych-html-button-response-stimulus">'+t.stimulus+"</div>",r=[];if(Array.isArray(t.button_html))t.button_html.length==t.choices.length?r=t.button_html:console.error("Error in html-button-response plugin. The length of the button_html array does not equal the length of the choices array");else for(var i=0;i<t.choices.length;i++)r.push(t.button_html);for(n+='<div id="jspsych-html-button-response-btngroup">',i=0;i<t.choices.length;i++){var s=r[i].replace(/%choice%/g,t.choices[i]);n+='<div class="jspsych-html-button-response-button" style="display: inline-block; margin:'+t.margin_vertical+" "+t.margin_horizontal+'" id="jspsych-html-button-response-button-'+i+'" data-choice="'+i+'">'+s+"</div>"}n+="</div>",null!==t.prompt&&(n+=t.prompt),e.innerHTML=n;var o=performance.now();for(i=0;i<t.choices.length;i++)e.querySelector("#jspsych-html-button-response-button-"+i).addEventListener("click",(e=>{c(e.currentTarget.getAttribute("data-choice"))}));var a={rt:null,button:null};const u=()=>{this.jsPsych.pluginAPI.clearAllTimeouts();var n={rt:a.rt,stimulus:t.stimulus,response:a.button};e.innerHTML="",this.jsPsych.finishTrial(n)};function c(n){var r=performance.now(),i=Math.round(r-o);a.button=parseInt(n),a.rt=i,e.querySelector("#jspsych-html-button-response-stimulus").className+=" responded";for(var s=document.querySelectorAll(".jspsych-html-button-response-button button"),c=0;c<s.length;c++)s[c].setAttribute("disabled","disabled");t.response_ends_trial&&u()}null!==t.stimulus_duration&&this.jsPsych.pluginAPI.setTimeout((()=>{e.querySelector("#jspsych-html-button-response-stimulus").style.visibility="hidden"}),t.stimulus_duration),null!==t.trial_duration&&this.jsPsych.pluginAPI.setTimeout(u,t.trial_duration)}simulate(e,t,n,r){"data-only"==t&&(r(),this.simulate_data_only(e,n)),"visual"==t&&this.simulate_visual(e,n,r)}create_simulation_data(e,t){const n={stimulus:e.stimulus,rt:this.jsPsych.randomization.sampleExGaussian(500,50,1/150,!0),response:this.jsPsych.randomization.randomInt(0,e.choices.length-1)},r=this.jsPsych.pluginAPI.mergeSimulationData(n,t);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(e,r),r}simulate_data_only(e,t){const n=this.create_simulation_data(e,t);this.jsPsych.finishTrial(n)}simulate_visual(e,t,n){const r=this.create_simulation_data(e,t),i=this.jsPsych.getDisplayElement();this.trial(i,e),n(),null!==r.rt&&this.jsPsych.pluginAPI.clickTarget(i.querySelector(`div[data-choice="${r.response}"] button`),r.rt)}}ie.info=re;const se={name:"survey-likert",parameters:{questions:{type:I.COMPLEX,array:!0,pretty_name:"Questions",nested:{prompt:{type:I.HTML_STRING,pretty_name:"Prompt",default:void 0},labels:{type:I.STRING,array:!0,pretty_name:"Labels",default:void 0},required:{type:I.BOOL,pretty_name:"Required",default:!1},name:{type:I.STRING,pretty_name:"Question Name",default:""}}},randomize_question_order:{type:I.BOOL,pretty_name:"Randomize Question Order",default:!1},preamble:{type:I.HTML_STRING,pretty_name:"Preamble",default:null},scale_width:{type:I.INT,pretty_name:"Scale width",default:null},button_label:{type:I.STRING,pretty_name:"Button label",default:"Continue"},autocomplete:{type:I.BOOL,pretty_name:"Allow autocomplete",default:!1}}};class oe{constructor(e){this.jsPsych=e}trial(e,t){if(null!==t.scale_width)var n=t.scale_width+"px";else n="100%";var r="";r+='<style id="jspsych-survey-likert-css">',r+=".jspsych-survey-likert-statement { display:block; font-size: 16px; padding-top: 40px; margin-bottom:10px; }.jspsych-survey-likert-opts { list-style:none; width:"+n+"; margin:auto; padding:0 0 35px; display:block; font-size: 14px; line-height:1.1em; }.jspsych-survey-likert-opt-label { line-height: 1.1em; color: #444; }.jspsych-survey-likert-opts:before { content: ''; position:relative; top:11px; /*left:9.5%;*/ display:block; background-color:#efefef; height:4px; width:100%; }.jspsych-survey-likert-opts:last-of-type { border-bottom: 0; }.jspsych-survey-likert-opts li { display:inline-block; /*width:19%;*/ text-align:center; vertical-align: top; }.jspsych-survey-likert-opts li input[type=radio] { display:block; position:relative; top:0; left:50%; margin-left:-6px; }",r+="</style>",null!==t.preamble&&(r+='<div id="jspsych-survey-likert-preamble" class="jspsych-survey-likert-preamble">'+t.preamble+"</div>"),t.autocomplete?r+='<form id="jspsych-survey-likert-form">':r+='<form id="jspsych-survey-likert-form" autocomplete="off">';for(var i=[],s=0;s<t.questions.length;s++)i.push(s);for(t.randomize_question_order&&(i=this.jsPsych.randomization.shuffle(i)),s=0;s<t.questions.length;s++){var o=t.questions[i[s]];r+='<label class="jspsych-survey-likert-statement">'+o.prompt+"</label>";for(var a=100/o.labels.length,u='<ul class="jspsych-survey-likert-opts" data-name="'+o.name+'" data-radio-group="Q'+i[s]+'">',c=0;c<o.labels.length;c++)u+='<li style="width:'+a+'%"><label class="jspsych-survey-likert-opt-label"><input type="radio" name="Q'+i[s]+'" value="'+c+'"',o.required&&(u+=" required"),u+=">"+o.labels[c]+"</label></li>";r+=u+="</ul>"}r+='<input type="submit" id="jspsych-survey-likert-next" class="jspsych-survey-likert jspsych-btn" value="'+t.button_label+'"></input>',r+="</form>",e.innerHTML=r,e.querySelector("#jspsych-survey-likert-form").addEventListener("submit",(t=>{t.preventDefault();for(var n=performance.now(),r=Math.round(n-l),s={},o=e.querySelectorAll("#jspsych-survey-likert-form .jspsych-survey-likert-opts"),a=0;a<o.length;a++){var u=o[a].dataset.radioGroup,c=e.querySelector('input[name="'+u+'"]:checked');if(null===c)var h="";else h=parseInt(c.value);var d={};if(""!==o[a].attributes["data-name"].value)var f=o[a].attributes["data-name"].value;else f=u;d[f]=h,Object.assign(s,d)}var p={rt:r,response:s,question_order:i};e.innerHTML="",this.jsPsych.finishTrial(p)}));var l=performance.now()}simulate(e,t,n,r){"data-only"==t&&(r(),this.simulate_data_only(e,n)),"visual"==t&&this.simulate_visual(e,n,r)}create_simulation_data(e,t){const n={};let r=1e3;for(const t of e.questions)n[t.name?t.name:`Q${e.questions.indexOf(t)}`]=this.jsPsych.randomization.randomInt(0,t.labels.length-1),r+=this.jsPsych.randomization.sampleExGaussian(1500,400,.005,!0);const i={response:n,rt:r,question_order:e.randomize_question_order?this.jsPsych.randomization.shuffle([...Array(e.questions.length).keys()]):[...Array(e.questions.length).keys()]},s=this.jsPsych.pluginAPI.mergeSimulationData(i,t);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(e,s),s}simulate_data_only(e,t){const n=this.create_simulation_data(e,t);this.jsPsych.finishTrial(n)}simulate_visual(e,t,n){const r=this.create_simulation_data(e,t),i=this.jsPsych.getDisplayElement();this.trial(i,e),n();const s=Object.entries(r.response);for(let e=0;e<s.length;e++)this.jsPsych.pluginAPI.clickTarget(i.querySelector(`input[type="radio"][name="${s[e][0]}"][value="${s[e][1]}"]`),(r.rt-1e3)/s.length*(e+1));this.jsPsych.pluginAPI.clickTarget(i.querySelector("#jspsych-survey-likert-next"),r.rt)}}oe.info=se;const ae={name:"survey-text",parameters:{questions:{type:I.COMPLEX,array:!0,pretty_name:"Questions",default:void 0,nested:{prompt:{type:I.HTML_STRING,pretty_name:"Prompt",default:void 0},placeholder:{type:I.STRING,pretty_name:"Placeholder",default:""},rows:{type:I.INT,pretty_name:"Rows",default:1},columns:{type:I.INT,pretty_name:"Columns",default:40},required:{type:I.BOOL,pretty_name:"Required",default:!1},name:{type:I.STRING,pretty_name:"Question Name",default:""}}},randomize_question_order:{type:I.BOOL,pretty_name:"Randomize Question Order",default:!1},preamble:{type:I.HTML_STRING,pretty_name:"Preamble",default:null},button_label:{type:I.STRING,pretty_name:"Button label",default:"Continue"},autocomplete:{type:I.BOOL,pretty_name:"Allow autocomplete",default:!1}}};class ue{constructor(e){this.jsPsych=e}trial(e,t){for(var n=0;n<t.questions.length;n++)void 0===t.questions[n].rows&&(t.questions[n].rows=1);for(n=0;n<t.questions.length;n++)void 0===t.questions[n].columns&&(t.questions[n].columns=40);for(n=0;n<t.questions.length;n++)void 0===t.questions[n].value&&(t.questions[n].value="");var r="";null!==t.preamble&&(r+='<div id="jspsych-survey-text-preamble" class="jspsych-survey-text-preamble">'+t.preamble+"</div>"),t.autocomplete?r+='<form id="jspsych-survey-text-form">':r+='<form id="jspsych-survey-text-form" autocomplete="off">';var i=[];for(n=0;n<t.questions.length;n++)i.push(n);for(t.randomize_question_order&&(i=this.jsPsych.randomization.shuffle(i)),n=0;n<t.questions.length;n++){var s=t.questions[i[n]],o=i[n];r+='<div id="jspsych-survey-text-'+o+'" class="jspsych-survey-text-question" style="margin: 2em 0em;">',r+='<p class="jspsych-survey-text">'+s.prompt+"</p>";var a=0==n?"autofocus":"",u=s.required?"required":"";1==s.rows?r+='<input type="text" id="input-'+o+'"  name="#jspsych-survey-text-response-'+o+'" data-name="'+s.name+'" size="'+s.columns+'" '+a+" "+u+' placeholder="'+s.placeholder+'"></input>':r+='<textarea id="input-'+o+'" name="#jspsych-survey-text-response-'+o+'" data-name="'+s.name+'" cols="'+s.columns+'" rows="'+s.rows+'" '+a+" "+u+' placeholder="'+s.placeholder+'"></textarea>',r+="</div>"}r+='<input type="submit" id="jspsych-survey-text-next" class="jspsych-btn jspsych-survey-text" value="'+t.button_label+'"></input>',r+="</form>",e.innerHTML=r,e.querySelector("#input-"+i[0]).focus(),e.querySelector("#jspsych-survey-text-form").addEventListener("submit",(n=>{n.preventDefault();for(var r=performance.now(),i=Math.round(r-c),s={},o=0;o<t.questions.length;o++){var a="Q"+o,u=document.querySelector("#jspsych-survey-text-"+o).querySelector("textarea, input"),l=u.value,h=u.attributes["data-name"].value;""==h&&(h=a);var d={};d[h]=l,Object.assign(s,d)}var f={rt:i,response:s};e.innerHTML="",this.jsPsych.finishTrial(f)}));var c=performance.now()}simulate(e,t,n,r){"data-only"==t&&(r(),this.simulate_data_only(e,n)),"visual"==t&&this.simulate_visual(e,n,r)}create_simulation_data(e,t){const n={};let r=1e3;for(const t of e.questions){const i=t.name?t.name:`Q${e.questions.indexOf(t)}`,s=1==t.rows?this.jsPsych.randomization.sampleExponential(.25):this.jsPsych.randomization.randomInt(1,10)*t.rows;n[i]=this.jsPsych.randomization.randomWords({exactly:s,join:" "}),r+=this.jsPsych.randomization.sampleExGaussian(2e3,400,.004,!0)}const i={response:n,rt:r},s=this.jsPsych.pluginAPI.mergeSimulationData(i,t);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(e,s),s}simulate_data_only(e,t){const n=this.create_simulation_data(e,t);this.jsPsych.finishTrial(n)}simulate_visual(e,t,n){const r=this.create_simulation_data(e,t),i=this.jsPsych.getDisplayElement();this.trial(i,e),n();const s=Object.entries(r.response).map((e=>e[1]));for(let e=0;e<s.length;e++)this.jsPsych.pluginAPI.fillTextInput(i.querySelector(`#input-${e}`),s[e],(r.rt-1e3)/s.length*(e+1));this.jsPsych.pluginAPI.clickTarget(i.querySelector("#jspsych-survey-text-next"),r.rt)}}ue.info=ae;const ce={name:"external-html",parameters:{url:{type:I.STRING,pretty_name:"URL",default:void 0},cont_key:{type:I.KEY,pretty_name:"Continue key",default:null},cont_btn:{type:I.STRING,pretty_name:"Continue button",default:null},check_fn:{type:I.FUNCTION,pretty_name:"Check function",default:()=>!0},force_refresh:{type:I.BOOL,pretty_name:"Force refresh",default:!1},execute_script:{type:I.BOOL,pretty_name:"Execute scripts",default:!1}}};class le{constructor(e){this.jsPsych=e}trial(e,t,n){let r;var i=t.url;return t.force_refresh&&(i=t.url+"?t="+performance.now()),fetch(i).then((e=>e.text())).then((i=>{e.innerHTML=i,n();var s=performance.now();const o=e=>{this.jsPsych.pluginAPI.compareKeys(e.key,t.cont_key)&&a()},a=()=>{if(!t.check_fn||t.check_fn(e)){t.cont_key&&e.removeEventListener("keydown",o);var n={rt:Math.round(performance.now()-s),url:t.url};e.innerHTML="",this.jsPsych.finishTrial(n),r()}};if(t.execute_script)for(var u=e.getElementsByTagName("script"),c=0;c<u.length;c++){const e=document.createElement("script"),t=u[c];e.text=t.text,t.parentNode.replaceChild(e,t)}t.cont_btn&&e.querySelector("#"+t.cont_btn).addEventListener("click",a),t.cont_key&&e.addEventListener("keydown",o)})).catch((e=>{console.error("Something went wrong with fetch() in plugin-external-html.",e)})),new Promise((e=>{r=e}))}simulate(e,t,n,r){"data-only"==t&&(r(),this.simulate_data_only(e,n)),"visual"==t&&this.simulate_visual(e,n,r)}create_simulation_data(e,t){const n={url:e.url,rt:this.jsPsych.randomization.sampleExGaussian(2e3,200,.005,!0)},r=this.jsPsych.pluginAPI.mergeSimulationData(n,t);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(e,r),r}simulate_data_only(e,t){const n=this.create_simulation_data(e,t);this.jsPsych.finishTrial(n)}simulate_visual(e,t,n){const r=this.create_simulation_data(e,t),i=this.jsPsych.getDisplayElement();this.trial(i,e,(()=>{n(),e.cont_key?this.jsPsych.pluginAPI.pressKey(e.cont_key,r.rt):e.cont_btn&&this.jsPsych.pluginAPI.clickTarget(i.querySelector("#"+e.cont_btn),r.rt)}))}}le.info=ce;const he={name:"preload",parameters:{auto_preload:{type:I.BOOL,pretty_name:"Auto-preload",default:!1},trials:{type:I.TIMELINE,pretty_name:"Trials",default:[]},images:{type:I.STRING,pretty_name:"Images",default:[],array:!0},audio:{type:I.STRING,pretty_name:"Audio",default:[],array:!0},video:{type:I.STRING,pretty_name:"Video",default:[],array:!0},message:{type:I.HTML_STRING,pretty_name:"Message",default:null},show_progress_bar:{type:I.BOOL,pretty_name:"Show progress bar",default:!0},continue_after_error:{type:I.BOOL,pretty_name:"Continue after error",default:!1},error_message:{type:I.HTML_STRING,pretty_name:"Error message",default:"The experiment failed to load."},show_detailed_errors:{type:I.BOOL,pretty_name:"Show detailed errors",default:!1},max_load_time:{type:I.INT,pretty_name:"Max load time",default:null},on_error:{type:I.FUNCTION,pretty_name:"On error",default:null},on_success:{type:I.FUNCTION,pretty_name:"On success",default:null}}};class de{constructor(e){this.jsPsych=e}trial(e,t){var n=null,r=!1,i=[],s=[],o=[],a=[],u=this.jsPsych.getSafeModeStatus(),c=[],l=[],h=[];if(t.auto_preload){var d=this.jsPsych.getTimeline(),f=this.jsPsych.pluginAPI.getAutoPreloadList(d);c=c.concat(f.images),l=l.concat(f.audio),h=h.concat(f.video)}if(t.trials.length>0){var p=this.jsPsych.pluginAPI.getAutoPreloadList(t.trials);c=c.concat(p.images),l=l.concat(p.audio),h=h.concat(p.video)}c=c.concat(t.images),l=l.concat(t.audio),h=h.concat(t.video),c=this.jsPsych.utils.unique(c.flat()),l=this.jsPsych.utils.unique(l.flat()),h=this.jsPsych.utils.unique(h.flat()),u&&(h=[]);var g="";null!==t.message&&(g+=t.message),t.show_progress_bar&&(g+="\n            <div id='jspsych-loading-progress-bar-container' style='height: 10px; width: 300px; background-color: #ddd; margin: auto;'>\n              <div id='jspsych-loading-progress-bar' style='height: 10px; width: 0%; background-color: #777;'></div>\n            </div>"),e.innerHTML=g;const m=()=>{if(w++,t.show_progress_bar){var n=w/b*100,r=e.querySelector("#jspsych-loading-progress-bar");null!==r&&(r.style.width=n+"%")}},v=()=>{void 0!==r&&!1===r&&(this.jsPsych.pluginAPI.clearAllTimeouts(),this.jsPsych.pluginAPI.cancelPreloads(),n=!0,_())},y=()=>{this.jsPsych.pluginAPI.clearAllTimeouts(),this.jsPsych.pluginAPI.cancelPreloads(),e.innerHTML=t.error_message,t.show_detailed_errors&&(e.innerHTML+="<p><strong>Error details:</strong></p>",a.forEach((t=>{e.innerHTML+=t})))},_=()=>{this.jsPsych.pluginAPI.clearAllTimeouts();var t={success:n,timeout:r,failed_images:i,failed_audio:s,failed_video:o};e.innerHTML="",this.jsPsych.finishTrial(t)};null!==t.max_load_time&&this.jsPsych.pluginAPI.setTimeout((()=>{this.jsPsych.pluginAPI.cancelPreloads(),void 0===n||!1!==n&&null!==n||(r=!0,I<b&&(n=!1),k("timeout"),a.push("<p><strong>Loading timed out.</strong><br>Consider compressing your stimuli files, loading your files in smaller batches,<br>and/or increasing the <i>max_load_time</i> parameter.</p>"),t.continue_after_error?_():y())}),t.max_load_time);var b=c.length+l.length+h.length,w=0,I=0;if(0==b)v();else{const e=e=>{this.jsPsych.pluginAPI.preloadVideo(h,e,T,E)},t=e=>{this.jsPsych.pluginAPI.preloadAudio(l,e,T,E)},n=e=>{this.jsPsych.pluginAPI.preloadImages(c,e,T,E)};h.length>0&&e((()=>{})),l.length>0&&t((()=>{})),c.length>0&&n((()=>{}))}function E(e){m(),null==n&&(n=!1);var r="unknown file";e.source&&(r=e.source),e.error&&e.error.path&&e.error.path.length>0&&("img"==e.error.path[0].localName?i.push(r):"audio"==e.error.path[0].localName?s.push(r):"video"==e.error.path[0].localName&&o.push(r));var u="<p><strong>Error loading file: "+r+"</strong><br>";e.error.statusText&&(u+="File request response status: "+e.error.statusText+"<br>"),"404"==e.error&&(u+="404 - file not found.<br>"),void 0!==e.error.loaded&&null!==e.error.loaded&&0!==e.error.loaded?u+=e.error.loaded+" bytes transferred.":u+="File did not begin loading. Check that file path is correct and reachable by the browser,<br>and that loading is not blocked by cross-origin resource sharing (CORS) errors.",u+="</p>",a.push(u),k(r),w==b&&(t.continue_after_error?_():y())}function T(e){m(),function(e){null!==t.on_success&&t.on_success(e)}(e),++I==b?v():w==b&&(t.continue_after_error?_():y())}function k(e){null!==t.on_error&&t.on_error(e)}}simulate(e,t,n,r){"data-only"==t&&(r(),this.simulate_data_only(e,n)),"visual"==t&&this.simulate_visual(e,n,r)}create_simulation_data(e,t){return this.jsPsych.pluginAPI.mergeSimulationData({success:!0,timeout:!1,failed_images:[],failed_audio:[],failed_video:[]},t)}simulate_data_only(e,t){const n=this.create_simulation_data(e,t);this.jsPsych.finishTrial(n)}simulate_visual(e,t,n){const r=this.jsPsych.getDisplayElement();this.trial(r,e),n()}}de.info=he;var fe=["assets/rating_stimuli/284 12 05 05 0001.jpeg","assets/rating_stimuli/284 12 05 05 0008.jpeg","assets/rating_stimuli/291 12 06 14 0006.jpeg","assets/rating_stimuli/292 12 06 14 0006.jpeg","assets/rating_stimuli/301 12 09 20 07.jpeg","assets/rating_stimuli/301 12 09 20 09.jpeg","assets/rating_stimuli/434 210912 03.jpeg","assets/rating_stimuli/438 220917 07.jpeg","assets/rating_stimuli/438 220917 09.jpeg","assets/rating_stimuli/439 220920 04.jpeg","assets/rating_stimuli/439 220920 07.jpeg","assets/rating_stimuli/440 220926 06.jpeg","assets/rating_stimuli/442 220928 01.jpeg","assets/rating_stimuli/442 220928 05.jpeg","assets/rating_stimuli/446 221203 03.jpeg","assets/rating_stimuli/446 221203 04.jpeg","assets/rating_stimuli/446 221203 09.jpeg","assets/rating_stimuli/446 221203 10.jpeg","assets/rating_stimuli/449 221204 04.jpeg","assets/rating_stimuli/130918 311 05.jpeg","assets/rating_stimuli/130918 311 07.jpeg","assets/rating_stimuli/130918 311 09.jpeg","assets/rating_stimuli/130918 314 05.jpeg","assets/rating_stimuli/131117 315 10.jpeg","assets/rating_stimuli/131117 316 06.jpeg","assets/rating_stimuli/131117 316 08.jpeg","assets/rating_stimuli/131117 321 10.jpeg","assets/rating_stimuli/140923 325 06.jpeg","assets/rating_stimuli/140923 325 08.jpeg","assets/rating_stimuli/140927 329 07.jpeg","assets/rating_stimuli/140927 329 08.jpeg","assets/rating_stimuli/140929 332 07.jpeg","assets/rating_stimuli/140929 332 09.jpeg","assets/rating_stimuli/140929 333 01.jpeg","assets/rating_stimuli/150514 338 10.jpeg","assets/rating_stimuli/150514 339 08.jpeg","assets/rating_stimuli/150518 347 07.jpeg","assets/rating_stimuli/150518 348 10.jpeg","assets/rating_stimuli/151201 362 10.jpeg","assets/rating_stimuli/151201 363 04.jpeg","assets/rating_stimuli/160509 368 10.jpeg","assets/rating_stimuli/160509 369 01.jpeg","assets/rating_stimuli/160509 369 04.jpeg","assets/rating_stimuli/160509 369 05.jpeg","assets/rating_stimuli/180501 387 04.jpeg","assets/rating_stimuli/180501 387 06.jpeg","assets/rating_stimuli/180610 392 06.jpeg","assets/rating_stimuli/180610 392 07.jpeg","assets/rating_stimuli/180621 397 08.jpeg","assets/rating_stimuli/180621 398 03.jpeg","assets/rating_stimuli/180810 403 08.jpeg","assets/rating_stimuli/180810 404 05.jpeg","assets/rating_stimuli/180813 405 09.jpeg","assets/rating_stimuli/180813 407 06.jpeg","assets/rating_stimuli/180814 407 10.jpeg","assets/rating_stimuli/180814 408 01.jpeg","assets/rating_stimuli/180814 408 04.jpeg","assets/rating_stimuli/180814 408 06.jpeg","assets/rating_stimuli/181214 410 01.jpeg","assets/rating_stimuli/181214 410 04.jpeg","assets/rating_stimuli/181214 411 01.jpeg","assets/rating_stimuli/181214 411 08.jpeg","assets/rating_stimuli/181214 412 04.jpeg","assets/rating_stimuli/181214 412 06.jpeg","assets/rating_stimuli/190415 413 01.jpeg","assets/rating_stimuli/190415 413 04.jpeg","assets/rating_stimuli/190418 417 05.jpeg","assets/rating_stimuli/190609 421 01.jpeg","assets/rating_stimuli/190609 421 07.jpeg","assets/rating_stimuli/190609 422 10.jpeg","assets/rating_stimuli/190609 423 06.jpeg","assets/rating_stimuli/BQECR 2.jpeg","assets/rating_stimuli/BQECR 5.jpeg","assets/rating_stimuli/Hobrigg Switzerland 1.jpeg","assets/rating_stimuli/Hobrigg Switzerland 3.jpeg","assets/rating_stimuli/IMG_1017.jpeg","assets/rating_stimuli/IMG_1561.jpeg","assets/rating_stimuli/IMG_1849.jpeg","assets/rating_stimuli/IMG_1858.jpeg","assets/rating_stimuli/IMG_2833.jpeg","assets/rating_stimuli/IMG_2835.jpeg","assets/rating_stimuli/IMG_3833.jpeg","assets/rating_stimuli/IMG_3836.jpeg","assets/rating_stimuli/IMG_8438.jpeg","assets/rating_stimuli/IMG_8761.jpeg","assets/rating_stimuli/IMG_8767.jpeg","assets/rating_stimuli/IMG_8847.jpeg","assets/rating_stimuli/IMG_8851.jpeg","assets/rating_stimuli/IMG_8862.jpeg","assets/rating_stimuli/IMG_9188.jpeg","assets/rating_stimuli/IMG_9190.jpeg","assets/rating_stimuli/IMG_9194.jpeg","assets/rating_stimuli/IMG_9203.jpeg","assets/rating_stimuli/IMG_9238.jpeg","assets/rating_stimuli/IMG_9240.jpeg","assets/rating_stimuli/P4180746.jpeg","assets/rating_stimuli/P9121818.jpeg","assets/rating_stimuli/P9121820.jpeg","assets/rating_stimuli/P9121832.jpeg","assets/rating_stimuli/P9121835.jpeg","assets/rating_stimuli/P9121838.jpeg","assets/rating_stimuli/P9281055.jpeg","assets/rating_stimuli/P9281057.jpeg","assets/rating_stimuli/P9290012.jpeg","assets/rating_stimuli/P9290019.jpeg","assets/rating_stimuli/PB272272.jpeg","assets/rating_stimuli/PB272275.jpeg","assets/rating_stimuli/PC081393.jpeg","assets/rating_stimuli/PC081394.jpeg","assets/rating_stimuli/PC081397.jpeg","assets/rating_stimuli/PC091410.jpeg","assets/rating_stimuli/PC130318.jpeg","assets/rating_stimuli/PC130349.jpeg","assets/rating_stimuli/PC130351.jpeg","assets/rating_stimuli/PC130359.jpeg","assets/rating_stimuli/PC130374.jpeg","assets/rating_stimuli/PC130387.jpeg","assets/rating_stimuli/PC150535.jpeg","assets/rating_stimuli/PC150537.jpeg","assets/rating_stimuli/PC150540.jpeg","assets/rating_stimuli/PC150557.jpeg","assets/rating_stimuli/PG 120 090219 Roll 0027 Frame 1.jpeg","assets/rating_stimuli/PG 120 090219 Roll 0027 Frame 2.jpeg"],pe=["assets/rating_stimuli/PG 120 090219 Roll 0027 Frame 7.jpeg","assets/rating_stimuli/PG 120 090219 Roll 0027 Frame 9.jpeg","assets/rating_stimuli/PG 120 090221 Roll 0032 Frame 1.jpeg","assets/rating_stimuli/PG 120 090221 Roll 0032 Frame 3.jpeg","assets/rating_stimuli/PG 120 090317 Roll 0050 Frame 2.jpeg","assets/rating_stimuli/PG 120 090317 Roll 0051 Frame 10.jpeg","assets/rating_stimuli/PG 120 090512 Roll 00067 Frame 5.jpeg","assets/rating_stimuli/PG 120 090516 Roll 00079 Frame 8.jpeg","assets/rating_stimuli/PG 120 090516 Roll 00079 Frame 9.jpeg","assets/rating_stimuli/PG 120 090516 Roll 00080 Frame 3.jpeg","assets/rating_stimuli/PG 120 090516 Roll 00080 Frame 7.jpeg","assets/rating_stimuli/PG 120 090518 Roll 0098 Frame 3.jpeg","assets/rating_stimuli/PG 120 090518 Roll 0098 Frame 4.jpeg","assets/rating_stimuli/PG 120 090623 Roll 00123 Frame 1.jpeg","assets/rating_stimuli/PG 120 090623 Roll 00123 Frame 7.jpeg","assets/rating_stimuli/PG 120 090624 Roll 00126 Frame 5.jpeg","assets/rating_stimuli/PG 120 090624 Roll 00126 Frame 6.jpeg","assets/rating_stimuli/PG 120 090624 Roll 00133 Frame 7.jpeg","assets/rating_stimuli/PG 120 090624 Roll 00133 Frame 8.jpeg","assets/rating_stimuli/PG 120 090624 Roll 00134 Frame 1.jpeg","assets/rating_stimuli/PG 120 090624 Roll 00134 Frame 2.jpeg","assets/rating_stimuli/PG 120 090625 Roll 00135 Frame 7.jpeg","assets/rating_stimuli/PG 120 090625 Roll 00137 Frame 2.jpeg","assets/rating_stimuli/PG 120 090802 Roll 00157 Frame 4.jpeg","assets/rating_stimuli/PG 120 090802 Roll 00157 Frame 6.jpeg","assets/rating_stimuli/PG 120 090829 Roll 00158 Frame 1.jpeg","assets/rating_stimuli/PG 120 090829 Roll 00158 Frame 8.jpeg","assets/rating_stimuli/PG 120 091010 Roll 00159 Frame 6.jpeg","assets/rating_stimuli/PG 120 091010 Roll 00159 Frame 7.jpeg","assets/rating_stimuli/PG 120 091010 Roll 00161 Frame 2.jpeg","assets/rating_stimuli/PG 120 091010 Roll 00162 Frame 2.jpeg","assets/rating_stimuli/PG 120 100515 Roll 00188 Frame 2.jpeg","assets/rating_stimuli/PG 120 100515 Roll 00188 Frame 4.jpeg","assets/rating_stimuli/PG 120 100529 Roll 00189 Frame 8.jpeg","assets/rating_stimuli/PG 120 100529 Roll 00191 Frame 6.jpeg","assets/rating_stimuli/PG 120 100529 Roll 00192 Frame 1.jpeg","assets/rating_stimuli/PG 120 100529 Roll 00192 Frame 10.jpeg","assets/rating_stimuli/PG 120 100529 Roll 00193 Frame 8.jpeg","assets/rating_stimuli/PG 120 100529 Roll 00193 Frame 10.jpeg","assets/rating_stimuli/PG 120 100802 Roll 00207 Frame 2.jpeg","assets/rating_stimuli/PG 120 100802 Roll 00207 Frame 10.jpeg","assets/rating_stimuli/PG 120 110601 Roll 00242 Frame 2.jpeg","assets/rating_stimuli/PG 120 110601 Roll 00243 Frame 10.jpeg","assets/rating_stimuli/PG 120 110612 Roll 00247 Frame 4.jpeg","assets/rating_stimuli/PG 120 110612 Roll 00250 Frame 1.jpeg","assets/rating_stimuli/PG 120 110703 Roll 00259 Frame 3.jpeg","assets/rating_stimuli/PG 120 110703 Roll 00259 Frame 5.jpeg","assets/rating_stimuli/PG 120 140929 Roll 00332 Frame 10 (1).jpeg","assets/rating_stimuli/PG 2003 09 00805.jpeg","assets/rating_stimuli/PG 2003 09 00817.jpeg","assets/rating_stimuli/PG 2004 04 00429.jpeg","assets/rating_stimuli/PG 2004 04 00441.jpeg","assets/rating_stimuli/PG 2004 09 01184.jpeg","assets/rating_stimuli/PG 2005 05 00216.jpeg","assets/rating_stimuli/PG 2005 05 00227.jpeg","assets/rating_stimuli/PG 2005 10 00729.jpeg","assets/rating_stimuli/PG 2005 10 00747.jpeg","assets/rating_stimuli/PG 2005 10 00750.jpeg","assets/rating_stimuli/PG 2007 07 00622.jpeg","assets/rating_stimuli/PG 2007 07 00655.jpeg","assets/rating_stimuli/PG 2007 07 00941.jpeg","assets/rating_stimuli/PG 2007 07 00952.jpeg","assets/rating_stimuli/PG 2007-07-20 0366.jpeg","assets/rating_stimuli/PG 2007-07-20 0373.jpeg","assets/rating_stimuli/PG 2007-07-20 0375.jpeg","assets/rating_stimuli/PG 2007-07-20 0407.jpeg","assets/rating_stimuli/PG 2007-07-20 0434.jpeg","assets/rating_stimuli/PG 2007-07-22 0481.jpeg","assets/rating_stimuli/PG 2007-07-24 0521.jpeg","assets/rating_stimuli/PG 2007-07-24 0530.jpeg","assets/rating_stimuli/PG 2007-08-26 1490.jpeg","assets/rating_stimuli/PG 2007-08-26 1523.jpeg","assets/rating_stimuli/PG 2007-10-06 1671.jpeg","assets/rating_stimuli/PG 2007-10-06 1673.jpeg","assets/rating_stimuli/PG 2007-10-06 1689.jpeg","assets/rating_stimuli/PG 2008 02 00419.jpeg","assets/rating_stimuli/PG 2008 02 00483.jpeg","assets/rating_stimuli/PG 2008 02 00936.jpeg","assets/rating_stimuli/PG 2008 02 00946.jpeg","assets/rating_stimuli/PG 2008 02 01138.jpeg","assets/rating_stimuli/PG 2008 02 01220.jpeg","assets/rating_stimuli/PG 2008 02 01255.jpeg","assets/rating_stimuli/PG 2008 02 01270.jpeg","assets/rating_stimuli/PG 2008 02 01289.jpeg","assets/rating_stimuli/PG 2008 02 01323.jpeg","assets/rating_stimuli/PG 2008 03 01534.jpeg","assets/rating_stimuli/PG 2008 03 01549.jpeg","assets/rating_stimuli/PG 2008 05 01859.jpeg","assets/rating_stimuli/PG 2008 06 01975.jpeg","assets/rating_stimuli/PG 2008 06 02022.jpeg","assets/rating_stimuli/PG 2008 06 02028.jpeg","assets/rating_stimuli/PG 2008 06 02099.jpeg","assets/rating_stimuli/PG 2008 06 02101.jpeg","assets/rating_stimuli/PG 2008 06 02181.jpeg","assets/rating_stimuli/PG 2008 06 02195.jpeg","assets/rating_stimuli/PG 2008 06 02373.jpeg","assets/rating_stimuli/PG 2008 06 02392.jpeg","assets/rating_stimuli/PG 2008-09-19 03635.jpeg","assets/rating_stimuli/PG 2008-12-26 06471.jpeg","assets/rating_stimuli/PG 2009-05-04 00778.jpeg","assets/rating_stimuli/PG 2009-05-04 00826.jpeg","assets/rating_stimuli/Rocky Creek 1.jpeg","assets/rating_stimuli/Rocky Creek 4.jpeg","assets/rating_stimuli/280 12 05 01 0002.jpeg","assets/rating_stimuli/281 12 05 01 0003.jpeg","assets/rating_stimuli/281 12 05 01 0010.jpeg","assets/rating_stimuli/283 12 05 01 0003.jpeg","assets/rating_stimuli/304 12 09 20 01.jpeg","assets/rating_stimuli/304 12 09 20 05.jpeg","assets/rating_stimuli/304 12 09 20 09.jpeg","assets/rating_stimuli/305 12 09 20 01.jpeg","assets/rating_stimuli/306 12 09 20 01.jpeg","assets/rating_stimuli/306 12 09 20 07.jpeg","assets/rating_stimuli/306 12 09 20 09.jpeg","assets/rating_stimuli/306 12 09 20 10.jpeg","assets/rating_stimuli/PG 120 090205 Roll 0019 Frame 1.jpeg","assets/rating_stimuli/PG 120 090205 Roll 0019 Frame 2.jpeg","assets/rating_stimuli/PG 120 090205 Roll 0019 Frame 5.jpeg","assets/rating_stimuli/PG 120 090608 Roll 00121 Frame 10.jpeg","assets/rating_stimuli/PG 2008 07 02805.jpeg","assets/rating_stimuli/PG 2008 07 02842.jpeg","assets/rating_stimuli/PG 2008 07 02939.jpeg","assets/rating_stimuli/PG 2008 07 02954.jpeg"];const ge=function(e,t){if(!e)throw me(t)},me=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},ve=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],s=t+1<e.length,o=s?e[t+1]:0,a=t+2<e.length,u=a?e[t+2]:0,c=i>>2,l=(3&i)<<4|o>>4;let h=(15&o)<<2|u>>6,d=63&u;a||(d=64,s||(h=64)),r.push(n[c],n[l],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ve(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0;++t;const o=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==o||null==a)throw new _e;const u=i<<2|s>>4;if(r.push(u),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class _e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const be=function(e){const t=ve(e);return ye.encodeByteArray(t,!0)},we=function(e){return be(e).replace(/\./g,"")},Ie=function(e){try{return ye.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ee(e){return Te(void 0,e)}function Te(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Te(e[n],t[n]));return e}const ke=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&Ie(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},Pe=e=>{var t,n;return null===(n=null===(t=ke())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Se=e=>{const t=Pe(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},xe=()=>{var e;return null===(e=ke())||void 0===e?void 0:e.config},je=e=>{var t;return null===(t=ke())||void 0===t?void 0:t[`_${e}`]};class Ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Re(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Oe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function Ae(){return"object"==typeof navigator&&"ReactNative"===navigator.product}class Ne extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Le.prototype.create)}}class Le{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(Me,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new Ne(r,o,n)}}const Me=/\{\$([^}]+)}/g;function De(e){return JSON.parse(e)}function Fe(e){return JSON.stringify(e)}const Ue=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=De(Ie(s[0])||""),n=De(Ie(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}};function Ge(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qe(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function ze(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Be(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function We(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Ve(n)&&Ve(s)){if(!We(n,s))return!1}else if(n!==s)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function Ve(e){return null!==e&&"object"==typeof e}function He(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ke(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function $e(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Ye{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=4294967295&(t<<1|t>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],u=this.chain_[3],c=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(r=u^o&(a^u),i=1518500249):(r=o^a^u,i=1859775393):e<60?(r=o&a|u&(o|a),i=2400959708):(r=o^a^u,i=3395469782);const t=(s<<5|s>>>27)+r+c+i+n[e]&4294967295;c=u,u=a,a=4294967295&(o<<30|o>>>2),o=s,s=t}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let r=24;r>=0;r-=8)e[n]=this.chain_[t]>>r&255,++n;return e}}class Je{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Qe),void 0===r.error&&(r.error=Qe),void 0===r.complete&&(r.complete=Qe);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Qe(){}function Xe(e,t){return`${e} failed: ${t} argument `}const Ze=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function et(e){return e&&e._delegate?e._delegate:e}class tt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const nt="[DEFAULT]";class rt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ce;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:nt})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=nt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=nt){return this.instances.has(e)}getOptions(e=nt){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===nt?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e=nt){return this.component?this.component.multipleInstances?e:nt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class it{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new rt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const st=[];var ot;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ot||(ot={}));const at={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},ut=ot.INFO,ct={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},lt=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=ct[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class ht{constructor(e){this.name=e,this._logLevel=ut,this._logHandler=lt,this._userLogHandler=null,st.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?at[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const dt=(e,t)=>t.some((t=>e instanceof t));let ft,pt;const gt=new WeakMap,mt=new WeakMap,vt=new WeakMap,yt=new WeakMap,_t=new WeakMap;let bt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return mt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||vt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return It(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function wt(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(pt||(pt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(Et(this),e),It(gt.get(this))}:function(...e){return It(t.apply(Et(this),e))}:function(e,...n){const r=t.call(Et(this),e,...n);return vt.set(r,e.sort?e.sort():[e]),It(r)}:(e instanceof IDBTransaction&&function(e){if(mt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));mt.set(e,t)}(e),dt(e,ft||(ft=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,bt):e);var t}function It(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(It(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&gt.set(t,e)})).catch((()=>{})),_t.set(t,e),t}(e);if(yt.has(e))return yt.get(e);const t=wt(e);return t!==e&&(yt.set(e,t),_t.set(t,e)),t}const Et=e=>_t.get(e),Tt=["get","getKey","getAll","getAllKeys","count"],kt=["put","add","delete","clear"],Pt=new Map;function St(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Pt.get(t))return Pt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=kt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Tt.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,i?"readwrite":"readonly");let o=s.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&s.done]))[0]};return Pt.set(t,s),s}var xt;xt=bt,bt={...xt,get:(e,t,n)=>St(e,t)||xt.get(e,t,n),has:(e,t)=>!!St(e,t)||xt.has(e,t)};class jt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Ct="@firebase/app",Rt="0.9.10",Ot=new ht("@firebase/app"),At="[DEFAULT]",Nt={[Ct]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Lt=new Map,Mt=new Map;function Dt(e,t){try{e.container.addComponent(t)}catch(n){Ot.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ft(e){const t=e.name;if(Mt.has(t))return Ot.debug(`There were multiple attempts to register component ${t}.`),!1;Mt.set(t,e);for(const t of Lt.values())Dt(t,e);return!0}function Ut(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Gt=new Le("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class qt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new tt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gt.create("app-deleted",{appName:this._name})}}const zt="9.22.0";function Bt(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:At,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw Gt.create("bad-app-name",{appName:String(i)});if(n||(n=xe()),!n)throw Gt.create("no-options");const s=Lt.get(i);if(s){if(We(n,s.options)&&We(r,s.config))return s;throw Gt.create("duplicate-app",{appName:i})}const o=new it(i);for(const e of Mt.values())o.addComponent(e);const a=new qt(n,r,o);return Lt.set(i,a),a}function Wt(e=At){const t=Lt.get(e);if(!t&&e===At&&xe())return Bt();if(!t)throw Gt.create("no-app",{appName:e});return t}function Vt(e,t,n){var r;let i=null!==(r=Nt[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Ot.warn(e.join(" "))}Ft(new tt(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Ht="firebase-heartbeat-database",Kt=1,$t="firebase-heartbeat-store";let Yt=null;function Jt(){return Yt||(Yt=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=It(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(It(o.result),e.oldVersion,e.newVersion,It(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Ht,Kt,{upgrade:(e,t)=>{0===t&&e.createObjectStore($t)}}).catch((e=>{throw Gt.create("idb-open",{originalErrorMessage:e.message})}))),Yt}async function Qt(e,t){try{const n=(await Jt()).transaction($t,"readwrite"),r=n.objectStore($t);await r.put(t,Xt(e)),await n.done}catch(e){if(e instanceof Ne)Ot.warn(e.message);else{const t=Gt.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});Ot.warn(t.message)}}}function Xt(e){return`${e.name}!${e.options.appId}`}class Zt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new tn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=en();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=en(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),nn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=we(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function en(){return(new Date).toISOString().substring(0,10)}class tn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})).then((()=>!0)).catch((()=>!1))}async read(){return await this._canUseIndexedDBPromise&&await async function(e){try{const t=await Jt();return await t.transaction($t).objectStore($t).get(Xt(e))}catch(e){if(e instanceof Ne)Ot.warn(e.message);else{const t=Gt.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});Ot.warn(t.message)}}}(this.app)||{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Qt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Qt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function nn(e){return we(JSON.stringify({version:2,heartbeats:e})).length}Ft(new tt("platform-logger",(e=>new jt(e)),"PRIVATE")),Ft(new tt("heartbeat",(e=>new Zt(e)),"PRIVATE")),Vt(Ct,Rt,""),Vt(Ct,Rt,"esm2017"),Vt("fire-js",""),Vt("firebase","9.22.0","app");const rn="@firebase/database",sn="0.14.4";let on="";class an{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Fe(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:De(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class un{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ge(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const cn=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new an(t)}}catch(e){}return new un},ln=cn("localStorage"),hn=cn("sessionStorage"),dn=new ht("@firebase/database"),fn=function(){let e=1;return function(){return e++}}(),pn=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,ge(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Ye;n.update(t);const r=n.digest();return ye.encodeByteArray(r)},gn=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=gn.apply(null,r):t+="object"==typeof r?Fe(r):r,t+=" "}return t};let mn=null,vn=!0;const yn=function(...e){if(!0===vn&&(vn=!1,null===mn&&!0===hn.get("logging_enabled")&&(t=!0,ge(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(dn.logLevel=ot.VERBOSE,mn=dn.log.bind(dn),n&&hn.set("logging_enabled",!0)):"function"==typeof t?mn=t:(mn=null,hn.remove("logging_enabled")))),mn){const t=gn.apply(null,e);mn(t)}var t,n},_n=function(e){return function(...t){yn(e,...t)}},bn=function(...e){const t="FIREBASE INTERNAL ERROR: "+gn(...e);dn.error(t)},wn=function(...e){const t=`FIREBASE FATAL ERROR: ${gn(...e)}`;throw dn.error(t),new Error(t)},In=function(...e){const t="FIREBASE WARNING: "+gn(...e);dn.warn(t)},En=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Tn="[MIN_NAME]",kn="[MAX_NAME]",Pn=function(e,t){if(e===t)return 0;if(e===Tn||t===kn)return-1;if(t===Tn||e===kn)return 1;{const n=Nn(e),r=Nn(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Sn=function(e,t){return e===t?0:e<t?-1:1},xn=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Fe(t))},jn=function(e){if("object"!=typeof e||null===e)return Fe(e);const t=[];for(const n in e)t.push(n);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Fe(t[r]),n+=":",n+=jn(e[t[r]]);return n+="}",n},Cn=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Rn(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const On=function(e){ge(!En(e),"Invalid JSON number");let t,n,r,i,s;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=i+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));const o=[];for(s=52;s;s-=1)o.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(t?1:0),o.reverse();const a=o.join("");let u="";for(s=0;s<64;s+=8){let e=parseInt(a.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),u+=e}return u.toLowerCase()},An=new RegExp("^-?(0*)\\d{1,10}$"),Nn=function(e){if(An.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Ln=function(e){try{e()}catch(e){setTimeout((()=>{const t=e.stack||"";throw In("Exception was thrown by user callback.",t),e}),Math.floor(0))}},Mn=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class Dn{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){In(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Fn{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(yn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',In(e)}}class Un{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Un.OWNER="owner";const Gn="5",qn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,zn="ac",Bn="websocket",Wn="long_polling";class Vn{constructor(e,t,n,r,i=!1,s="",o=!1,a=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ln.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ln.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function Hn(e,t,n){let r;if(ge("string"==typeof t,"typeof type must == string"),ge("object"==typeof n,"typeof params must == object"),t===Bn)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Wn)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return Rn(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class Kn{constructor(){this.counters_={}}incrementCounter(e,t=1){Ge(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Ee(this.counters_)}}const $n={},Yn={};function Jn(e){const t=e.toString();return $n[t]||($n[t]=new Kn),$n[t]}class Qn{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Ln((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Xn="start";class Zn{constructor(e,t,n,r,i,s,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_n(e),this.stats_=Jn(t),this.urlFn=e=>(this.appCheckToken&&(e[zn]=this.appCheckToken),Hn(t,Wn,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Qn(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new er(((...e)=>{const[t,n,r,i,s]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===Xn)this.id=n,this.password=r;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[Xn]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Gn,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[zn]=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&qn.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Zn.forceAllow_=!0}static forceDisallow(){Zn.forceDisallow_=!0}static isAvailable(){return!(!Zn.forceAllow_&&(Zn.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Fe(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=be(t),r=Cn(n,1840);for(let e=0;e<r.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[e]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Fe(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class er{constructor(e,t,n,r){this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=fn(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=er.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(n='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(e){yn("frame writing exception"),e.stack&&yn(e.stack),yn(e)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||yn("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{yn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(e){}}),Math.floor(1))}}let tr=null;"undefined"!=typeof MozWebSocket?tr=MozWebSocket:"undefined"!=typeof WebSocket&&(tr=WebSocket);class nr{constructor(e,t,n,r,i,s,o){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_n(this.connId),this.stats_=Jn(t),this.connURL=nr.connectionURL_(t,s,o,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const s={};return s.v=Gn,"undefined"!=typeof location&&location.hostname&&qn.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),r&&(s[zn]=r),i&&(s.p=i),Hn(e,Bn,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ln.set("previous_websocket_failure",!0);try{let e;0,this.mySock=new tr(this.connURL,[],e)}catch(e){this.log_("Error instantiating WebSocket.");const t=e.message||e.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){nr.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==tr&&!nr.forceDisallow_}static previouslyFailed(){return ln.isInMemoryStorage||!0===ln.get("previous_websocket_failure")}markConnectionHealthy(){ln.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=De(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ge(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Fe(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Cn(t,16384);n.length>1&&this.sendString_(String(n.length));for(let e=0;e<n.length;e++)this.sendString_(n[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}nr.responsesRequiredToBeHealthy=2,nr.healthyTimeout=3e4;class rr{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Zn,nr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=nr&&nr.isAvailable();let n=t&&!nr.previouslyFailed();if(e.webSocketOnly&&(t||In("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[nr];else{const e=this.transports_=[];for(const t of rr.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);rr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}rr.globalTransportInitialized_=!1;class ir{constructor(e,t,n,r,i,s,o,a,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_n("c:"+this.id+":"),this.transportManager_=new rr(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Mn((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=xn("t",e),n=xn("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=xn("t",e),n=xn("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=xn("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?bn("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bn("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Gn!==n&&In("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Mn((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Mn((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ln.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class sr{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class or{constructor(e){this.allowedEvents_=e,this.listeners_={},ge(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let e=0;e<r.length;e++)if(r[e].callback===t&&(!n||n===r[e].context))return void r.splice(e,1)}validateEventType_(e){ge(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class ar extends or{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Oe()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new ar}getInitialEvent(e){return ge("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class ur{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function cr(){return new ur("")}function lr(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function hr(e){return e.pieces_.length-e.pieceNum_}function dr(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ur(e.pieces_,t)}function fr(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function pr(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function gr(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ur(t,0)}function mr(e,t){const n=[];for(let t=e.pieceNum_;t<e.pieces_.length;t++)n.push(e.pieces_[t]);if(t instanceof ur)for(let e=t.pieceNum_;e<t.pieces_.length;e++)n.push(t.pieces_[e]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new ur(n,0)}function vr(e){return e.pieceNum_>=e.pieces_.length}function yr(e,t){const n=lr(e),r=lr(t);if(null===n)return t;if(n===r)return yr(dr(e),dr(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function _r(e,t){if(hr(e)!==hr(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function br(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(hr(e)>hr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class wr{constructor(e,t){this.errorPrefix_=t,this.parts_=pr(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let e=0;e<this.parts_.length;e++)this.byteLength_+=Ze(this.parts_[e]);Ir(this)}}function Ir(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Er(e))}function Er(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Tr extends or{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new Tr}getInitialEvent(e){return ge("visible"===e,"Unknown event type: "+e),[this.visible_]}}const kr=1e3;class Pr extends sr{constructor(e,t,n,r,i,s,o,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.authOverride_=a,this.id=Pr.nextPersistentConnectionId_++,this.log_=_n("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=kr,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Tr.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&ar.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Fe(i)),ge(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Ce,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ge(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const s=i.d,o=i.s;Pr.warnOnListenWarnings_(s,t),(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==o&&this.removeListen_(n,r),e.onComplete&&e.onComplete(o,s))}))}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&Ge(e,"w")){const n=qe(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();In(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=Ue(e).claims;return"object"==typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=Ue(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const s={p:t,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Fe(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):bn("Unrecognized action received from server: "+Fe(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ge(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=kr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=kr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=kr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Pr.nextConnectionId_++,i=this.lastSessionId;let s=!1,o=null;const a=function(){o?o.close():(s=!0,n())},u=function(e){ge(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)};this.realtime_={close:a,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,u]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?yn("getToken() completed but was canceled"):(yn("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=u&&u.token,o=new ir(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{In(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(e){this.log_("Failed to get token: "+e),s||(this.repoInfo_.nodeAdmin&&In(e),a())}}}interrupt(e){yn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){yn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ze(this.interruptReasons_)&&(this.reconnectDelay_=kr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>jn(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new ur(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){yn("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){yn("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+on.replace(/\./g,"-")]=1,Oe()?e["framework.cordova"]=1:Ae()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ar.getInstance().currentlyOnline();return ze(this.interruptReasons_)&&e}}Pr.nextPersistentConnectionId_=0,Pr.nextConnectionId_=0;class Sr{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Sr(e,t)}}class xr{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Sr(Tn,e),r=new Sr(Tn,t);return 0!==this.compare(n,r)}minPost(){return Sr.MIN}}let jr;class Cr extends xr{static get __EMPTY_NODE(){return jr}static set __EMPTY_NODE(e){jr=e}compare(e,t){return Pn(e.name,t.name)}isDefinedOn(e){throw me("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Sr.MIN}maxPost(){return new Sr(kn,jr)}makePost(e,t){return ge("string"==typeof e,"KeyIndex indexValue must always be a string."),new Sr(e,jr)}toString(){return".key"}}const Rr=new Cr;class Or{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ar{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ar.RED,this.left=null!=r?r:Nr.EMPTY_NODE,this.right=null!=i?i:Nr.EMPTY_NODE}copy(e,t,n,r,i){return new Ar(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Nr.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Nr.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ar.RED=!0,Ar.BLACK=!1;class Nr{constructor(e,t=Nr.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Nr(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ar.BLACK,null,null))}remove(e){return new Nr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ar.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Or(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Or(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Or(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Or(this.root_,null,this.comparator_,!0,e)}}function Lr(e,t){return Pn(e.name,t.name)}function Mr(e,t){return Pn(e,t)}let Dr;Nr.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new Ar(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Fr=function(e){return"number"==typeof e?"number:"+On(e):"string:"+e},Ur=function(e){if(e.isLeafNode()){const t=e.val();ge("string"==typeof t||"number"==typeof t||"object"==typeof t&&Ge(t,".sv"),"Priority must be a string or number.")}else ge(e===Dr||e.isEmpty(),"priority of unexpected type.");ge(e===Dr||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Gr,qr,zr;class Br{constructor(e,t=Br.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ge(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ur(this.priorityNode_)}static set __childrenNodeConstructor(e){Gr=e}static get __childrenNodeConstructor(){return Gr}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Br(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Br.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return vr(e)?this:".priority"===lr(e)?this.priorityNode_:Br.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Br.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=lr(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(ge(".priority"!==n||1===hr(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Br.__childrenNodeConstructor.EMPTY_NODE.updateChild(dr(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Fr(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?On(this.value_):this.value_,this.lazyHash_=pn(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Br.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Br.__childrenNodeConstructor?-1:(ge(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Br.VALUE_TYPE_ORDER.indexOf(t),i=Br.VALUE_TYPE_ORDER.indexOf(n);return ge(r>=0,"Unknown leaf type: "+t),ge(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Br.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Wr=new class extends xr{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Pn(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Sr.MIN}maxPost(){return new Sr(kn,new Br("[PRIORITY-POST]",zr))}makePost(e,t){const n=qr(e);return new Sr(t,new Br("[PRIORITY-POST]",n))}toString(){return".priority"}},Vr=Math.log(2);class Hr{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Vr,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Kr=function(e,t,n,r){e.sort(t);const i=function(t,r){const s=r-t;let o,a;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new Ar(a,o.node,Ar.BLACK,null,null);{const u=parseInt(s/2,10)+t,c=i(t,u),l=i(u+1,r);return o=e[u],a=n?n(o):o,new Ar(a,o.node,Ar.BLACK,c,l)}},s=function(t){let r=null,s=null,o=e.length;const a=function(t,r){const s=o-t,a=o;o-=t;const c=i(s+1,a),l=e[s],h=n?n(l):l;u(new Ar(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(s=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,Ar.BLACK):(a(r,Ar.BLACK),a(r,Ar.RED))}return s}(new Hr(e.length));return new Nr(r||t,s)};let $r;const Yr={};class Jr{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return ge(Yr&&Wr,"ChildrenNode.ts has not been loaded"),$r=$r||new Jr({".priority":Yr},{".priority":Wr}),$r}get(e){const t=qe(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Nr?t:null}hasIndex(e){return Ge(this.indexSet_,e.toString())}addIndex(e,t){ge(e!==Rr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(Sr.Wrap);let s,o=i.getNext();for(;o;)r=r||e.isDefinedOn(o.node),n.push(o),o=i.getNext();s=r?Kr(n,e.getCompare()):Yr;const a=e.toString(),u=Object.assign({},this.indexSet_);u[a]=e;const c=Object.assign({},this.indexes_);return c[a]=s,new Jr(c,u)}addToIndexes(e,t){const n=Be(this.indexes_,((n,r)=>{const i=qe(this.indexSet_,r);if(ge(i,"Missing index implementation for "+r),n===Yr){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(Sr.Wrap);let s=r.getNext();for(;s;)s.name!==e.name&&n.push(s),s=r.getNext();return n.push(e),Kr(n,i.getCompare())}return Yr}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new Sr(e.name,r))),i.insert(e,e.node)}}));return new Jr(n,this.indexSet_)}removeFromIndexes(e,t){const n=Be(this.indexes_,(n=>{if(n===Yr)return n;{const r=t.get(e.name);return r?n.remove(new Sr(e.name,r)):n}}));return new Jr(n,this.indexSet_)}}let Qr;class Xr{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ur(this.priorityNode_),this.children_.isEmpty()&&ge(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Qr||(Qr=new Xr(new Nr(Mr),null,Jr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qr}updatePriority(e){return this.children_.isEmpty()?this:new Xr(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Qr:t}}getChild(e){const t=lr(e);return null===t?this:this.getImmediateChild(t).getChild(dr(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(ge(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Sr(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const s=r.isEmpty()?Qr:this.priorityNode_;return new Xr(r,s,i)}}updateChild(e,t){const n=lr(e);if(null===n)return t;{ge(".priority"!==lr(e)||1===hr(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(dr(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(Wr,((s,o)=>{t[s]=o.val(e),n++,i&&Xr.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Fr(this.getPriority().val())+":"),this.forEachChild(Wr,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":pn(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Sr(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Sr(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Sr(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,Sr.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,Sr.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Zr?-1:0}withIndex(e){if(e===Rr||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Xr(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Rr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Wr),n=t.getIterator(Wr);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===Rr?null:this.indexMap_.get(e.toString())}}Xr.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Zr=new class extends Xr{constructor(){super(new Nr(Mr),Xr.EMPTY_NODE,Jr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Xr.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Sr,{MIN:{value:new Sr(Tn,Xr.EMPTY_NODE)},MAX:{value:new Sr(kn,Zr)}}),Cr.__EMPTY_NODE=Xr.EMPTY_NODE,Br.__childrenNodeConstructor=Xr,Dr=Zr,zr=Zr;const ei=!0;function ti(e,t=null){if(null===e)return Xr.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),ge(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Br(e,ti(t));if(e instanceof Array||!ei){let n=Xr.EMPTY_NODE;return Rn(e,((t,r)=>{if(Ge(e,t)&&"."!==t.substring(0,1)){const e=ti(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(ti(t))}{const n=[];let r=!1;if(Rn(e,((e,t)=>{if("."!==e.substring(0,1)){const i=ti(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new Sr(e,i)))}})),0===n.length)return Xr.EMPTY_NODE;const i=Kr(n,Lr,(e=>e.name),Mr);if(r){const e=Kr(n,Wr.getCompare());return new Xr(i,ti(t),new Jr({".priority":e},{".priority":Wr}))}return new Xr(i,ti(t),Jr.Default)}}!function(e){qr=e}(ti);class ni extends xr{constructor(e){super(),this.indexPath_=e,ge(!vr(e)&&".priority"!==lr(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Pn(e.name,t.name):i}makePost(e,t){const n=ti(e),r=Xr.EMPTY_NODE.updateChild(this.indexPath_,n);return new Sr(t,r)}maxPost(){const e=Xr.EMPTY_NODE.updateChild(this.indexPath_,Zr);return new Sr(kn,e)}toString(){return pr(this.indexPath_,0).join("/")}}const ri=new class extends xr{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Pn(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Sr.MIN}maxPost(){return Sr.MAX}makePost(e,t){const n=ti(e);return new Sr(t,n)}toString(){return".value"}};function ii(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class si{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Wr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return ge(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ge(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Tn}hasEnd(){return this.endSet_}getIndexEndValue(){return ge(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ge(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:kn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return ge(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Wr}copy(){const e=new si;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function oi(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Wr?n="$priority":e.index_===ri?n="$value":e.index_===Rr?n="$key":(ge(e.index_ instanceof ni,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Fe(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Fe(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Fe(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Fe(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Fe(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function ai(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Wr&&(t.i=e.index_.toString()),t}class ui extends sr{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=_n("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(ge(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=ui.getListenId_(e,n),o={};this.listens_[s]=o;const a=oi(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),qe(this.listens_,s)===o){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=ui.getListenId_(e,t);delete this.listens_[n]}get(e){const t=oi(e._queryParams),n=e._path.toString(),r=new Ce;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([r,i])=>{r&&r.accessToken&&(t.auth=r.accessToken),i&&i.token&&(t.ac=i.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+He(t);this.log_("Sending REST request for "+s);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&4===o.readyState){this.log_("REST Response for "+s+" received. status:",o.status,"response:",o.responseText);let e=null;if(o.status>=200&&o.status<300){try{e=De(o.responseText)}catch(e){In("Failed to parse JSON response for "+s+": "+o.responseText)}n(null,e)}else 401!==o.status&&404!==o.status&&In("Got unsuccessful REST response for "+s+" Status: "+o.status),n(o.status);n=null}},o.open("GET",s,!0),o.send()}))}}class ci{constructor(){this.rootNode_=Xr.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function li(){return{value:null,children:new Map}}function hi(e,t,n){if(vr(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=lr(t);e.children.has(r)||e.children.set(r,li()),hi(e.children.get(r),t=dr(t),n)}}function di(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{di(r,new ur(t.toString()+"/"+e),n)}))}class fi{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Rn(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class pi{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new fi(e);const n=1e4+2e4*Math.random();Mn(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Rn(e,((e,r)=>{r>0&&Ge(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),Mn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var gi;function mi(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(gi||(gi={}));class vi{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=gi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(vr(this.path)){if(null!=this.affectedTree.value)return ge(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ur(e));return new vi(cr(),t,this.revert)}}return ge(lr(this.path)===e,"operationForChild called for unrelated child."),new vi(dr(this.path),this.affectedTree,this.revert)}}class yi{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=gi.OVERWRITE}operationForChild(e){return vr(this.path)?new yi(this.source,cr(),this.snap.getImmediateChild(e)):new yi(this.source,dr(this.path),this.snap)}}class _i{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=gi.MERGE}operationForChild(e){if(vr(this.path)){const t=this.children.subtree(new ur(e));return t.isEmpty()?null:t.value?new yi(this.source,cr(),t.value):new _i(this.source,cr(),t)}return ge(lr(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new _i(this.source,dr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class bi{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(vr(e))return this.isFullyInitialized()&&!this.filtered_;const t=lr(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function wi(e,t,n,r,i,s){const o=r.filter((e=>e.type===n));o.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw me("Should only compare child_ events.");const r=new Sr(t.childName,t.snapshotNode),i=new Sr(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),o.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Ii(e,t){return{eventCache:e,serverCache:t}}function Ei(e,t,n,r){return Ii(new bi(t,n,r),e.serverCache)}function Ti(e,t,n,r){return Ii(e.eventCache,new bi(t,n,r))}function ki(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Pi(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Si;class xi{constructor(e,t=(()=>(Si||(Si=new Nr(Sn)),Si))()){this.value=e,this.children=t}static fromObject(e){let t=new xi(null);return Rn(e,((e,n)=>{t=t.set(new ur(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:cr(),value:this.value};if(vr(e))return null;{const n=lr(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(dr(e),t);return null!=i?{path:mr(new ur(n),i.path),value:i.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(vr(e))return this;{const t=lr(e),n=this.children.get(t);return null!==n?n.subtree(dr(e)):new xi(null)}}set(e,t){if(vr(e))return new xi(t,this.children);{const n=lr(e),r=(this.children.get(n)||new xi(null)).set(dr(e),t),i=this.children.insert(n,r);return new xi(this.value,i)}}remove(e){if(vr(e))return this.children.isEmpty()?new xi(null):new xi(null,this.children);{const t=lr(e),n=this.children.get(t);if(n){const r=n.remove(dr(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new xi(null):new xi(this.value,i)}return this}}get(e){if(vr(e))return this.value;{const t=lr(e),n=this.children.get(t);return n?n.get(dr(e)):null}}setTree(e,t){if(vr(e))return t;{const n=lr(e),r=(this.children.get(n)||new xi(null)).setTree(dr(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new xi(this.value,i)}}fold(e){return this.fold_(cr(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(mr(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,cr(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(vr(e))return null;{const r=lr(e),i=this.children.get(r);return i?i.findOnPath_(dr(e),mr(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,cr(),t)}foreachOnPath_(e,t,n){if(vr(e))return this;{this.value&&n(t,this.value);const r=lr(e),i=this.children.get(r);return i?i.foreachOnPath_(dr(e),mr(t,r),n):new xi(null)}}foreach(e){this.foreach_(cr(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(mr(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class ji{constructor(e){this.writeTree_=e}static empty(){return new ji(new xi(null))}}function Ci(e,t,n){if(vr(t))return new ji(new xi(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const o=yr(i,t);return s=s.updateChild(o,n),new ji(e.writeTree_.set(i,s))}{const r=new xi(n),i=e.writeTree_.setTree(t,r);return new ji(i)}}}function Ri(e,t,n){let r=e;return Rn(n,((e,n)=>{r=Ci(r,mr(t,e),n)})),r}function Oi(e,t){if(vr(t))return ji.empty();{const n=e.writeTree_.setTree(t,new xi(null));return new ji(n)}}function Ai(e,t){return null!=Ni(e,t)}function Ni(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(yr(n.path,t)):null}function Li(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Wr,((e,n)=>{t.push(new Sr(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new Sr(e,n.value))})),t}function Mi(e,t){if(vr(t))return e;{const n=Ni(e,t);return new ji(null!=n?new xi(n):e.writeTree_.subtree(t))}}function Di(e){return e.writeTree_.isEmpty()}function Fi(e,t){return Ui(cr(),e.writeTree_,t)}function Ui(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(ge(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Ui(mr(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(mr(e,".priority"),r)),n}}function Gi(e,t){return Qi(t,e)}function qi(e,t){if(e.snap)return br(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&br(mr(e.path,n),t))return!0;return!1}function zi(e){return e.visible}function Bi(e,t,n){let r=ji.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)br(n,e)?(t=yr(n,e),r=Ci(r,t,s.snap)):br(e,n)&&(t=yr(e,n),r=Ci(r,cr(),s.snap.getChild(t)));else{if(!s.children)throw me("WriteRecord should have .snap or .children");if(br(n,e))t=yr(n,e),r=Ri(r,t,s.children);else if(br(e,n))if(t=yr(e,n),vr(t))r=Ri(r,cr(),s.children);else{const e=qe(s.children,lr(t));if(e){const n=e.getChild(dr(t));r=Ci(r,cr(),n)}}}}}return r}function Wi(e,t,n,r,i){if(r||i){const s=Mi(e.visibleWrites,t);if(!i&&Di(s))return n;if(i||null!=n||Ai(s,cr())){const s=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(br(e.path,t)||br(t,e.path))};return Fi(Bi(e.allWrites,s,t),n||Xr.EMPTY_NODE)}return null}{const r=Ni(e.visibleWrites,t);if(null!=r)return r;{const r=Mi(e.visibleWrites,t);return Di(r)?n:null!=n||Ai(r,cr())?Fi(r,n||Xr.EMPTY_NODE):null}}}function Vi(e,t,n,r){return Wi(e.writeTree,e.treePath,t,n,r)}function Hi(e,t){return function(e,t,n){let r=Xr.EMPTY_NODE;const i=Ni(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Wr,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=Mi(e.visibleWrites,t);return n.forEachChild(Wr,((e,t)=>{const n=Fi(Mi(i,new ur(e)),t);r=r.updateImmediateChild(e,n)})),Li(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return Li(Mi(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Ki(e,t,n,r){return function(e,t,n,r,i){ge(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=mr(t,n);if(Ai(e.visibleWrites,s))return null;{const t=Mi(e.visibleWrites,s);return Di(t)?i.getChild(n):Fi(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function $i(e,t){return function(e,t){return Ni(e.visibleWrites,t)}(e.writeTree,mr(e.treePath,t))}function Yi(e,t,n){return function(e,t,n,r){const i=mr(t,n),s=Ni(e.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?Fi(Mi(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Ji(e,t){return Qi(mr(e.treePath,t),e.writeTree)}function Qi(e,t){return{treePath:e,writeTree:t}}class Xi{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;ge("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),ge(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(n,ii(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(n,(i=n,{type:"child_removed",snapshotNode:r.oldSnap,childName:i}));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(n,function(e,t){return{type:"child_added",snapshotNode:t,childName:e}}(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw me("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,ii(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e);var i}getChanges(){return Array.from(this.changeMap.values())}}const Zi=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class es{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new bi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Yi(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Pi(this.viewCache_),i=function(e,t,n,r,i,s){return function(e,t,n,r,i,s,o){let a;const u=Mi(e.visibleWrites,t),c=Ni(u,cr());if(null!=c)a=c;else{if(null==n)return[];a=Fi(u,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let u=n.getNext();for(;u&&e.length<i;)0!==t(u,r)&&e.push(u),u=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,s)}(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function ts(e,t,n,r,i,s){const o=t.eventCache;if(null!=$i(r,n))return t;{let a,u;if(vr(n))if(ge(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Pi(t),i=Hi(r,n instanceof Xr?n:Xr.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{const n=Vi(r,Pi(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const c=lr(n);if(".priority"===c){ge(1===hr(n),"Can't have a priority with additional path components");const i=o.getNode();u=t.serverCache.getNode();const s=Ki(r,n,i,u);a=null!=s?e.filter.updatePriority(i,s):o.getNode()}else{const l=dr(n);let h;if(o.isCompleteForChild(c)){u=t.serverCache.getNode();const e=Ki(r,n,o.getNode(),u);h=null!=e?o.getNode().getImmediateChild(c).updateChild(l,e):o.getNode().getImmediateChild(c)}else h=Yi(r,c,t.serverCache);a=null!=h?e.filter.updateChild(o.getNode(),c,h,l,i,s):o.getNode()}}return Ei(t,a,o.isFullyInitialized()||vr(n),e.filter.filtersNodes())}}function ns(e,t,n,r,i,s,o,a){const u=t.serverCache;let c;const l=o?e.filter:e.filter.getIndexedFilter();if(vr(n))c=l.updateFullNode(u.getNode(),r,null);else if(l.filtersNodes()&&!u.isFiltered()){const e=u.getNode().updateChild(n,r);c=l.updateFullNode(u.getNode(),e,null)}else{const e=lr(n);if(!u.isCompleteForPath(n)&&hr(n)>1)return t;const i=dr(n),s=u.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?l.updatePriority(u.getNode(),s):l.updateChild(u.getNode(),e,s,i,Zi,null)}const h=Ti(t,c,u.isFullyInitialized()||vr(n),l.filtersNodes());return ts(e,h,n,i,new es(i,h,s),a)}function rs(e,t,n,r,i,s,o){const a=t.eventCache;let u,c;const l=new es(i,t,s);if(vr(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),u=Ei(t,c,!0,e.filter.filtersNodes());else{const i=lr(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),u=Ei(t,c,a.isFullyInitialized(),a.isFiltered());else{const s=dr(n),c=a.getNode().getImmediateChild(i);let h;if(vr(s))h=r;else{const e=l.getCompleteChild(i);h=null!=e?".priority"===fr(s)&&e.getChild(gr(s)).isEmpty()?e:e.updateChild(s,r):Xr.EMPTY_NODE}u=c.equals(h)?t:Ei(t,e.filter.updateChild(a.getNode(),i,h,s,l,o),a.isFullyInitialized(),e.filter.filtersNodes())}}return u}function is(e,t){return e.eventCache.isCompleteForChild(t)}function ss(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function os(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let u,c=t;u=vr(n)?r:new xi(null).setTree(n,r);const l=t.serverCache.getNode();return u.children.inorderTraversal(((n,r)=>{if(l.hasChild(n)){const u=ss(0,t.serverCache.getNode().getImmediateChild(n),r);c=ns(e,c,new ur(n),u,i,s,o,a)}})),u.children.inorderTraversal(((n,r)=>{const u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!u){const u=ss(0,t.serverCache.getNode().getImmediateChild(n),r);c=ns(e,c,new ur(n),u,i,s,o,a)}})),c}function as(e,t){const n=Pi(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!vr(t)&&!n.getImmediateChild(lr(t)).isEmpty())?n.getChild(t):null}function us(e,t,n,r){t.type===gi.MERGE&&null!==t.source.queryId&&(ge(Pi(e.viewCache_),"We should always have a full cache before handling merges"),ge(ki(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=function(e,t,n,r,i){const s=new Xi;let o,a;if(n.type===gi.OVERWRITE){const u=n;u.source.fromUser?o=rs(e,t,u.path,u.snap,r,i,s):(ge(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!vr(u.path),o=ns(e,t,u.path,u.snap,r,i,a,s))}else if(n.type===gi.MERGE){const u=n;u.source.fromUser?o=function(e,t,n,r,i,s,o){let a=t;return r.foreach(((r,u)=>{const c=mr(n,r);is(t,lr(c))&&(a=rs(e,a,c,u,i,s,o))})),r.foreach(((r,u)=>{const c=mr(n,r);is(t,lr(c))||(a=rs(e,a,c,u,i,s,o))})),a}(e,t,u.path,u.children,r,i,s):(ge(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered(),o=os(e,t,u.path,u.children,r,i,a,s))}else if(n.type===gi.ACK_USER_WRITE){const a=n;o=a.revert?function(e,t,n,r,i,s){let o;if(null!=$i(r,n))return t;{const a=new es(r,t,i),u=t.eventCache.getNode();let c;if(vr(n)||".priority"===lr(n)){let n;if(t.serverCache.isFullyInitialized())n=Vi(r,Pi(t));else{const e=t.serverCache.getNode();ge(e instanceof Xr,"serverChildren would be complete if leaf node"),n=Hi(r,e)}c=e.filter.updateFullNode(u,n,s)}else{const i=lr(n);let l=Yi(r,i,t.serverCache);null==l&&t.serverCache.isCompleteForChild(i)&&(l=u.getImmediateChild(i)),c=null!=l?e.filter.updateChild(u,i,l,dr(n),a,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(u,i,Xr.EMPTY_NODE,dr(n),a,s):u,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Vi(r,Pi(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=$i(r,cr()),Ei(t,c,o,e.filter.filtersNodes())}}(e,t,a.path,r,i,s):function(e,t,n,r,i,s,o){if(null!=$i(i,n))return t;const a=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(vr(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return ns(e,t,n,u.getNode().getChild(n),i,s,a,o);if(vr(n)){let r=new xi(null);return u.getNode().forEachChild(Rr,((e,t)=>{r=r.set(new ur(e),t)})),os(e,t,n,r,i,s,a,o)}return t}{let c=new xi(null);return r.foreach(((e,t)=>{const r=mr(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),os(e,t,n,c,i,s,a,o)}}(e,t,a.path,a.affectedTree,r,i,s)}else{if(n.type!==gi.LISTEN_COMPLETE)throw me("Unknown operation type: "+n.type);o=function(e,t,n,r,i){const s=t.serverCache;return ts(e,Ti(t,s.getNode(),s.isFullyInitialized()||vr(n),s.isFiltered()),n,r,Zi,i)}(e,t,n.path,r,s)}const u=s.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=ki(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push({type:"value",snapshotNode:ki(t)})}}(t,o,u),{viewCache:o,changes:u}}(e.processor_,i,t,n,r);var o,a;return o=e.processor_,a=s.viewCache,ge(a.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),ge(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),ge(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,function(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],s=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),wi(e,i,"child_removed",t,r,n),wi(e,i,"child_added",t,r,n),wi(e,i,"child_moved",s,r,n),wi(e,i,"child_changed",t,r,n),wi(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}(e,s.changes,s.viewCache.eventCache.getNode(),null)}let cs,ls;function hs(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return ge(null!=s,"SyncTree gave us an op for an invalid query."),us(s,t,n,r)}{let i=[];for(const s of e.views.values())i=i.concat(us(s,t,n,r));return i}}function ds(e,t){let n=null;for(const r of e.views.values())n=n||as(r,t);return n}class fs{constructor(e){this.listenProvider_=e,this.syncPointTree_=new xi(null),this.pendingWriteTree_={visibleWrites:ji.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ps(e,t,n,r,i){return function(e,t,n,r,i){ge(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Ci(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?ys(e,new yi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function gs(e,t,n=!1){const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));ge(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const t=e.allWrites[o];t.visible&&(o>=n&&qi(t,r.path)?i=!1:br(r.path,t.path)&&(s=!0)),o--}return!!i&&(s?(function(e){e.visibleWrites=Bi(e.allWrites,zi,cr()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0):(r.snap?e.visibleWrites=Oi(e.visibleWrites,r.path):Rn(r.children,(t=>{e.visibleWrites=Oi(e.visibleWrites,mr(r.path,t))})),!0))}(e.pendingWriteTree_,t)){let t=new xi(null);return null!=r.snap?t=t.set(cr(),!0):Rn(r.children,(e=>{t=t.set(new ur(e),!0)})),ys(e,new vi(r.path,t,n))}return[]}function ms(e,t,n){return ys(e,new yi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function vs(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=ds(n,yr(e,t));if(r)return r}));return Wi(r,t,i,n,!0)}function ys(e,t){return _s(t,e.syncPointTree_,null,Gi(e.pendingWriteTree_,cr()))}function _s(e,t,n,r){if(vr(e.path))return bs(e,t,n,r);{const i=t.get(cr());null==n&&null!=i&&(n=ds(i,cr()));let s=[];const o=lr(e.path),a=e.operationForChild(o),u=t.children.get(o);if(u&&a){const e=n?n.getImmediateChild(o):null,t=Ji(r,o);s=s.concat(_s(a,u,e,t))}return i&&(s=s.concat(hs(i,e,r,n))),s}}function bs(e,t,n,r){const i=t.get(cr());null==n&&null!=i&&(n=ds(i,cr()));let s=[];return t.children.inorderTraversal(((t,i)=>{const o=n?n.getImmediateChild(t):null,a=Ji(r,t),u=e.operationForChild(t);u&&(s=s.concat(bs(u,i,o,a)))})),i&&(s=s.concat(hs(i,e,r,n))),s}function ws(e,t){return e.tagToQueryMap.get(t)}function Is(e){const t=e.indexOf("$");return ge(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ur(e.substr(0,t))}}function Es(e,t,n){const r=e.syncPointTree_.get(t);return ge(r,"Missing sync point for query tag that we're tracking"),hs(r,n,Gi(e.pendingWriteTree_,t),null)}class Ts{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Ts(t)}node(){return this.node_}}class ks{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=mr(this.path_,e);return new ks(this.syncTree_,t)}node(){return vs(this.syncTree_,this.path_)}}const Ps=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},Ss=function(e,t,n){return e&&"object"==typeof e?(ge(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?xs(e[".sv"],t,n):"object"==typeof e[".sv"]?js(e[".sv"],t):void ge(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},xs=function(e,t,n){if("timestamp"===e)return n.timestamp;ge(!1,"Unexpected server value: "+e)},js=function(e,t,n){e.hasOwnProperty("increment")||ge(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&ge(!1,"Unexpected increment value: "+r);const i=t.node();if(ge(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},Cs=function(e,t,n,r){return Os(t,new ks(n,e),r)},Rs=function(e,t,n){return Os(e,new Ts(t),n)};function Os(e,t,n){const r=e.getPriority().val(),i=Ss(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const r=e,s=Ss(r.getValue(),t,n);return s!==r.getValue()||i!==r.getPriority().val()?new Br(s,ti(i)):e}{const r=e;return s=r,i!==r.getPriority().val()&&(s=s.updatePriority(new Br(i))),r.forEachChild(Wr,((e,r)=>{const i=Os(r,t.getImmediateChild(e),n);i!==r&&(s=s.updateImmediateChild(e,i))})),s}}class As{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function Ns(e,t){let n=t instanceof ur?t:new ur(t),r=e,i=lr(n);for(;null!==i;){const e=qe(r.node.children,i)||{children:{},childCount:0};r=new As(i,r,e),n=dr(n),i=lr(n)}return r}function Ls(e){return e.node.value}function Ms(e,t){e.node.value=t,qs(e)}function Ds(e){return e.node.childCount>0}function Fs(e,t){Rn(e.node.children,((n,r)=>{t(new As(n,e,r))}))}function Us(e,t,n,r){n&&!r&&t(e),Fs(e,(e=>{Us(e,t,!0,r)})),n&&r&&t(e)}function Gs(e){return new ur(null===e.parent?e.name:Gs(e.parent)+"/"+e.name)}function qs(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Ls(e)&&!Ds(e)}(n),i=Ge(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,qs(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,qs(e))}(e.parent,e.name,e)}const zs=/[\[\].#$\/\u0000-\u001F\u007F]/,Bs=/[\[\].#$\u0000-\u001F\u007F]/,Ws=10485760,Vs=function(e){return"string"==typeof e&&0!==e.length&&!zs.test(e)},Hs=function(e){return"string"==typeof e&&0!==e.length&&!Bs.test(e)},Ks=function(e,t,n,r){r&&void 0===t||$s(Xe(e,"value"),t,n)},$s=function(e,t,n){const r=n instanceof ur?new wr(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Er(r));if("function"==typeof t)throw new Error(e+"contains a function "+Er(r)+" with contents = "+t.toString());if(En(t))throw new Error(e+"contains "+t.toString()+" "+Er(r));if("string"==typeof t&&t.length>Ws/3&&Ze(t)>Ws)throw new Error(e+"contains a string greater than "+Ws+" utf8 bytes "+Er(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,i=!1;if(Rn(t,((t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!Vs(t)))throw new Error(e+" contains an invalid key ("+t+") "+Er(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ze(t),Ir(e)}(r,t),$s(e,s,r),function(e){const t=e.parts_.pop();e.byteLength_-=Ze(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+Er(r)+" in addition to actual children.")}},Ys=function(e,t,n,r){if(!(r&&void 0===n||Hs(n)))throw new Error(Xe(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Js=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ys(e,t,n,r)},Qs=function(e,t){if(".info"===lr(t))throw new Error(e+" failed = Can't modify data under /.info/")};class Xs{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Zs(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null===n||_r(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function eo(e,t,n){Zs(e,n),function(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(to(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}(e,(e=>br(e,t)||br(t,e)))}function to(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();mn&&yn("event: "+n.toString()),Ln(r)}}}const no=25;class ro{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Xs,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=li(),this.transactionQueueTree_=new As,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function io(e,t,n){if(e.stats_=Jn(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new ui(e.repoInfo_,((t,n,r,i)=>{ao(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>uo(e,!0)),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Fe(n)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new Pr(e.repoInfo_,t,((t,n,r,i)=>{ao(e,t,n,r,i)}),(t=>{uo(e,t)}),(t=>{!function(e,t){Rn(t,((t,n)=>{co(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(t,n){const r=t.toString();return Yn[r]||(Yn[r]=new pi(e.stats_,e.server_)),Yn[r]}(e.repoInfo_),e.infoData_=new ci,e.infoSyncTree_=new fs({startListening:(t,n,r,i)=>{let s=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(s=ms(e.infoSyncTree_,t._path,o),setTimeout((()=>{i("ok")}),0)),s},stopListening:()=>{}}),co(e,"connected",!1),e.serverSyncTree_=new fs({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const s=i(n,r);eo(e.eventQueue_,t._path,s)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function so(e){const t=e.infoData_.getNode(new ur(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function oo(e){return Ps({timestamp:so(e)})}function ao(e,t,n,r,i){e.dataUpdateCount++;const s=new ur(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const t=Be(n,(e=>ti(e)));o=function(e,t,n,r){const i=ws(e,r);if(i){const r=Is(i),s=r.path,o=r.queryId,a=yr(s,t),u=xi.fromObject(n);return Es(e,s,new _i(mi(o),a,u))}return[]}(e.serverSyncTree_,s,t,i)}else{const t=ti(n);o=function(e,t,n,r){const i=ws(e,r);if(null!=i){const r=Is(i),s=r.path,o=r.queryId,a=yr(s,t);return Es(e,s,new yi(mi(o),a,n))}return[]}(e.serverSyncTree_,s,t,i)}else if(r){const t=Be(n,(e=>ti(e)));o=function(e,t,n){const r=xi.fromObject(n);return ys(e,new _i({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,t)}else{const t=ti(n);o=ms(e.serverSyncTree_,s,t)}let a=s;o.length>0&&(a=mo(e,s)),eo(e.eventQueue_,a,o)}function uo(e,t){co(e,"connected",t),!1===t&&function(e){fo(e,"onDisconnectEvents");const t=oo(e),n=li();di(e.onDisconnect_,cr(),((r,i)=>{const s=Cs(r,i,e.serverSyncTree_,t);hi(n,r,s)}));let r=[];di(n,cr(),((t,n)=>{r=r.concat(ms(e.serverSyncTree_,t,n));const i=wo(e,t);mo(e,i)})),e.onDisconnect_=li(),eo(e.eventQueue_,cr(),r)}(e)}function co(e,t,n){const r=new ur("/.info/"+t),i=ti(n);e.infoData_.updateSnapshot(r,i);const s=ms(e.infoSyncTree_,r,i);eo(e.eventQueue_,r,s)}function lo(e){return e.nextWriteId_++}function ho(e,t,n,r,i){fo(e,"set",{path:t.toString(),value:n,priority:r});const s=oo(e),o=ti(n,r),a=vs(e.serverSyncTree_,t),u=Rs(o,a,s),c=lo(e),l=ps(e.serverSyncTree_,t,u,c,!0);Zs(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),((n,r)=>{const s="ok"===n;s||In("set at "+t+" failed: "+n);const o=gs(e.serverSyncTree_,c,!s);eo(e.eventQueue_,t,o),function(e,t,n,r){t&&Ln((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const s=new Error(i);s.code=e,t(s)}}))}(0,i,n,r)}));const h=wo(e,t);mo(e,h),eo(e.eventQueue_,h,[])}function fo(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),yn(n,...t)}function po(e,t,n){return vs(e.serverSyncTree_,t,n)||Xr.EMPTY_NODE}function go(e,t=e.transactionQueueTree_){if(t||bo(e,t),Ls(t)){const n=yo(e,t);ge(n.length>0,"Sending zero length transaction queue"),n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=po(e,t,r);let s=i;const o=i.hash();for(let e=0;e<n.length;e++){const r=n[e];ge(0===r.status,"tryToSendTransactionQueue_: items in queue should all be run."),r.status=1,r.retryCount++;const i=yr(t,r.path);s=s.updateChild(i,r.currentOutputSnapshotRaw)}const a=s.val(!0),u=t;e.server_.put(u.toString(),a,(r=>{fo(e,"transaction put response",{path:u.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(gs(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();bo(e,Ns(e.transactionQueueTree_,t)),go(e,e.transactionQueueTree_),eo(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)Ln(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{In("transaction at "+u.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}mo(e,t)}}),o)}(e,Gs(t),n)}else Ds(t)&&Fs(t,(t=>{go(e,t)}))}function mo(e,t){const n=vo(e,t),r=Gs(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter((e=>0===e.status)).map((e=>e.currentWriteId));for(let a=0;a<t.length;a++){const u=t[a],c=yr(n,u.path);let l,h=!1;if(ge(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)h=!0,l=u.abortReason,i=i.concat(gs(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=no)h=!0,l="maxretry",i=i.concat(gs(e.serverSyncTree_,u.currentWriteId,!0));else{const n=po(e,u.path,s);u.currentInputSnapshot=n;const r=t[a].update(n.val());if(void 0!==r){$s("transaction failed: Data returned ",r,u.path);let t=ti(r);"object"==typeof r&&null!=r&&Ge(r,".priority")||(t=t.updatePriority(n.getPriority()));const o=u.currentWriteId,a=oo(e),c=Rs(t,n,a);u.currentOutputSnapshotRaw=t,u.currentOutputSnapshotResolved=c,u.currentWriteId=lo(e),s.splice(s.indexOf(o),1),i=i.concat(ps(e.serverSyncTree_,u.path,c,u.currentWriteId,u.applyLocally)),i=i.concat(gs(e.serverSyncTree_,o,!0))}else h=!0,l="nodata",i=i.concat(gs(e.serverSyncTree_,u.currentWriteId,!0))}eo(e.eventQueue_,n,i),i=[],h&&(t[a].status=2,o=t[a].unwatcher,setTimeout(o,Math.floor(0)),t[a].onComplete&&("nodata"===l?r.push((()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot))):r.push((()=>t[a].onComplete(new Error(l),!1,null)))))}var o;bo(e,e.transactionQueueTree_);for(let e=0;e<r.length;e++)Ln(r[e]);go(e,e.transactionQueueTree_)}(e,yo(e,n),r),r}function vo(e,t){let n,r=e.transactionQueueTree_;for(n=lr(t);null!==n&&void 0===Ls(r);)r=Ns(r,n),n=lr(t=dr(t));return r}function yo(e,t){const n=[];return _o(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function _o(e,t,n){const r=Ls(t);if(r)for(let e=0;e<r.length;e++)n.push(r[e]);Fs(t,(t=>{_o(e,t,n)}))}function bo(e,t){const n=Ls(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Ms(t,n.length>0?n:void 0)}Fs(t,(t=>{bo(e,t)}))}function wo(e,t){const n=Gs(vo(e,t)),r=Ns(e.transactionQueueTree_,t);return function(e,t,n){let r=e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{Io(e,t)})),Io(e,r),Us(r,(t=>{Io(e,t)})),n}function Io(e,t){const n=Ls(t);if(n){const r=[];let i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(ge(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(ge(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(gs(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Ms(t,void 0):n.length=s+1,eo(e.eventQueue_,Gs(t),i);for(let e=0;e<r.length;e++)Ln(r[e])}}const Eo=function(e,t){const n=To(e),r=n.namespace;"firebase.com"===n.domain&&wn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||wn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&In("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Vn(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new ur(n.pathString)}},To=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",u=443;if("string"==typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let l=e.indexOf("/");-1===l&&(l=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=function(e){let t="";const n=e.split("/");for(let e=0;e<n.length;e++)if(n[e].length>0){let r=n[e];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(e){}t+="/"+r}return t}(e.substring(l,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):In(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(o="https"===a||"wss"===a,u=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=r}"ns"in d&&(s=d.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class ko{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return vr(this._path)?null:fr(this._path)}get ref(){return new Po(this._repo,this._path)}get _queryIdentifier(){const e=ai(this._queryParams),t=jn(e);return"{}"===t?"default":t}get _queryObject(){return ai(this._queryParams)}isEqual(e){if(!((e=et(e))instanceof ko))return!1;const t=this._repo===e._repo,n=_r(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class Po extends ko{constructor(e,t){super(e,t,new si,!1)}get parent(){const e=gr(this._path);return null===e?null:new Po(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}function So(e,t){return(e=et(e))._checkNotDeleted("ref"),void 0!==t?function(e,t){return null===lr((e=et(e))._path)?Js("child","path",t,!1):Ys("child","path",t,!1),new Po(e._repo,mr(e._path,t))}(e._root,t):e._root}function xo(e,t){e=et(e),Qs("set",e._path),Ks("set",t,e._path,!1);const n=new Ce;return ho(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}!function(e){ge(!cs,"__referenceConstructor has already been defined"),cs=e}(Po),function(e){ge(!ls,"__referenceConstructor has already been defined"),ls=e}(Po);const jo={};function Co(e,t,n,r,i){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||wn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),yn("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o,a,u=Eo(s,i),c=u.repoInfo;"undefined"!=typeof process&&process.env&&(a=process.env.FIREBASE_DATABASE_EMULATOR_HOST),a?(o=!0,s=`http://${a}?ns=${c.namespace}`,u=Eo(s,i),c=u.repoInfo):o=!u.repoInfo.secure;const l=i&&o?new Un(Un.OWNER):new Fn(e.name,e.options,t);(function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Vs(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Hs(e)}(n))throw new Error(Xe(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",u),vr(u.path)||wn("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=jo[t.name];i||(i={},jo[t.name]=i);let s=i[e.toURLString()];return s&&wn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new ro(e,false,n,r),i[e.toURLString()]=s,s}(c,e,l,new Dn(e.name,n));return new Ro(h,e)}class Ro{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(io(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Po(this._repo,cr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(e,t){const n=jo[t];n&&n[e.key]===e||wn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&wn("Cannot call "+e+" on a deleted database.")}}function Oo(e=Wt(),t){const n=Ut(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=Se("database");e&&function(e,t,n,r={}){(e=et(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&wn("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&wn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Un(Un.OWNER);else if(r.mockUserToken){const t="string"==typeof r.mockUserToken?r.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[we(JSON.stringify({alg:"none",type:"JWT"})),we(JSON.stringify(s)),""].join(".")}(r.mockUserToken,e.app.options.projectId);s=new Un(t)}!function(e,t,n,r){e.repoInfo_=new Vn(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,s)}(n,...e)}return n}function Ao(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Pr.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Pr.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},on=zt,Ft(new tt("database",((e,{instanceIdentifier:t})=>Co(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t)),"PUBLIC").setMultipleInstances(!0)),Vt(rn,sn,void 0),Vt(rn,sn,"esm2017"),Object.create,Object.create;const No=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Lo=new Le("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Mo=new ht("@firebase/auth");function Do(e,...t){Mo.logLevel<=ot.ERROR&&Mo.error(`Auth (${zt}): ${e}`,...t)}function Fo(e,...t){throw Go(e,...t)}function Uo(e,...t){return Go(e,...t)}function Go(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Lo.create(e,...t)}function qo(e,t,...n){if(!e)throw Go(t,...n)}function zo(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Do(t),new Error(t)}function Bo(e,t){e||zo(t)}function Wo(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Vo(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Ho(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===Vo()||"https:"===Vo()||function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Ko{constructor(e,t){this.shortDelay=e,this.longDelay=t,Bo(t>e,"Short delay should be less than long delay!"),this.isMobile=Oe()||Ae()}get(){return Ho()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $o(e,t){Bo(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Yo{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void zo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void zo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void zo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jo={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Qo=new Ko(3e4,6e4);function Xo(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Zo(e,t,n,r,i={}){return ea(e,i,(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=He(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Yo.fetch()(na(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function ea(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jo),t);try{const t=new ra(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw ia(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw ia(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw ia(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw ia(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw function(e,t,n){const r=Object.assign(Object.assign({},No()),{[t]:n});return new Le("auth","Firebase",r).create(t,{appName:e.name})}(e,a,o);Fo(e,a)}}catch(t){if(t instanceof Ne)throw t;Fo(e,"network-request-failed",{message:String(t)})}}async function ta(e,t,n,r,i={}){const s=await Zo(e,t,n,r,i);return"mfaPendingCredential"in s&&Fo(e,"multi-factor-auth-required",{_serverResponse:s}),s}function na(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?$o(e.config,i):`${e.config.apiScheme}://${i}`}class ra{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Uo(this.auth,"network-request-failed"))),Qo.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function ia(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Uo(e,t,r);return i.customData._tokenResponse=n,i}function sa(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function oa(e){return 1e3*Number(e)}function aa(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Do("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ie(n);return e?JSON.parse(e):(Do("Failed to decode base64 JWT payload"),null)}catch(e){return Do("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}async function ua(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof Ne&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class ca{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class la{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=sa(this.lastLoginAt),this.creationTime=sa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ha(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ua(e,async function(e,t){return Zo(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));qo(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=Ao(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],a=(u=e.providerData,c=o,[...u.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var u,c;const l=e.isAnonymous,h=!(e.email&&s.passwordHash||(null==a?void 0:a.length)),d=!!l&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new la(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qo(e.idToken,"internal-error"),qo(void 0!==e.idToken,"internal-error"),qo(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=aa(e);return qo(t,"internal-error"),qo(void 0!==t.exp,"internal-error"),qo(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return qo(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ea(e,{},(async()=>{const n=He({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=na(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Yo.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new da;return n&&(qo("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(qo("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(qo("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new da,this.toJSON())}_performRefresh(){return zo("not implemented")}}function fa(e,t){qo("string"==typeof e||void 0===e,"internal-error",{appName:t})}class pa{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Ao(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ca(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new la(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ua(this,this.stsTokenManager.getToken(this.auth,e));return qo(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=et(e),r=await n.getIdToken(t),i=aa(r);qo(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:sa(oa(i.auth_time)),issuedAtTime:sa(oa(i.iat)),expirationTime:sa(oa(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=et(e);await ha(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(qo(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new pa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){qo(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ha(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ua(this,async function(e,t){return Zo(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,u,c;const l=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(u=t.createdAt)&&void 0!==u?u:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:_,isAnonymous:b,providerData:w,stsTokenManager:I}=t;qo(y&&I,e,"internal-error");const E=da.fromJSON(this.name,I);qo("string"==typeof y,e,"internal-error"),fa(l,e.name),fa(h,e.name),qo("boolean"==typeof _,e,"internal-error"),qo("boolean"==typeof b,e,"internal-error"),fa(d,e.name),fa(f,e.name),fa(p,e.name),fa(g,e.name),fa(m,e.name),fa(v,e.name);const T=new pa({uid:y,auth:e,email:h,emailVerified:_,displayName:l,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:m,lastLoginAt:v});return w&&Array.isArray(w)&&(T.providerData=w.map((e=>Object.assign({},e)))),g&&(T._redirectEventId=g),T}static async _fromIdTokenResponse(e,t,n=!1){const r=new da;r.updateFromServerResponse(t);const i=new pa({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ha(i),i}}const ga=new Map;function ma(e){Bo(e instanceof Function,"Expected a class definition");let t=ga.get(e);return t?(Bo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ga.set(e,t),t)}class va{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}va.type="NONE";const ya=va;function _a(e,t,n){return`firebase:${e}:${t}:${n}`}class ba{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=_a(this.userKey,r.apiKey,i),this.fullPersistenceKey=_a("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new ba(ma(ya),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||ma(ya);const s=_a(n,e.config.apiKey,e.name);let o=null;for(const n of t)try{const t=await n._get(s);if(t){const r=pa._fromJSON(e,t);n!==i&&(o=r),i=n;break}}catch(e){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(e){}}))),new ba(i,e,n)):new ba(i,e,n)}}function wa(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ka(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ia(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Sa(t))return"Blackberry";if(xa(t))return"Webos";if(Ea(t))return"Safari";if((t.includes("chrome/")||Ta(t))&&!t.includes("edge/"))return"Chrome";if(Pa(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function Ia(e=Re()){return/firefox\//i.test(e)}function Ea(e=Re()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ta(e=Re()){return/crios\//i.test(e)}function ka(e=Re()){return/iemobile/i.test(e)}function Pa(e=Re()){return/android/i.test(e)}function Sa(e=Re()){return/blackberry/i.test(e)}function xa(e=Re()){return/webos/i.test(e)}function ja(e=Re()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ca(e=Re()){return ja(e)||Pa(e)||xa(e)||Sa(e)||/windows phone/i.test(e)||ka(e)}function Ra(e,t=[]){let n;switch(e){case"Browser":n=wa(Re());break;case"Worker":n=`${wa(Re())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${zt}/${r}`}async function Oa(e,t){return Zo(e,"GET","/v2/recaptchaConfig",Xo(e,t))}function Aa(e){return void 0!==e&&void 0!==e.enterprise}class Na{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function La(e){return new Promise(((t,n)=>{const r=document.createElement("script");var i,s;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Uo("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(s=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==s?s:document).appendChild(r)}))}function Ma(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Da{constructor(e){this.type="recaptcha-enterprise",this.auth=qa(e)}async verify(e="verify",t=!1){function n(t,n,r){const i=window.grecaptcha;Aa(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Oa(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Na(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Aa(window.grecaptcha))n(i,e,r);else{if("undefined"==typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));La("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Fa(e,t,n,r=!1){const i=new Da(e);let s;try{s=await i.verify(n)}catch(e){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}class Ua{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(e){r(e)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(const e of t)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}class Ga{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new za(this),this.idTokenSubscription=new za(this),this.beforeStateQueue=new Ua(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lo,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ma(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ba.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null==r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null==o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(e)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return qo(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ha(e)}catch(e){if("auth/network-request-failed"!==(null==e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?et(e):null;return t&&qo(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&qo(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(ma(e))}))}async initializeRecaptchaConfig(){const e=await Oa(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Na(e);null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled&&new Da(this).verify()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Le("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ma(e)||this._popupRedirectResolver;qo(t,this,"argument-error"),this.redirectPersistenceManager=await ba.create(this,[ma(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return qo(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qo(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ra(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){Mo.logLevel<=ot.WARN&&Mo.warn(`Auth (${zt}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function qa(e){return et(e)}class za{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Je(e,void 0);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return qo(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ba(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Wa(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Va{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zo("not implemented")}_getIdTokenResponse(e){return zo("not implemented")}_linkToIdToken(e,t){return zo("not implemented")}_getReauthenticationResolver(e){return zo("not implemented")}}async function Ha(e,t){return ta(e,"POST","/v1/accounts:signInWithPassword",Xo(e,t))}class Ka extends Va{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ka(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Ka(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Fa(e,n,"signInWithPassword");return Ha(e,t)}return Ha(e,n).catch((async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Fa(e,n,"signInWithPassword");return Ha(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return ta(e,"POST","/v1/accounts:signInWithEmailLink",Xo(e,t))}(e,{email:this._email,oobCode:this._password});default:Fo(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return async function(e,t){return Zo(e,"POST","/v1/accounts:update",t)}(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return ta(e,"POST","/v1/accounts:signInWithEmailLink",Xo(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Fo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function $a(e,t){return ta(e,"POST","/v1/accounts:signInWithIdp",Xo(e,t))}class Ya extends Va{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Fo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Ao(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Ya(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return $a(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,$a(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$a(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=He(t)}return e}}const Ja={USER_NOT_FOUND:"user-not-found"};class Qa extends Va{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Qa({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Qa({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return ta(e,"POST","/v1/accounts:signInWithPhoneNumber",Xo(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await ta(e,"POST","/v1/accounts:signInWithPhoneNumber",Xo(e,t));if(n.temporaryProof)throw ia(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return ta(e,"POST","/v1/accounts:signInWithPhoneNumber",Xo(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ja)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Qa({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Xa{constructor(e){var t,n,r,i,s,o;const a=Ke($e(e)),u=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,l=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);qo(u&&c&&l,"argument-error"),this.apiKey=u,this.operation=l,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Ke($e(e)).link,n=t?Ke($e(t)).deep_link_id:null,r=Ke($e(e)).deep_link_id;return(r?Ke($e(r)).link:null)||r||n||t||e}(e);try{return new Xa(t)}catch(e){return null}}}class Za{constructor(){this.providerId=Za.PROVIDER_ID}static credential(e,t){return Ka._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Xa.parseLink(t);return qo(n,"argument-error"),Ka._fromEmailAndCode(e,n.code,n.tenantId)}}Za.PROVIDER_ID="password",Za.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Za.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class eu{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class tu extends eu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class nu extends tu{constructor(){super("facebook.com")}static credential(e){return Ya._fromParams({providerId:nu.PROVIDER_ID,signInMethod:nu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nu.credentialFromTaggedObject(e)}static credentialFromError(e){return nu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return nu.credential(e.oauthAccessToken)}catch(e){return null}}}nu.FACEBOOK_SIGN_IN_METHOD="facebook.com",nu.PROVIDER_ID="facebook.com";class ru extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ya._fromParams({providerId:ru.PROVIDER_ID,signInMethod:ru.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ru.credentialFromTaggedObject(e)}static credentialFromError(e){return ru.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return ru.credential(t,n)}catch(e){return null}}}ru.GOOGLE_SIGN_IN_METHOD="google.com",ru.PROVIDER_ID="google.com";class iu extends tu{constructor(){super("github.com")}static credential(e){return Ya._fromParams({providerId:iu.PROVIDER_ID,signInMethod:iu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return iu.credentialFromTaggedObject(e)}static credentialFromError(e){return iu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return iu.credential(e.oauthAccessToken)}catch(e){return null}}}iu.GITHUB_SIGN_IN_METHOD="github.com",iu.PROVIDER_ID="github.com";class su extends tu{constructor(){super("twitter.com")}static credential(e,t){return Ya._fromParams({providerId:su.PROVIDER_ID,signInMethod:su.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return su.credentialFromTaggedObject(e)}static credentialFromError(e){return su.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return su.credential(t,n)}catch(e){return null}}}su.TWITTER_SIGN_IN_METHOD="twitter.com",su.PROVIDER_ID="twitter.com";class ou{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await pa._fromIdTokenResponse(e,n,r),s=au(n);return new ou({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=au(n);return new ou({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function au(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}async function uu(e){var t;const n=qa(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new ou({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await async function(e,t){return ta(e,"POST","/v1/accounts:signUp",Xo(e,t))}(n,{returnSecureToken:!0}),i=await ou._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}class cu extends Ne{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,cu.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new cu(e,t,n,r)}}function lu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw cu._fromErrorAndOperation(e,n,t,r);throw n}))}new WeakMap;const hu="__sak";class du{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hu,"1"),this.storage.removeItem(hu),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class fu extends du{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Re();return Ea(e)||ja(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Ca(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);!function(){const e=Re();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||10!==document.documentMode||i===e.newValue||e.newValue===e.oldValue?r():setTimeout(r,10)}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}fu.type="LOCAL";const pu=fu;class gu extends du{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}gu.type="SESSION";const mu=gu;class vu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new vu(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null==s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function yu(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}vu.receivers=[];class _u{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const u=yu("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===u)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function bu(){return window}function wu(){return void 0!==bu().WorkerGlobalScope&&"function"==typeof bu().importScripts}const Iu="firebaseLocalStorageDb",Eu="firebaseLocalStorage",Tu="fbase_key";class ku{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Pu(e,t){return e.transaction([Eu],t?"readwrite":"readonly").objectStore(Eu)}function Su(){const e=indexedDB.open(Iu,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Eu,{keyPath:Tu})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Eu)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Iu);return new ku(e).toPromise()}(),t(await Su()))}))}))}async function xu(e,t,n){const r=Pu(e,!0).put({[Tu]:t,value:n});return new ku(r).toPromise()}function ju(e,t){const n=Pu(e,!0).delete(t);return new ku(n).toPromise()}class Cu{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Su()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wu()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vu._getInstance(wu()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new _u(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Su();return await xu(e,hu,"1"),await ju(e,hu),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>xu(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Pu(e,!1).get(t),r=await new ku(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>ju(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Pu(e,!1).getAll();return new ku(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Cu.type="LOCAL";const Ru=Cu;Ma("rcb"),new Ko(3e4,6e4);class Ou{constructor(e){this.providerId=Ou.PROVIDER_ID,this.auth=qa(e)}verifyPhoneNumber(e,t){return async function(e,t,n){var r;const i=await n.verify();try{let s;if(qo("string"==typeof i,e,"argument-error"),qo("recaptcha"===n.type,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){qo("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Zo(e,"POST","/v2/accounts/mfaEnrollment:start",Xo(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{qo("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;qo(n,e,"missing-multi-factor-info");const o=await function(e,t){return Zo(e,"POST","/v2/accounts/mfaSignIn:start",Xo(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Zo(e,"POST","/v1/accounts:sendVerificationCode",Xo(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}(this.auth,e,et(t))}static credential(e,t){return Qa._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ou.credentialFromTaggedObject(t)}static credentialFromError(e){return Ou.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Qa._fromTokenResponse(t,n):null}}Ou.PROVIDER_ID="phone",Ou.PHONE_SIGN_IN_METHOD="phone";class Au extends Va{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $a(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $a(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $a(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Nu(e){return async function(e,t,n=!1){const r="signIn",i=await lu(e,r,t),s=await ou._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}(e.auth,new Au(e),e.bypassAuthState)}function Lu(e){const{auth:t,user:n}=e;return qo(n,t,"internal-error"),async function(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await ua(e,lu(r,i,t,e),n);qo(s.idToken,r,"internal-error");const o=aa(s.idToken);qo(o,r,"internal-error");const{sub:a}=o;return qo(e.uid===a,r,"user-mismatch"),ou._forOperation(e,i,s)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&Fo(r,"user-mismatch"),e}}(n,new Au(e),e.bypassAuthState)}async function Mu(e){const{auth:t,user:n}=e;return qo(n,t,"internal-error"),async function(e,t,n=!1){const r=await ua(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ou._forOperation(e,"link",r)}(n,new Au(e),e.bypassAuthState)}class Du{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Nu;case"linkViaPopup":case"linkViaRedirect":return Mu;case"reauthViaPopup":case"reauthViaRedirect":return Lu;default:Fo(this.auth,"internal-error")}}resolve(e){Bo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Fu=new Ko(2e3,1e4);class Uu extends Du{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Uu.currentPopupAction&&Uu.currentPopupAction.cancel(),Uu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qo(e,this.auth,"internal-error"),e}async onExecution(){Bo(1===this.filter.length,"Popup operations only handle one event");const e=yu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Uo(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Uo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Uo(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Fu.get())};e()}}Uu.currentPopupAction=null;const Gu="pendingRedirect",qu=new Map;class zu extends Du{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=qu.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return _a(Gu,e.config.apiKey,e.name)}(t),r=function(e){return ma(e._redirectPersistence)}(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}qu.set(this.auth._key(),e)}return this.bypassAuthState||qu.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Bu(e,t){qu.set(e._key(),t)}async function Wu(e,t,n=!1){const r=qa(e),i=function(e,t){return t?ma(t):(qo(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),s=new zu(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Vu{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ku(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ku(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Uo(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hu(e))}saveEventToCache(e){this.cachedEventUids.add(Hu(e)),this.lastProcessedEventTime=Date.now()}}function Hu(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ku({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const $u=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yu=/^https?/;function Ju(e){const t=Wo(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Yu.test(n))return!1;if($u.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Qu=new Ko(3e4,6e4);function Xu(){const e=bu().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let Zu=null;function ec(e){return Zu=Zu||function(e){return new Promise(((t,n)=>{var r,i,s;function o(){Xu(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Xu(),n(Uo(e,"network-request-failed"))},timeout:Qu.get()})}if(null===(i=null===(r=bu().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=bu().gapi)||void 0===s?void 0:s.load)){const t=Ma("iframefcb");return bu()[t]=()=>{gapi.load?o():n(Uo(e,"network-request-failed"))},La(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw Zu=null,e}))}(e),Zu}const tc=new Ko(5e3,15e3),nc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ic(e){const t=e.config;qo(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?$o(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:zt},i=rc.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${He(r).slice(1)}`}const sc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class oc{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const ac=encodeURIComponent("fac");async function uc(e,t,n,r,i,s){qo(e.config.authDomain,e,"auth-domain-config-required"),qo(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:zt,eventId:i};if(t instanceof eu){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",ze(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof tu){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const e of Object.keys(a))void 0===a[e]&&delete a[e];const u=await e._getAppCheckToken(),c=u?`#${ac}=${encodeURIComponent(u)}`:"";return`${function({config:e}){return e.emulator?$o(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${He(a).slice(1)}${c}`}const cc="webStorageSupport",lc=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mu,this._completeRedirectFn=Wu,this._overrideRedirectResult=Bu}async _openPopup(e,t,n,r){var i;return Bo(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},sc),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Re().toLowerCase();n&&(a=Ta(c)?"_blank":n),Ia(c)&&(t=t||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=Re()){var t;return ja(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new oc(null);const h=window.open(t||"",a,l);qo(h,e,"popup-blocked");try{h.focus()}catch(e){}return new oc(h)}(e,await uc(e,t,n,Wo(),r),yu())}async _openRedirect(e,t,n,r){return await this._originValidation(e),i=await uc(e,t,n,Wo(),r),bu().location.href=i,new Promise((()=>{}));var i}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Bo(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await ec(e),n=bu().gapi;return qo(n,e,"internal-error"),t.open({where:document.body,url:ic(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nc,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Uo(e,"network-request-failed"),s=bu().setTimeout((()=>{r(i)}),tc.get());function o(){bu().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}(e),n=new Vu(e);return t.register("authEvent",(t=>(qo(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(cc,{type:cc},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[cc];void 0!==i&&t(!!i),Fo(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return Zo(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(Ju(e))return}catch(e){}Fo(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ca()||Ea()||ja()}};var hc="@firebase/auth",dc="0.23.2";class fc{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qo(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const pc=je("authIdTokenMaxAge")||300;let gc=null;const mc=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>pc)return;const i=null==n?void 0:n.token;gc!==i&&(gc=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function vc(e=Wt()){const t=Ut(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Ut(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(We(n.getOptions(),null!=t?t:{}))return e;Fo(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:lc,persistence:[Ru,pu,mu]}),r=je("authTokenSyncURL");if(r){const e=mc(r);!function(e,t,n){et(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(t,n,r,i){et(t).onIdTokenChanged((t=>e(t)),void 0,void 0)}(n)}const i=Pe("auth");return i&&function(e,t,n){const r=qa(e);qo(r._canInitEmulator,r,"emulator-config-failed"),qo(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=Ba(t),{host:o,port:a}=function(e){const t=Ba(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Wa(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Wa(t)}}}(t),u=null===a?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${i}`),n}var yc;function _c(e){return _c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(e)}function bc(){bc=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var s=t&&t.prototype instanceof d?t:d,o=Object.create(s.prototype),a=new k(i||[]);return r(o,"_invoke",{value:w(e,n,a)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function d(){}function f(){}function p(){}var g={};u(g,s,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(P([])));v&&v!==t&&n.call(v,s)&&(g=v);var y=p.prototype=d.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,s,o,a){var u=l(e[r],e,s);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==_c(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,o,a)}),(function(e){i("throw",e,o,a)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,a)}))}a(u.arg)}var s;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return s=s?s.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,s){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw s;return{value:void 0,done:!0}}for(n.method=i,n.arg=s;;){var o=n.delegate;if(o){var a=I(o,n);if(a){if(a===h)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var s=i.arg;return s?s.done?(t[e.resultName]=s.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):s:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=u(p,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},_(b.prototype),u(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,s){void 0===s&&(s=Promise);var o=new b(c(t,n,r,i),s);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(y),u(y,a,"Generator"),u(y,s,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=P,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var a=n.call(s,"catchLoc"),u=n.call(s,"finallyLoc");if(a&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=e,o.arg=t,s?(this.method="next",this.next=s.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function wc(e,t,n,r,i,s,o){try{var a=e[s](o),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function Ic(e){return Ec.apply(this,arguments)}function Ec(){var e;return e=bc().mark((function e(t){var n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,v,y,_,b,w,I,E,T,k,P,S,x,j,C,R,O,A,N;return bc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.assetPaths,t.input,t.environment,t.title,t.version,n=X({minimum_valid_rt:100,override_safe_mode:!0,on_finish:function(){window.location="https://app.prolific.co/submissions/complete?cc=C4UR5YXC"}}),r=n.data.getURLVariable("PROLIFIC_PID"),i=n.data.getURLVariable("STUDY_ID"),s=n.data.getURLVariable("SESSION_ID"),n.data.addProperties({subject_id:r,study_id:i,session_id:s}),o=[],a=Bt({apiKey:"AIzaSyDRiXU9n0kSDKaRoMcp02_W4sfd-xrjADQ",authDomain:"bwlabsummer2022bridgerating.firebaseapp.com",databaseURL:"https://bwlabsummer2022bridgerating-default-rtdb.firebaseio.com",projectId:"bwlabsummer2022bridgerating",storageBucket:"bwlabsummer2022bridgerating.appspot.com",messagingSenderId:"357648218957",appId:"1:357648218957:web:1d91c083af04f494dc5504",measurementId:"G-79YVWTZZEZ"}),u=Oo(a),uu(c=vc()).catch((function(e){e.code,e.message})),o.push({type:ne,stimulus:"\n      <p>Welcome to the experiment!<p/>\n      <p>You can now press any key to proceed.</p>\n    \n    "}),o.push({type:ee,fullscreen_mode:!0}),l={type:ie,stimulus:'\n    <p>Before the experiemnt starts, we would like to have your consent. Click the button below will direct you to the consent form.<p/>\n    <p>Please read the consent form carefully and click <b>"I agree"</b> at the bottom of the form if you do decide to participate in this study.</p>\n  \n  ',choices:["Consent form"]},h={type:le,url:"assets/informed_consent/consent_form.html",cont_btn:"start",check_fn:function(e){return!!document.getElementById("consent_checkbox").checked||(alert("If you wish to participate, you must check the box next to the statement 'I agree to participate in this study.'"),!1)},data:{disp_type:"online_consent_form"}},o.push(l,h),o.push({type:ue,questions:[{prompt:"<p>Now, we kindly request participants to provide demographic information for the purpose of our study.</p> <p>What is your age?</p>",name:"age"},{prompt:"Are you left-handed or right-handed? Reply R or L",name:"handedness"},{prompt:"What is your gender identity?",name:"gender"},{prompt:"Are you wearing glasses (G) or contacts(C) or none of them (N)?",name:"vision"}]}),o.push({type:ue,questions:[{prompt:"Do you have a background in architecture? Reply Yes(Y) or No (N).",name:"art_exp1"},{prompt:"Do you have a formal education in architecture? Reply Yes(Y) or No (N).",name:"art_exp2"},{prompt:"Do you have a background in engineering?  Reply Yes(Y) or No (N).",name:"eng_exp1"},{prompt:"Do you have a formal education in engineering?  Reply Yes(Y) or No (N).",name:"eng_exp2"}]}),o.push({type:ne,stimulus:"\n      <p>In this experiment, you will see a series of bridge image. </p>\n      <p>Then, you will be ask to rate the image on <b>aesthetic pleasure</b>, <b>complexity</b>, <b>interest</b>, and <b>safety</b>.</p>\n      <p>Please indicate your rating by clicking on the scale under each bridge image. The experiment should take about 30 minutes. </p>\n      <p>Press any key to begin.</p>\n    ",post_trial_gap:100,choics:["space"]}),d=n.randomization.sampleWithoutReplacement(fe),f=["Strongly disagree","Disagree","Neutral","Agree","Strongly agree"],p=0;p<d.length;p++)g=d[p],m={type:oe,questions:[{prompt:"<img src='%img%'width=900><br><p>I find this bridge aesthetically appealing.</p>".replace("%img%",g),labels:f}],data:{stimulus:g},name:"aesthetic_rating_1"},v={type:oe,questions:[{prompt:"<img src='%img%'width=900><br>I find this bridge to be complex.".replace("%img%",g),labels:f}],data:{stimulus:g},name:"complexity_rating_1"},y={type:oe,questions:[{prompt:"<img src='%img%'width=900><br>I found this bridge to be interesting.".replace("%img%",g),labels:f}],data:{stimulus:g},name:"interest_rating_1"},_={type:oe,questions:[{prompt:"<img src='%img%'width=900><br>I find it safe to cross over this bridge.".replace("%img%",g),labels:f}],data:{stimulus:g},name:"safety_rating_1"},b={type:ne,stimulus:"You've reached a breakpoint. Please take a break. Once you're ready, press any key to resume."},p>0&&p%61==0&&o.push(b),w={type:de,trials:[m,v,y,_]},o.push(w,m,v,y,_);for(I=n.randomization.sampleWithoutReplacement(pe),E=0;E<I.length;E++)T=I[E],k={type:oe,questions:[{prompt:"<img src='%img%'width=900><br>I find this bridge aesthetically pleasing.".replace("%img%",T),labels:f}],data:{stimulus:T},name:"aesthetic_rating_2"},P={type:oe,questions:[{prompt:"<img src='%img%'width=900><br>I find this bridge to be complex.".replace("%img%",T),labels:f}],data:{stimulus:T},name:"complexity_rating_2"},S={type:oe,questions:[{prompt:"<img src='%img%'width=900><br>I find this image to be interesting.".replace("%img%",T),labels:f}],data:{stimulus:T},name:"interest_rating_2"},x={type:oe,questions:[{prompt:"<img src='%img%'width=900><br>I find it safe to cross over this bridge.".replace("%img%",T),labels:f}],data:{stimulus:T},name:"safety_rating_2"},j={type:ne,stimulus:"You've reached a breakpoint. Please take a break. Once you're ready, press any key to resume."},E>0&&E%61==0&&o.push(j),C={type:de,trials:[k,P,S,x]},o.push(C,k,P,S,x);return R={type:ne,stimulus:"<p> Saving data, please stay at this page and wait for further instructions.</p> ",post_trial_gap:2e3,choices:null,trial_duration:2e3,on_finish:function(){var e=new Uint32Array(1);e=window.crypto.getRandomValues(e);var t=c.currentUser.uid+"/"+e;xo(So(u,t),{data:n.data.get().values(),study:"2023Summer_Bridge_Rating_Pilot",date:Date()})}},O={type:ne,stimulus:"<p> Congratulations! You've completed the entire expeirment. Now, please press any key to the debriefing page.",post_trial_gap:500,choices:null},A={type:ne,stimulus:"\n    <p>Thank you for participating in our bridge image rating experiment.  The purpose of this study was to investigate the aesthetic aspects of various bridges and understand what makes them visually appealing to individuals like yourself. <p/>\n    <p>The findings from this research have the potential to contribute to the design of better bridges and assist in environmental impact studies within the engineering field.</p>\n    <p>We greatly appreciate your time and contribution to this study.</p>\n    <p>If you have any questions or concerns, please feel free to reach out to Dr. Dirk Bernhardt-Walther at bernhardt-walther@psych.utoronto.ca.<p>\n  \n  "},N={type:ne,stimulus:"<p> Thanks for participating in the experiment. Goodbye! </p> ",post_trial_gap:500,choices:null,trial_duration:1e3},o.push(R,O,A,N),e.next=36,n.run(o);case 36:case"end":return e.stop()}}),e)})),Ec=function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function o(e){wc(s,r,i,o,a,"next",e)}function a(e){wc(s,r,i,o,a,"throw",e)}o(void 0)}))},Ec.apply(this,arguments)}function Tc(e){return Tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(e)}function kc(){kc=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var s=t&&t.prototype instanceof d?t:d,o=Object.create(s.prototype),a=new k(i||[]);return r(o,"_invoke",{value:w(e,n,a)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function d(){}function f(){}function p(){}var g={};u(g,s,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(P([])));v&&v!==t&&n.call(v,s)&&(g=v);var y=p.prototype=d.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,s,o,a){var u=l(e[r],e,s);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==Tc(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,o,a)}),(function(e){i("throw",e,o,a)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,a)}))}a(u.arg)}var s;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return s=s?s.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,s){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw s;return{value:void 0,done:!0}}for(n.method=i,n.arg=s;;){var o=n.delegate;if(o){var a=I(o,n);if(a){if(a===h)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var s=i.arg;return s?s.done?(t[e.resultName]=s.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):s:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=u(p,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},_(b.prototype),u(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,s){void 0===s&&(s=Promise);var o=new b(c(t,n,r,i),s);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(y),u(y,a,"Generator"),u(y,s,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=P,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var a=n.call(s,"catchLoc"),u=n.call(s,"finallyLoc");if(a&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=e,o.arg=t,s?(this.method="next",this.next=s.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function Pc(e,t,n,r,i,s,o){try{var a=e[s](o),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function Sc(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function o(e){Pc(s,r,i,o,a,"next",e)}function a(e){Pc(s,r,i,o,a,"throw",e)}o(void 0)}))}}function xc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xc(Object(n),!0).forEach((function(t){Cc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Tc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Tc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Tc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}yc="Browser",Ft(new tt("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;qo(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const a={apiKey:s,authDomain:o,clientPlatform:yc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ra(yc)},u=new Ga(n,r,i,a);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ma);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(u,t),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Ft(new tt("auth-internal",(e=>{return t=qa(e.getProvider("auth").getImmediate()),new fc(t);var t}),"PRIVATE").setInstantiationMode("EXPLICIT")),Vt(hc,dc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(yc)),Vt(hc,dc,"esm2017");var Rc={assetPaths:{images:["assets/informed_consent/background1.jpg","assets/informed_consent/background2.jpg","assets/rating_stimuli/130918 311 05.jpeg","assets/rating_stimuli/130918 311 07.jpeg","assets/rating_stimuli/130918 311 09.jpeg","assets/rating_stimuli/130918 314 05.jpeg","assets/rating_stimuli/131117 315 10.jpeg","assets/rating_stimuli/131117 316 06.jpeg","assets/rating_stimuli/131117 316 08.jpeg","assets/rating_stimuli/131117 321 10.jpeg","assets/rating_stimuli/140923 325 06.jpeg","assets/rating_stimuli/140923 325 08.jpeg","assets/rating_stimuli/140927 329 07.jpeg","assets/rating_stimuli/140927 329 08.jpeg","assets/rating_stimuli/140929 332 07.jpeg","assets/rating_stimuli/140929 332 09.jpeg","assets/rating_stimuli/140929 333 01.jpeg","assets/rating_stimuli/150514 338 10.jpeg","assets/rating_stimuli/150514 339 08.jpeg","assets/rating_stimuli/150518 347 07.jpeg","assets/rating_stimuli/150518 348 10.jpeg","assets/rating_stimuli/151201 362 10.jpeg","assets/rating_stimuli/151201 363 04.jpeg","assets/rating_stimuli/160509 368 10.jpeg","assets/rating_stimuli/160509 369 01.jpeg","assets/rating_stimuli/160509 369 04.jpeg","assets/rating_stimuli/160509 369 05.jpeg","assets/rating_stimuli/180501 387 04.jpeg","assets/rating_stimuli/180501 387 06.jpeg","assets/rating_stimuli/180610 392 06.jpeg","assets/rating_stimuli/180610 392 07.jpeg","assets/rating_stimuli/180621 397 08.jpeg","assets/rating_stimuli/180621 398 03.jpeg","assets/rating_stimuli/180810 403 08.jpeg","assets/rating_stimuli/180810 404 05.jpeg","assets/rating_stimuli/180813 405 09.jpeg","assets/rating_stimuli/180813 407 06.jpeg","assets/rating_stimuli/180814 407 10.jpeg","assets/rating_stimuli/180814 408 01.jpeg","assets/rating_stimuli/180814 408 04.jpeg","assets/rating_stimuli/180814 408 06.jpeg","assets/rating_stimuli/181214 410 01.jpeg","assets/rating_stimuli/181214 410 04.jpeg","assets/rating_stimuli/181214 411 01.jpeg","assets/rating_stimuli/181214 411 08.jpeg","assets/rating_stimuli/181214 412 04.jpeg","assets/rating_stimuli/181214 412 06.jpeg","assets/rating_stimuli/190415 413 01.jpeg","assets/rating_stimuli/190415 413 04.jpeg","assets/rating_stimuli/190418 417 05.jpeg","assets/rating_stimuli/190609 421 01.jpeg","assets/rating_stimuli/190609 421 07.jpeg","assets/rating_stimuli/190609 422 10.jpeg","assets/rating_stimuli/190609 423 06.jpeg","assets/rating_stimuli/280 12 05 01 0002.jpeg","assets/rating_stimuli/281 12 05 01 0003.jpeg","assets/rating_stimuli/281 12 05 01 0010.jpeg","assets/rating_stimuli/283 12 05 01 0003.jpeg","assets/rating_stimuli/284 12 05 05 0001.jpeg","assets/rating_stimuli/284 12 05 05 0008.jpeg","assets/rating_stimuli/291 12 06 14 0006.jpeg","assets/rating_stimuli/292 12 06 14 0006.jpeg","assets/rating_stimuli/301 12 09 20 07.jpeg","assets/rating_stimuli/301 12 09 20 09.jpeg","assets/rating_stimuli/304 12 09 20 01.jpeg","assets/rating_stimuli/304 12 09 20 05.jpeg","assets/rating_stimuli/304 12 09 20 09.jpeg","assets/rating_stimuli/305 12 09 20 01.jpeg","assets/rating_stimuli/306 12 09 20 01.jpeg","assets/rating_stimuli/306 12 09 20 07.jpeg","assets/rating_stimuli/306 12 09 20 09.jpeg","assets/rating_stimuli/306 12 09 20 10.jpeg","assets/rating_stimuli/434 210912 03.jpeg","assets/rating_stimuli/438 220917 07.jpeg","assets/rating_stimuli/438 220917 09.jpeg","assets/rating_stimuli/439 220920 04.jpeg","assets/rating_stimuli/439 220920 07.jpeg","assets/rating_stimuli/440 220926 06.jpeg","assets/rating_stimuli/442 220928 01.jpeg","assets/rating_stimuli/442 220928 05.jpeg","assets/rating_stimuli/446 221203 03.jpeg","assets/rating_stimuli/446 221203 04.jpeg","assets/rating_stimuli/446 221203 09.jpeg","assets/rating_stimuli/446 221203 10.jpeg","assets/rating_stimuli/449 221204 04.jpeg","assets/rating_stimuli/BQECR 2.jpeg","assets/rating_stimuli/BQECR 5.jpeg","assets/rating_stimuli/Hobrigg Switzerland 1.jpeg","assets/rating_stimuli/Hobrigg Switzerland 3.jpeg","assets/rating_stimuli/IMG_1017.jpeg","assets/rating_stimuli/IMG_1561.jpeg","assets/rating_stimuli/IMG_1849.jpeg","assets/rating_stimuli/IMG_1858.jpeg","assets/rating_stimuli/IMG_2833.jpeg","assets/rating_stimuli/IMG_2835.jpeg","assets/rating_stimuli/IMG_3833.jpeg","assets/rating_stimuli/IMG_3836.jpeg","assets/rating_stimuli/IMG_8438.jpeg","assets/rating_stimuli/IMG_8761.jpeg","assets/rating_stimuli/IMG_8767.jpeg","assets/rating_stimuli/IMG_8847.jpeg","assets/rating_stimuli/IMG_8851.jpeg","assets/rating_stimuli/IMG_8862.jpeg","assets/rating_stimuli/IMG_9188.jpeg","assets/rating_stimuli/IMG_9190.jpeg","assets/rating_stimuli/IMG_9194.jpeg","assets/rating_stimuli/IMG_9203.jpeg","assets/rating_stimuli/IMG_9238.jpeg","assets/rating_stimuli/IMG_9240.jpeg","assets/rating_stimuli/P4180746.jpeg","assets/rating_stimuli/P9121818.jpeg","assets/rating_stimuli/P9121820.jpeg","assets/rating_stimuli/P9121832.jpeg","assets/rating_stimuli/P9121835.jpeg","assets/rating_stimuli/P9121838.jpeg","assets/rating_stimuli/P9281055.jpeg","assets/rating_stimuli/P9281057.jpeg","assets/rating_stimuli/P9290012.jpeg","assets/rating_stimuli/P9290019.jpeg","assets/rating_stimuli/PB272272.jpeg","assets/rating_stimuli/PB272275.jpeg","assets/rating_stimuli/PC081393.jpeg","assets/rating_stimuli/PC081394.jpeg","assets/rating_stimuli/PC081397.jpeg","assets/rating_stimuli/PC091410.jpeg","assets/rating_stimuli/PC130318.jpeg","assets/rating_stimuli/PC130349.jpeg","assets/rating_stimuli/PC130351.jpeg","assets/rating_stimuli/PC130359.jpeg","assets/rating_stimuli/PC130374.jpeg","assets/rating_stimuli/PC130387.jpeg","assets/rating_stimuli/PC150535.jpeg","assets/rating_stimuli/PC150537.jpeg","assets/rating_stimuli/PC150540.jpeg","assets/rating_stimuli/PC150557.jpeg","assets/rating_stimuli/PG 120 090205 Roll 0019 Frame 1.jpeg","assets/rating_stimuli/PG 120 090205 Roll 0019 Frame 2.jpeg","assets/rating_stimuli/PG 120 090205 Roll 0019 Frame 5.jpeg","assets/rating_stimuli/PG 120 090219 Roll 0027 Frame 1.jpeg","assets/rating_stimuli/PG 120 090219 Roll 0027 Frame 2.jpeg","assets/rating_stimuli/PG 120 090219 Roll 0027 Frame 7.jpeg","assets/rating_stimuli/PG 120 090219 Roll 0027 Frame 9.jpeg","assets/rating_stimuli/PG 120 090221 Roll 0032 Frame 1.jpeg","assets/rating_stimuli/PG 120 090221 Roll 0032 Frame 3.jpeg","assets/rating_stimuli/PG 120 090317 Roll 0050 Frame 2.jpeg","assets/rating_stimuli/PG 120 090317 Roll 0051 Frame 10.jpeg","assets/rating_stimuli/PG 120 090512 Roll 00067 Frame 5.jpeg","assets/rating_stimuli/PG 120 090516 Roll 00079 Frame 8.jpeg","assets/rating_stimuli/PG 120 090516 Roll 00079 Frame 9.jpeg","assets/rating_stimuli/PG 120 090516 Roll 00080 Frame 3.jpeg","assets/rating_stimuli/PG 120 090516 Roll 00080 Frame 7.jpeg","assets/rating_stimuli/PG 120 090518 Roll 0098 Frame 3.jpeg","assets/rating_stimuli/PG 120 090518 Roll 0098 Frame 4.jpeg","assets/rating_stimuli/PG 120 090608 Roll 00121 Frame 10.jpeg","assets/rating_stimuli/PG 120 090623 Roll 00123 Frame 1.jpeg","assets/rating_stimuli/PG 120 090623 Roll 00123 Frame 7.jpeg","assets/rating_stimuli/PG 120 090624 Roll 00126 Frame 5.jpeg","assets/rating_stimuli/PG 120 090624 Roll 00126 Frame 6.jpeg","assets/rating_stimuli/PG 120 090624 Roll 00133 Frame 7.jpeg","assets/rating_stimuli/PG 120 090624 Roll 00133 Frame 8.jpeg","assets/rating_stimuli/PG 120 090624 Roll 00134 Frame 1.jpeg","assets/rating_stimuli/PG 120 090624 Roll 00134 Frame 2.jpeg","assets/rating_stimuli/PG 120 090625 Roll 00135 Frame 7.jpeg","assets/rating_stimuli/PG 120 090625 Roll 00137 Frame 2.jpeg","assets/rating_stimuli/PG 120 090802 Roll 00157 Frame 4.jpeg","assets/rating_stimuli/PG 120 090802 Roll 00157 Frame 6.jpeg","assets/rating_stimuli/PG 120 090829 Roll 00158 Frame 1.jpeg","assets/rating_stimuli/PG 120 090829 Roll 00158 Frame 8.jpeg","assets/rating_stimuli/PG 120 091010 Roll 00159 Frame 6.jpeg","assets/rating_stimuli/PG 120 091010 Roll 00159 Frame 7.jpeg","assets/rating_stimuli/PG 120 091010 Roll 00161 Frame 2.jpeg","assets/rating_stimuli/PG 120 091010 Roll 00162 Frame 2.jpeg","assets/rating_stimuli/PG 120 100515 Roll 00188 Frame 2.jpeg","assets/rating_stimuli/PG 120 100515 Roll 00188 Frame 4.jpeg","assets/rating_stimuli/PG 120 100529 Roll 00189 Frame 8.jpeg","assets/rating_stimuli/PG 120 100529 Roll 00191 Frame 6.jpeg","assets/rating_stimuli/PG 120 100529 Roll 00192 Frame 1.jpeg","assets/rating_stimuli/PG 120 100529 Roll 00192 Frame 10.jpeg","assets/rating_stimuli/PG 120 100529 Roll 00193 Frame 10.jpeg","assets/rating_stimuli/PG 120 100529 Roll 00193 Frame 8.jpeg","assets/rating_stimuli/PG 120 100802 Roll 00207 Frame 10.jpeg","assets/rating_stimuli/PG 120 100802 Roll 00207 Frame 2.jpeg","assets/rating_stimuli/PG 120 110601 Roll 00242 Frame 2.jpeg","assets/rating_stimuli/PG 120 110601 Roll 00243 Frame 10.jpeg","assets/rating_stimuli/PG 120 110612 Roll 00247 Frame 4.jpeg","assets/rating_stimuli/PG 120 110612 Roll 00250 Frame 1.jpeg","assets/rating_stimuli/PG 120 110703 Roll 00259 Frame 3.jpeg","assets/rating_stimuli/PG 120 110703 Roll 00259 Frame 5.jpeg","assets/rating_stimuli/PG 120 140929 Roll 00332 Frame 10 (1).jpeg","assets/rating_stimuli/PG 2003 09 00805.jpeg","assets/rating_stimuli/PG 2003 09 00817.jpeg","assets/rating_stimuli/PG 2004 04 00429.jpeg","assets/rating_stimuli/PG 2004 04 00441.jpeg","assets/rating_stimuli/PG 2004 09 01184.jpeg","assets/rating_stimuli/PG 2005 05 00216.jpeg","assets/rating_stimuli/PG 2005 05 00227.jpeg","assets/rating_stimuli/PG 2005 10 00729.jpeg","assets/rating_stimuli/PG 2005 10 00747.jpeg","assets/rating_stimuli/PG 2005 10 00750.jpeg","assets/rating_stimuli/PG 2007 07 00622.jpeg","assets/rating_stimuli/PG 2007 07 00655.jpeg","assets/rating_stimuli/PG 2007 07 00941.jpeg","assets/rating_stimuli/PG 2007 07 00952.jpeg","assets/rating_stimuli/PG 2007-07-20 0366.jpeg","assets/rating_stimuli/PG 2007-07-20 0373.jpeg","assets/rating_stimuli/PG 2007-07-20 0375.jpeg","assets/rating_stimuli/PG 2007-07-20 0407.jpeg","assets/rating_stimuli/PG 2007-07-20 0434.jpeg","assets/rating_stimuli/PG 2007-07-22 0481.jpeg","assets/rating_stimuli/PG 2007-07-24 0521.jpeg","assets/rating_stimuli/PG 2007-07-24 0530.jpeg","assets/rating_stimuli/PG 2007-08-26 1490.jpeg","assets/rating_stimuli/PG 2007-08-26 1523.jpeg","assets/rating_stimuli/PG 2007-10-06 1671.jpeg","assets/rating_stimuli/PG 2007-10-06 1673.jpeg","assets/rating_stimuli/PG 2007-10-06 1689.jpeg","assets/rating_stimuli/PG 2008 02 00419.jpeg","assets/rating_stimuli/PG 2008 02 00483.jpeg","assets/rating_stimuli/PG 2008 02 00936.jpeg","assets/rating_stimuli/PG 2008 02 00946.jpeg","assets/rating_stimuli/PG 2008 02 01138.jpeg","assets/rating_stimuli/PG 2008 02 01220.jpeg","assets/rating_stimuli/PG 2008 02 01255.jpeg","assets/rating_stimuli/PG 2008 02 01270.jpeg","assets/rating_stimuli/PG 2008 02 01289.jpeg","assets/rating_stimuli/PG 2008 02 01323.jpeg","assets/rating_stimuli/PG 2008 03 01534.jpeg","assets/rating_stimuli/PG 2008 03 01549.jpeg","assets/rating_stimuli/PG 2008 05 01859.jpeg","assets/rating_stimuli/PG 2008 06 01975.jpeg","assets/rating_stimuli/PG 2008 06 02022.jpeg","assets/rating_stimuli/PG 2008 06 02028.jpeg","assets/rating_stimuli/PG 2008 06 02099.jpeg","assets/rating_stimuli/PG 2008 06 02101.jpeg","assets/rating_stimuli/PG 2008 06 02181.jpeg","assets/rating_stimuli/PG 2008 06 02195.jpeg","assets/rating_stimuli/PG 2008 06 02373.jpeg","assets/rating_stimuli/PG 2008 06 02392.jpeg","assets/rating_stimuli/PG 2008 07 02805.jpeg","assets/rating_stimuli/PG 2008 07 02842.jpeg","assets/rating_stimuli/PG 2008 07 02939.jpeg","assets/rating_stimuli/PG 2008 07 02954.jpeg","assets/rating_stimuli/PG 2008-09-19 03635.jpeg","assets/rating_stimuli/PG 2008-12-26 06471.jpeg","assets/rating_stimuli/PG 2009-05-04 00778.jpeg","assets/rating_stimuli/PG 2009-05-04 00826.jpeg","assets/rating_stimuli/Rocky Creek 1.jpeg","assets/rating_stimuli/Rocky Creek 4.jpeg"],audio:[],video:[],misc:["assets/informed_consent/consent_form.html","assets/informed_consent/consent_form.pdf"]},title:"bridge_rating_experiment",version:"0.1.0"};"undefined"==typeof jatos?Ic(jc({environment:"production"},Rc)).then((function(e){e&&e.data.displayData()})):jatos.onLoad(Sc(kc().mark((function e(){var t;return kc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ic(jc({environment:"jatos",input:jatos.studyJsonInput},Rc));case 2:(t=e.sent)&&jatos.submitResultData(t.data.get().json(),jatos.startNextComponent);case 4:case"end":return e.stop()}}),e)}))))}()}();